var qh=Object.defineProperty;var a=(fe,c)=>qh(fe,"name",{value:c,configurable:!0});(()=>{var __webpack_modules__={850:(fe,c,E)=>{"use strict";E.r(c),E.d(c,{AppInsightsCore:()=>tt,BaseCore:()=>yn,BaseTelemetryPlugin:()=>er.i,CoreUtils:()=>Q.Tr,DiagnosticLogger:()=>Ne.AQ,ESPromise:()=>q,ESPromiseScheduler:()=>zn,EventHelper:()=>Pr.zB,EventLatency:()=>T,EventPersistence:()=>b,EventPropertyType:()=>d,EventsDiscardedReason:()=>$r.h,FullVersionString:()=>Q.vs,InternalAppInsightsCore:()=>lt.F,InternalBaseCore:()=>Kt.A,LoggingSeverity:()=>w.X,MinChannelPriorty:()=>mr,NotificationManager:()=>fr.f,PerfEvent:()=>He.zn,PerfManager:()=>He.Jk,ProcessTelemetryContext:()=>dr.Vi,TraceLevel:()=>x,Undefined:()=>br.jA,Utils:()=>Q.cQ,ValueKind:()=>R,ValueSanitizer:()=>ar,Version:()=>Q.Gf,_ExtendedInternalMessageId:()=>_,_InternalLogMessage:()=>Ne.lQ,_InternalMessageId:()=>w.v,__getRegisteredEvents:()=>Cn.um,_logInternalMessage:()=>Ne.L4,_throwInternal:()=>Ne.kP,_warnToConsole:()=>Ne.jV,addEventHandler:()=>Cn.Ib,addEventListeners:()=>Cn.yw,addPageHideEventListener:()=>Cn.TJ,addPageShowEventListener:()=>Cn.nD,addPageUnloadEventListener:()=>Cn.c9,areCookiesSupported:()=>Sr.p7,arrForEach:()=>y.tO,arrIndexOf:()=>y.UA,arrMap:()=>y.Mr,arrReduce:()=>y.Xz,attachEvent:()=>Cn.pZ,cookieAvailable:()=>Sr.p7,createCookieMgr:()=>Sr.Nz,createEnumStyle:()=>p.By,createGuid:()=>Q.cm,createProcessTelemetryContext:()=>dr.CD,createTraceParent:()=>or.SU,createUniqueNamespace:()=>hi.J,createUnloadHandlerContainer:()=>Jr.Y,dateNow:()=>y.m6,deleteCookie:()=>Q.kT,detachEvent:()=>Cn.pD,disableCookies:()=>Q.oF,disallowsSameSiteNone:()=>Sr.UY,doPerf:()=>He.Lm,dumpObj:()=>et.eU,eventOff:()=>Cn.QY,eventOn:()=>Cn.XO,extend:()=>Q.l7,findW3cTraceParent:()=>or.lq,formatTraceParent:()=>or.aR,generateW3CId:()=>Pr.DO,getCommonSchemaMetaData:()=>Q.Vv,getConsole:()=>et.dr,getCookie:()=>Q.ej,getCookieValue:()=>Q.Do,getCrypto:()=>et.MX,getDocument:()=>et.Me,getExceptionName:()=>y.jj,getFieldValueType:()=>Q.Sy,getGlobal:()=>ve.Rd,getGlobalInst:()=>et.a8,getHistory:()=>et.s1,getIEVersion:()=>et.sA,getISOString:()=>y.Y6,getJSON:()=>et.xA,getLocation:()=>et.k$,getMsCrypto:()=>et.gz,getNavigator:()=>et.jW,getPerformance:()=>et.r,getSetValue:()=>y.qK,getTenantId:()=>Q.jM,getTime:()=>Q.hK,getWindow:()=>et.Jj,hasDocument:()=>et.Nv,hasHistory:()=>et.fE,hasJSON:()=>et.nS,hasNavigator:()=>et.d6,hasOwnProperty:()=>y.nr,hasWindow:()=>et.Ym,isArray:()=>y.kJ,isArrayValid:()=>Q.JT,isBeaconsSupported:()=>et.MF,isBoolean:()=>y.jn,isChromium:()=>Q.mJ,isDate:()=>y.J_,isDocumentObjectAvailable:()=>Q.x9,isError:()=>y.VZ,isFetchSupported:()=>et.JO,isFunction:()=>y.mf,isIE:()=>et.w1,isLatency:()=>Q.r7,isNotTruthy:()=>y.F,isNullOrUndefined:()=>y.le,isNumber:()=>y.hj,isObject:()=>y.Kn,isReactNative:()=>et.b$,isSampledFlag:()=>or.Pn,isString:()=>y.HD,isTruthy:()=>y.fQ,isTypeof:()=>y.Ym,isUint8ArrayAvailable:()=>Q.IZ,isUndefined:()=>y.o8,isValidSpanId:()=>or.Lc,isValidTraceId:()=>or.jN,isValidTraceParent:()=>or.J6,isValueAssigned:()=>Q.Sn,isValueKind:()=>Q.oS,isWindowObjectAvailable:()=>Q.dH,isXhrSupported:()=>et.Z3,mergeEvtNamespace:()=>Cn.jU,newGuid:()=>Pr.GW,newId:()=>qn.pZ,normalizeJsName:()=>y.Gf,objCreate:()=>ve.pu,objDefineAccessors:()=>y.l_,objForEachKey:()=>y.rW,objFreeze:()=>y.FL,objKeys:()=>y.FY,objSeal:()=>y.Xi,openXhr:()=>Q.ot,optimizeObject:()=>y.Ax,parseTraceParent:()=>or.j_,perfNow:()=>Pr.Jj,proxyAssign:()=>y.cf,proxyFunctionAs:()=>y.Oi,proxyFunctions:()=>y.Vb,random32:()=>qn._l,randomValue:()=>qn.az,removeEventHandler:()=>Cn.C1,removeEventListeners:()=>Cn.nJ,removePageHideEventListener:()=>Cn.C9,removePageShowEventListener:()=>Cn.Yl,removePageUnloadEventListener:()=>Cn.JA,safeGetCookieMgr:()=>Sr.JP,safeGetLogger:()=>Ne.vH,sanitizeProperty:()=>Q.yj,setCookie:()=>Q.d8,setEnableEnvMocks:()=>et.dI,setProcessTelemetryTimings:()=>Q.if,setValue:()=>y.sO,strContains:()=>y._Q,strEndsWith:()=>y.Id,strFunction:()=>br.cb,strObject:()=>br.fK,strPrototype:()=>br.hB,strStartsWith:()=>y.xe,strTrim:()=>y.nd,strUndefined:()=>br.jA,throwError:()=>y._y,toISOString:()=>y.Y6,useXDomainRequest:()=>et.cp});var v=E(1088),p=E(4873),y=E(6708),w=E(7310),R=(0,p.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),T=(0,p.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),d=(0,p.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),b=(0,p.By)({Normal:1,Critical:2}),x=(0,p.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),_=(0,y.FL)((0,v.uc)((0,v.uc)({},w.v),(0,p.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})));/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var S,U="undefined",I="constructor",V="prototype",j="function",le="_dynInstFuncs",L="_isDynProxy",H="_dynClass",B="_dynCls$",A="_dynInstChk",k=A,$="_dfOpts",te="_unknown_",J="__proto__",ne="_dyn"+J,ce="__dynProto$Gbl",be="_dynInstProto",ie="useBaseInst",_e="setInstFuncs",z=Object,Ve=z.getPrototypeOf,Se=z.getOwnPropertyNames;function de(){var W;return typeof globalThis!==U&&(W=globalThis),!W&&typeof self!==U&&(W=self),!W&&typeof window!==U&&(W=window),!W&&typeof E.g!==U&&(W=E.g),W||{}}a(de,"_getGlobal");var Z=de(),se=Z[ce]||(Z[ce]={o:(S={},S[_e]=!0,S[ie]=!0,S),n:1e3});function Te(W,ye){return W&&z[V].hasOwnProperty.call(W,ye)}a(Te,"_hasOwnProperty");function Oe(W){return W&&(W===z[V]||W===Array[V])}a(Oe,"_isObjectOrArrayPrototype");function re(W){return Oe(W)||W===Function[V]}a(re,"_isObjectArrayOrFunctionPrototype");function Ge(W){var ye;if(W){if(Ve)return Ve(W);var Pe=W[J]||W[V]||(W[I]?W[I][V]:null);ye=W[ne]||Pe,Te(W,ne)||(delete W[be],ye=W[ne]=W[be]||W[ne],W[be]=Pe)}return ye}a(Ge,"_getObjProto");function Xe(W,ye){var Pe=[];if(Se)Pe=Se(W);else for(var ze in W)typeof ze=="string"&&Te(W,ze)&&Pe.push(ze);if(Pe&&Pe.length>0)for(var ot=0;ot<Pe.length;ot++)ye(Pe[ot])}a(Xe,"_forEachProp");function st(W,ye,Pe){return ye!==I&&typeof W[ye]===j&&(Pe||Te(W,ye))}a(st,"_isDynamicCandidate");function G(W){throw new TypeError("DynamicProto: "+W)}a(G,"_throwTypeError");function ee(W){var ye={};return Xe(W,function(Pe){!ye[Pe]&&st(W,Pe,!1)&&(ye[Pe]=W[Pe])}),ye}a(ee,"_getInstanceFuncs");function ae(W,ye){for(var Pe=W.length-1;Pe>=0;Pe--)if(W[Pe]===ye)return!0;return!1}a(ae,"_hasVisited");function we(W,ye,Pe,ze){function ot(Ut,un,St){var qt=un[St];if(qt[L]&&ze){var Zt=Ut[le]||{};Zt[k]!==!1&&(qt=(Zt[un[H]]||{})[St]||qt)}return function(){return qt.apply(Ut,arguments)}}a(ot,"_instFuncProxy");var nt={};Xe(Pe,function(Ut){nt[Ut]=ot(ye,Pe,Ut)});for(var wt=Ge(W),Rt=[];wt&&!re(wt)&&!ae(Rt,wt);)Xe(wt,function(Ut){!nt[Ut]&&st(wt,Ut,!Ve)&&(nt[Ut]=ot(ye,wt,Ut))}),Rt.push(wt),wt=Ge(wt);return nt}a(we,"_getBaseFuncs");function Me(W,ye,Pe,ze){var ot=null;if(W&&Te(Pe,H)){var nt=W[le]||{};if(ot=(nt[Pe[H]]||{})[ye],ot||G("Missing ["+ye+"] "+j),!ot[A]&&nt[k]!==!1){for(var wt=!Te(W,ye),Rt=Ge(W),Ut=[];wt&&Rt&&!re(Rt)&&!ae(Ut,Rt);){var un=Rt[ye];if(un){wt=un===ze;break}Ut.push(Rt),Rt=Ge(Rt)}try{wt&&(W[ye]=ot),ot[A]=1}catch(St){nt[k]=!1}}}return ot}a(Me,"_getInstFunc");function Be(W,ye,Pe){var ze=ye[W];return ze===Pe&&(ze=Ge(ye)[W]),typeof ze!==j&&G("["+W+"] is not a "+j),ze}a(Be,"_getProtoFunc");function pe(W,ye,Pe,ze,ot){function nt(Ut,un){var St=a(function(){var qt=Me(this,un,Ut,St)||Be(un,Ut,St);return qt.apply(this,arguments)},"dynProtoProxy");return St[L]=1,St}if(a(nt,"_createDynamicPrototype"),!Oe(W)){var wt=Pe[le]=Pe[le]||{},Rt=wt[ye]=wt[ye]||{};wt[k]!==!1&&(wt[k]=!!ot),Xe(Pe,function(Ut){st(Pe,Ut,!1)&&Pe[Ut]!==ze[Ut]&&(Rt[Ut]=Pe[Ut],delete Pe[Ut],(!Te(W,Ut)||W[Ut]&&!W[Ut][L])&&(W[Ut]=nt(W,Ut)))})}}a(pe,"_populatePrototype");function De(W,ye){if(Ve){for(var Pe=[],ze=Ge(ye);ze&&!re(ze)&&!ae(Pe,ze);){if(ze===W)return!0;Pe.push(ze),ze=Ge(ze)}return!1}return!0}a(De,"_checkPrototype");function ke(W,ye){return Te(W,V)?W.name||ye||te:((W||{})[I]||{}).name||ye||te}a(ke,"_getObjName");function Ze(W,ye,Pe,ze){Te(W,V)||G("theClass is an invalid class definition.");var ot=W[V];De(ot,ye)||G("["+ke(W)+"] not in hierarchy of ["+ke(ye)+"]");var nt=null;Te(ot,H)?nt=ot[H]:(nt=B+ke(W,"_")+"$"+se.n,se.n++,ot[H]=nt);var wt=Ze[$],Rt=!!wt[ie];Rt&&ze&&ze[ie]!==void 0&&(Rt=!!ze[ie]);var Ut=ee(ye),un=we(ot,ye,Ut,Rt);Pe(ye,un);var St=!!Ve&&!!wt[_e];St&&ze&&(St=!!ze[_e]),pe(ot,nt,ye,Ut,St!==!1)}a(Ze,"dynamicProto"),Ze[$]=se.o;var Ne=E(5018),He=E(9288),et=E(7630),lt=E(5121),Ie=E(7984),Q=E(3599),X=function(W){(0,v.ne)(ye,W);function ye(){var Pe=W.call(this)||this;return Pe.pluginVersionStringArr=[],Ze(ye,Pe,function(ze,ot){(!ze.logger||!ze.logger.queue)&&(ze.logger=new Ne.AQ({loggingLevelConsole:1})),ze.initialize=function(nt,wt,Rt,Ut){(0,He.Lm)(ze,function(){return"AppInsightsCore.initialize"},function(){var un=ze.pluginVersionStringArr;if(nt){nt.endpointUrl||(nt.endpointUrl=Ie.YT);var St=nt.propertyStorageOverride;St&&(!St.getProperty||!St.setProperty)&&(0,y._y)("Invalid property storage override passed."),nt.channels&&(0,y.tO)(nt.channels,function(Qt){Qt&&(0,y.tO)(Qt,function(kt){if(kt.identifier&&kt.version){var In=kt.identifier+"="+kt.version;un.push(In)}})})}ze.getWParam=function(){return typeof document!="undefined"||!!nt.enableWParam?0:-1},wt&&(0,y.tO)(wt,function(Qt){if(Qt&&Qt.identifier&&Qt.version){var kt=Qt.identifier+"="+Qt.version;un.push(kt)}}),ze.pluginVersionString=un.join(";"),ze.pluginVersionStringArr=un;try{ot.initialize(nt,wt,Rt,Ut),ze.pollInternalLogs("InternalLog")}catch(Qt){var qt=ze.logger,Zt=(0,et.eU)(Qt);Zt.indexOf("channels")!==-1&&(Zt+=`
 - Channels must be provided through config.channels only!`),(0,Ne.kP)(qt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Zt)}},function(){return{config:nt,extensions:wt,logger:Rt,notificationManager:Ut}})},ze.track=function(nt){(0,He.Lm)(ze,function(){return"AppInsightsCore.track"},function(){var wt=nt;if(wt){wt.timings=wt.timings||{},wt.timings.trackStart=(0,Q.hK)(),(0,Q.r7)(wt.latency)||(wt.latency=1);var Rt=wt.ext=wt.ext||{};Rt.sdk=Rt.sdk||{},Rt.sdk.ver=Q.vs;var Ut=wt.baseData=wt.baseData||{};Ut[Ie.o6]=Ut[Ie.o6]||{};var un=Ut[Ie.o6];un[Ie.p8]=un[Ie.p8]||ze.pluginVersionString||Ie.qS}ot.track(wt)},function(){return{item:nt}},!nt.sync)}}),Pe}return a(ye,"AppInsightsCore"),ye.__ieDyn=1,ye}(lt.F);const tt=X;var Kt=E(6900),wn=function(W){(0,v.ne)(ye,W);function ye(){var Pe=W.call(this)||this;return Ze(ye,Pe,function(ze,ot){ze.initialize=function(nt,wt,Rt,Ut){nt&&!nt.endpointUrl&&(nt.endpointUrl=Ie.YT),ze.getWParam=function(){return Q.x9||!!nt.enableWParam?0:-1};try{ot.initialize(nt,wt,Rt,Ut)}catch(un){(0,Ne.kP)(ze.logger,1,514,"Initialization Failed: "+(0,et.eU)(un)+`
 - Note: Channels must be provided through config.channels only`)}},ze.track=function(nt){var wt=nt;if(wt){var Rt=wt.ext=wt.ext||{};Rt.sdk=Rt.sdk||{},Rt.sdk.ver=Q.vs}ot.track(wt)}}),Pe}return a(ye,"BaseCore"),ye.__ieDyn=1,ye}(Kt.A);const yn=wn;var O=y.mf;function g(W,ye,Pe){return function(ze){W[ye]=ze,Pe()}}a(g,"_createPromiseAllOnResolvedFunction");var m=function(){function W(ye){var Pe=0,ze=null,ot=[];Ze(W,this,function(un){un.then=function(St,qt){return new W(function(Zt,Qt){nt(St,qt,Zt,Qt)})},un.catch=function(St){return un.then(null,St)}});function nt(un,St,qt,Zt){ot.push(function(){var Qt;try{Pe===1?Qt=O(un)?un(ze):ze:Qt=O(St)?St(ze):ze,Qt instanceof W?Qt.then(qt,Zt):Pe===2&&!O(St)?Zt(Qt):qt(Qt)}catch(kt){Zt(kt);return}}),Pe!==0&&wt()}a(nt,"_enqueue");function wt(){if(ot.length>0){var un=ot.slice();ot=[],setTimeout(function(){for(var St=0,qt=un.length;St<qt;++St)try{un[St]()}catch(Zt){}},0)}}a(wt,"_processQueue");function Rt(un){Pe===0&&(ze=un,Pe=1,wt())}a(Rt,"_resolve");function Ut(un){Pe===0&&(ze=un,Pe=2,wt())}a(Ut,"_reject"),a(function(){if(!O(ye))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{ye(Rt,Ut)}catch(St){Ut(St)}},"_initialize")()}return a(W,"ESPromise"),W.resolve=function(ye){return ye instanceof W?ye:ye&&O(ye.then)?new W(function(Pe,ze){try{ye.then(Pe,ze)}catch(ot){ze(ot)}}):new W(function(Pe){Pe(ye)})},W.reject=function(ye){return new W(function(Pe,ze){ze(ye)})},W.all=function(ye){if(!(!ye||!ye.length))return new W(function(Pe,ze){try{for(var ot=[],nt=0,wt=0;wt<ye.length;wt++){var Rt=ye[wt];Rt&&O(Rt.then)?(nt++,Rt.then(g(ot,wt,function(){--nt==0&&Pe(ot)}),ze)):ot[wt]=Rt}nt===0&&setTimeout(function(){Pe(ot)},0)}catch(Ut){ze(Ut)}})},W.race=function(ye){return new W(function(Pe,ze){if(!(!ye||!ye.length))try{for(var ot=a(function(wt){var Rt=ye[wt];Rt&&O(Rt.then)?Rt.then(Pe,ze):setTimeout(function(){Pe(Rt)},0)},"_loop_1"),nt=0;nt<ye.length;nt++)ot(nt)}catch(wt){ze(wt)}})},W}();const q=m;var ve=E(2091),Fe=6e5,me=0,pt=[],At=[],Ft=[];function Nt(){return new Date().getTime()}a(Nt,"_getTime");var Vt=function(){function W(ye,Pe){var ze=0,ot=(ye||"<unnamed>")+"."+me;me++,Ze(W,this,function(Rt){var Ut=null,un=0;Rt.scheduleEvent=function(qt,Zt,Qt){var kt=ot+"."+un;un++,Zt&&(kt+="-("+Zt+")");var In=kt+"{"+ze+"}";ze++;var En={evt:null,tm:Nt(),id:In,isRunning:!1,isAborted:!1};return Ut?En.evt=gi(En,Ut):En.evt=jn(En),Ut=En,Ut.evt._schId=In,En.evt;function hr(Xt){for(var Zn=Nt(),Rn=Zn-Fe,bn=Xt.length,Mn=0;Mn<bn;){var nr=Xt[Mn];if(nr&&nr.tm<Rn){var Fr=null;nr.abort?(Fr="Aborting ["+nr.id+"] due to Excessive runtime ("+(Zn-nr.tm)+" ms)",nr.abort(Fr)):Fr="Removing ["+nr.id+"] due to Excessive runtime ("+(Zn-nr.tm)+" ms)",wt(Fr),Xt.splice(Mn,1),bn--}else Mn++}}a(hr,"_abortAndRemoveOldEvents");function tr(Xt,Zn){var Rn=!1,bn=St(pt,Xt);if(bn||(bn=St(Ft,Xt),Rn=!0),bn){bn.to&&(clearTimeout(bn.to),bn.to=null);var Mn=Nt()-bn.tm;Zn?Rn?wt("Timed out event ["+Xt+"] finally complete -- "+Mn+" ms"):nt("Promise ["+Xt+"] Complete -- "+Mn+" ms"):(Ft.push(bn),wt("Event ["+Xt+"] Timed out and removed -- "+Mn+" ms"))}else nt("Failed to remove ["+Xt+"] from running queue");Ut&&Ut.id===Xt&&(Ut=null),hr(pt),hr(At),hr(Ft)}a(tr,"_cleanup");function lr(Xt,Zn){return function(Rn){return tr(Xt,!0),Zn&&Zn(Rn),Rn}}a(lr,"_removeScheduledEvent");function Kr(Xt,Zn,Rn,bn){Zn.then(function(Mn){return Mn instanceof q?(nt("Event ["+Xt+"] returned a promise -- waiting"),Kr(Xt,Mn,Rn,bn),Mn):lr(Xt,Rn)(Mn)},lr(Xt,bn))}a(Kr,"_waitForFinalResult");function Hr(Xt,Zn){var Rn=Xt.id;return new q(function(bn,Mn){nt("Event ["+Rn+"] Starting -- waited for "+(Xt.wTm||"--")+" ms"),Xt.isRunning=!0,Xt.abort=function(Fr){Xt.abort=null,Xt.isAborted=!0,tr(Rn,!1),Mn(new Error(Fr))};var nr=Zn(Rn);nr instanceof q?(Qt&&(Xt.to=setTimeout(function(){tr(Rn,!1),Mn(new Error("Timed out after ["+Qt+"] ms"))},Qt)),Kr(Rn,nr,function(Fr){nt("Event ["+Rn+"] Resolving after "+(Nt()-Xt.tm)+" ms"),bn(Fr)},Mn)):(nt("Promise ["+Rn+"] Auto completed as the start action did not return a promise"),bn())})}a(Hr,"_createScheduledEvent");function jn(Xt){var Zn=Nt();return Xt.wTm=Zn-Xt.tm,Xt.tm=Zn,Xt.isAborted?q.reject(new Error("["+kt+"] was aborted")):(pt.push(Xt),Hr(Xt,qt))}a(jn,"_startWaitingEvent");function gi(Xt,Zn){var Rn=new q(function(bn,Mn){var nr=Nt()-Zn.tm,Fr=Zn.id;nt("["+kt+"] is waiting for ["+Fr+":"+nr+" ms] to complete before starting -- ["+At.length+"] waiting and ["+pt.length+"] running"),Xt.abort=function(qr){Xt.abort=null,St(At,kt),Xt.isAborted=!0,Mn(new Error(qr))},Zn.evt.then(function(qr){St(At,kt),jn(Xt).then(bn,Mn)},function(qr){St(At,kt),jn(Xt).then(bn,Mn)})});return At.push(Xt),Rn}a(gi,"_waitForPreviousEvent")};function St(qt,Zt){for(var Qt=0;Qt<qt.length;Qt++)if(qt[Qt].id===Zt)return qt.splice(Qt,1)[0];return null}a(St,"_removeQueuedEvent")});function nt(Rt){var Ut=(0,ve.Rd)();Ut&&Ut.QUnit&&console&&console.log("ESPromiseScheduler["+ot+"] "+Rt)}a(nt,"_debugLog");function wt(Rt){(0,Ne.jV)(Pe,"ESPromiseScheduler["+ot+"] "+Rt)}a(wt,"_warnLog")}return a(W,"ESPromiseScheduler"),W.incomplete=function(){return pt},W.waitingToStart=function(){return At},W}();const zn=Vt;var ar=function(){function W(ye){var Pe=this,ze={},ot=[],nt=[];ye&&nt.push(ye);function wt(St,qt){var Zt,Qt=ze[St];if(Qt&&(Zt=Qt[qt]),!Zt&&Zt!==null){if((0,y.HD)(St)&&(0,y.HD)(qt))if(nt.length>0){for(var kt=0;kt<nt.length;kt++)if(nt[kt].handleField(St,qt)){Zt={canHandle:!0,fieldHandler:nt[kt]};break}}else ot.length===0&&(Zt={canHandle:!0});if(!Zt&&Zt!==null){Zt=null;for(var kt=0;kt<ot.length;kt++)if(ot[kt].handleField(St,qt)){Zt={canHandle:!0,handler:ot[kt],fieldHandler:null};break}}Qt||(Qt=ze[St]={}),Qt[qt]=Zt}return Zt}a(wt,"_getFieldSanitizer"),Pe.addSanitizer=function(St){St&&(ot.push(St),ze={})},Pe.addFieldSanitizer=function(St){St&&(nt.push(St),ze={})},Pe.handleField=function(St,qt){var Zt=wt(St,qt);return Zt?Zt.canHandle:!1},Pe.value=function(St,qt,Zt,Qt){var kt=wt(St,qt);if(kt&&kt.canHandle){if(!kt||!kt.canHandle)return null;if(kt.handler)return kt.handler.value(St,qt,Zt,Qt);if(!(0,y.HD)(qt)||(0,y.le)(Zt)||Zt===Ie.qS)return null;var In=null,En=(0,Q.Sy)(Zt);if((En&8192)==8192){var hr=En&~8192;if(In=Zt,!(0,Q.Sn)(In.value)||hr!==1&&hr!==2&&hr!==3&&(hr&4096)!=4096)return null}else En===1||En===2||En===3||(En&4096)==4096?In=Ut(St,qt,Zt):En===4&&(In=Ut(St,qt,Qt?JSON.stringify(Zt):Zt));if(In)return Rt(kt,St,qt,En,In,Qt)}return null},Pe.property=function(St,qt,Zt,Qt){var kt=wt(St,qt);if(!kt||!kt.canHandle||!(0,y.HD)(qt)||(0,y.le)(Zt)||!(0,Q.Sn)(Zt.value))return null;var In=(0,Q.Sy)(Zt.value);return In===0?null:Rt(kt,St,qt,In,Zt,Qt)};function Rt(St,qt,Zt,Qt,kt,In){if(St.handler)return St.handler.property(qt,Zt,kt,In);if(!(0,y.le)(kt.kind)){if((Qt&4096)==4096||!(0,Q.oS)(kt.kind))return null;kt.value=kt.value.toString()}return un(St.fieldHandler,qt,Zt,Qt,kt)}a(Rt,"_handleProperty");function Ut(St,qt,Zt){return(0,Q.Sn)(Zt)?{value:Zt}:null}a(Ut,"_convertToProperty");function un(St,qt,Zt,Qt,kt){if(kt&&St){var In=St.getSanitizer(qt,Zt,Qt,kt.kind,kt.propertyType);if(In)if(Qt===4){var En={},hr=kt.value;(0,y.rW)(hr,function(lr,Kr){var Hr=qt+"."+Zt;if((0,Q.Sn)(Kr)){var jn=Ut(Hr,lr,Kr);jn=un(St,Hr,lr,(0,Q.Sy)(Kr),jn),jn&&(En[lr]=jn.value)}}),kt.value=En}else{var tr={path:qt,name:Zt,type:Qt,prop:kt,sanitizer:Pe};kt=In.call(Pe,tr)}}return kt}a(un,"_callFieldSanitizer")}return a(W,"ValueSanitizer"),W.getFieldType=Q.Sy,W}(),mr=100,fr=E(1880),er=E(4063),dr=E(1589),$r=E(5928),Pr=E(5843),Cn=E(4869),qn=E(4878),br=E(4392),Sr=E(3242),hi=E(5883),Jr=E(310),or=E(4206)},7984:(fe,c,E)=>{"use strict";E.d(c,{qS:()=>v,YT:()=>p,p8:()=>R,o6:()=>T});var v="",p="https://browser.events.data.microsoft.com/OneCollector/1.0/",y="pluginVersionString",w=y+"Arr",R="version",T="properties"},3599:(fe,c,E)=>{"use strict";E.d(c,{Gf:()=>S,vs:()=>U,x9:()=>H,dH:()=>B,Sn:()=>A,jM:()=>k,IZ:()=>$,r7:()=>te,yj:()=>J,Vv:()=>ne,oF:()=>ce,d8:()=>be,kT:()=>ie,ej:()=>_e,Do:()=>z,cm:()=>Ve,l7:()=>Se,hK:()=>de,oS:()=>Z,JT:()=>Oe,if:()=>re,Sy:()=>Ge,cQ:()=>Xe,Tr:()=>st,mJ:()=>G,ot:()=>ee});var v=E(7630),p=E(6708),y=E(3242),w=E(5843),R=E(4392),T=E(4869),d=E(4878),b=E(2091),x=E(7984),_,S="3.2.10",U="1DS-Web-JS-"+S,I="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",V="withCredentials",j="timeout",le=(_={},_[0]=0,_[2]=6,_[1]=1,_[3]=7,_[4096|2]=6,_[4096|1]=1,_[4096|3]=7,_),L=null,H=Boolean((0,v.Me)()),B=Boolean((0,v.Jj)());function A(ae){return!(ae===x.qS||(0,p.le)(ae))}a(A,"isValueAssigned");function k(ae){if(ae){var we=ae.indexOf("-");if(we>-1)return ae.substring(0,we)}return x.qS}a(k,"getTenantId");function $(){return L===null&&(L=!(0,p.o8)(Uint8Array)&&!Te()&&!(0,v.b$)()),L}a($,"isUint8ArrayAvailable");function te(ae){return!!(ae&&(0,p.hj)(ae)&&ae>=1&&ae<=4)}a(te,"isLatency");function J(ae,we,Me){if(!we&&!A(we)||typeof ae!="string")return null;var Be=typeof we;if(Be==="string"||Be==="number"||Be==="boolean"||(0,p.kJ)(we))we={value:we};else if(Be==="object"&&!R.CY.call(we,"value"))we={value:Me?JSON.stringify(we):we};else if((0,p.le)(we.value)||we.value===x.qS||!(0,p.HD)(we.value)&&!(0,p.hj)(we.value)&&!(0,p.jn)(we.value)&&!(0,p.kJ)(we.value))return null;if((0,p.kJ)(we.value)&&!Oe(we.value))return null;if(!(0,p.le)(we.kind)){if((0,p.kJ)(we.value)||!Z(we.kind))return null;we.value=we.value.toString()}return we}a(J,"sanitizeProperty");function ne(ae,we,Me){var Be=-1;if(!(0,p.o8)(ae))if(we>0&&(we===32?Be=1<<13:we<=13&&(Be=we<<5)),se(Me))Be===-1&&(Be=0),Be|=Me;else{var pe=le[Ge(ae)]||-1;Be!==-1&&pe!==-1?Be|=pe:pe===6&&(Be=pe)}return Be}a(ne,"getCommonSchemaMetaData");function ce(){(0,y.JP)(null).setEnabled(!1)}a(ce,"disableCookies");function be(ae,we,Me){(0,y.p7)(null)&&(0,y.JP)(null).set(ae,we,Me*86400,null,"/")}a(be,"setCookie");function ie(ae){(0,y.p7)(null)&&(0,y.JP)(null).del(ae)}a(ie,"deleteCookie");function _e(ae){return(0,y.p7)(null)?z((0,y.JP)(null),ae):x.qS}a(_e,"getCookie");function z(ae,we,Me){Me===void 0&&(Me=!0);var Be;return ae&&(Be=ae.get(we),Me&&Be&&decodeURIComponent&&(Be=decodeURIComponent(Be))),Be||x.qS}a(z,"getCookieValue");function Ve(ae){ae===void 0&&(ae="D");var we=(0,w.GW)();return ae==="B"?we="{"+we+"}":ae==="P"?we="("+we+")":ae==="N"&&(we=we.replace(/-/g,x.qS)),we}a(Ve,"createGuid");function Se(ae,we,Me,Be,pe){var De={},ke=!1,Ze=0,Ne=arguments.length,He=Object[R.hB],et=arguments;for(He.toString.call(et[0])==="[object Boolean]"&&(ke=et[0],Ze++);Ze<Ne;Ze++){var ae=et[Ze];(0,p.rW)(ae,function(Ie,Q){ke&&Q&&(0,p.Kn)(Q)?(0,p.kJ)(Q)?(De[Ie]=De[Ie]||[],(0,p.tO)(Q,function(X,tt){X&&(0,p.Kn)(X)?De[Ie][tt]=Se(!0,De[Ie][tt],X):De[Ie][tt]=X})):De[Ie]=Se(!0,De[Ie],Q):De[Ie]=Q})}return De}a(Se,"extend");var de=w.Jj;function Z(ae){return ae===0||ae>0&&ae<=13||ae===32}a(Z,"isValueKind");function se(ae){return ae>=0&&ae<=9}a(se,"isDataType");function Te(){var ae=(0,v.jW)();if(!(0,p.o8)(ae)&&ae.userAgent){var we=ae.userAgent.toLowerCase();if((we.indexOf("safari")>=0||we.indexOf("firefox")>=0)&&we.indexOf("chrome")<0)return!0}return!1}a(Te,"isSafariOrFirefox");function Oe(ae){return ae.length>0}a(Oe,"isArrayValid");function re(ae,we){var Me=ae;Me.timings=Me.timings||{},Me.timings.processTelemetryStart=Me.timings.processTelemetryStart||{},Me.timings.processTelemetryStart[we]=de()}a(re,"setProcessTelemetryTimings");function Ge(ae){var we=0;if(ae!=null){var Me=typeof ae;Me==="string"?we=1:Me==="number"?we=2:Me==="boolean"?we=3:Me===R.fK&&(we=4,(0,p.kJ)(ae)?(we=4096,ae.length>0&&(we|=Ge(ae[0]))):R.CY.call(ae,"value")&&(we=8192|Ge(ae.value)))}return we}a(Ge,"getFieldValueType");var Xe={Version:S,FullVersionString:U,strUndefined:R.jA,strObject:R.fK,Undefined:R.jA,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,objKeys:p.FY,toISOString:p.Y6,isReactNative:v.b$,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,isFunction:p.mf,isArray:p.kJ,isObject:p.Kn,strTrim:p.nd,isDocumentObjectAvailable:H,isWindowObjectAvailable:B,isValueAssigned:A,getTenantId:k,isBeaconsSupported:v.MF,isUint8ArrayAvailable:$,isLatency:te,sanitizeProperty:J,getISOString:p.Y6,useXDomainRequest:v.cp,getCommonSchemaMetaData:ne,cookieAvailable:y.p7,disallowsSameSiteNone:y.UY,setCookie:be,deleteCookie:ie,getCookie:_e,createGuid:Ve,extend:Se,getTime:de,isValueKind:Z,isArrayValid:Oe,objDefineAccessors:p.l_,addPageUnloadEventListener:T.c9,setProcessTelemetryTimings:re,addEventHandler:T.Ib,getFieldValueType:Ge,strEndsWith:p.Id,objForEachKey:p.rW},st={_canUseCookies:void 0,isTypeof:p.Ym,isUndefined:p.o8,isNullOrUndefined:p.le,hasOwnProperty:p.nr,isFunction:p.mf,isObject:p.Kn,isDate:p.J_,isArray:p.kJ,isError:p.VZ,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,toISOString:p.Y6,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,strTrim:p.nd,objCreate:b.pu,objKeys:p.FY,objDefineAccessors:p.l_,addEventHandler:T.Ib,dateNow:p.m6,isIE:v.w1,disableCookies:ce,newGuid:w.GW,perfNow:w.Jj,newId:d.pZ,randomValue:d.az,random32:d._l,mwcRandomSeed:d.CN,mwcRandom32:d.F6,generateW3CId:w.DO};function G(){return!!(0,v.a8)("chrome")}a(G,"isChromium");function ee(ae,we,Me,Be,pe,De){Be===void 0&&(Be=!1),pe===void 0&&(pe=!1);function ke(Ne,He,et){try{Ne[He]=et}catch(lt){}}a(ke,"_wrapSetXhrProp");var Ze=new XMLHttpRequest;return Be&&ke(Ze,I,Be),Me&&ke(Ze,V,Me),Ze.open(ae,we,!pe),Me&&ke(Ze,V,Me),!pe&&De&&ke(Ze,j,De),Ze}a(ee,"openXhr")},5229:(fe,c,E)=>{"use strict";E.r(c),E.d(c,{BE_PROFILE:()=>et,NRT_PROFILE:()=>He,PostChannel:()=>da,RT_PROFILE:()=>Ne});var v=E(1088);/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var p,y="undefined",w="constructor",R="prototype",T="function",d="_dynInstFuncs",b="_isDynProxy",x="_dynClass",_="_dynCls$",S="_dynInstChk",U=S,I="_dfOpts",V="_unknown_",j="__proto__",le="_dyn"+j,L="__dynProto$Gbl",H="_dynInstProto",B="useBaseInst",A="setInstFuncs",k=Object,$=k.getPrototypeOf,te=k.getOwnPropertyNames;function J(){var We;return typeof globalThis!==y&&(We=globalThis),!We&&typeof self!==y&&(We=self),!We&&typeof window!==y&&(We=window),!We&&typeof E.g!==y&&(We=E.g),We||{}}a(J,"_getGlobal");var ne=J(),ce=ne[L]||(ne[L]={o:(p={},p[A]=!0,p[B]=!0,p),n:1e3});function be(We,ut){return We&&k[R].hasOwnProperty.call(We,ut)}a(be,"_hasOwnProperty");function ie(We){return We&&(We===k[R]||We===Array[R])}a(ie,"_isObjectOrArrayPrototype");function _e(We){return ie(We)||We===Function[R]}a(_e,"_isObjectArrayOrFunctionPrototype");function z(We){var ut;if(We){if($)return $(We);var Et=We[j]||We[R]||(We[w]?We[w][R]:null);ut=We[le]||Et,be(We,le)||(delete We[H],ut=We[le]=We[H]||We[le],We[H]=Et)}return ut}a(z,"_getObjProto");function Ve(We,ut){var Et=[];if(te)Et=te(We);else for(var dt in We)typeof dt=="string"&&be(We,dt)&&Et.push(dt);if(Et&&Et.length>0)for(var Lt=0;Lt<Et.length;Lt++)ut(Et[Lt])}a(Ve,"_forEachProp");function Se(We,ut,Et){return ut!==w&&typeof We[ut]===T&&(Et||be(We,ut))}a(Se,"_isDynamicCandidate");function de(We){throw new TypeError("DynamicProto: "+We)}a(de,"_throwTypeError");function Z(We){var ut={};return Ve(We,function(Et){!ut[Et]&&Se(We,Et,!1)&&(ut[Et]=We[Et])}),ut}a(Z,"_getInstanceFuncs");function se(We,ut){for(var Et=We.length-1;Et>=0;Et--)if(We[Et]===ut)return!0;return!1}a(se,"_hasVisited");function Te(We,ut,Et,dt){function Lt(Yt,hn,Tn){var Qn=hn[Tn];if(Qn[b]&&dt){var Kn=Yt[d]||{};Kn[U]!==!1&&(Qn=(Kn[hn[x]]||{})[Tn]||Qn)}return function(){return Qn.apply(Yt,arguments)}}a(Lt,"_instFuncProxy");var tn={};Ve(Et,function(Yt){tn[Yt]=Lt(ut,Et,Yt)});for(var xt=z(We),on=[];xt&&!_e(xt)&&!se(on,xt);)Ve(xt,function(Yt){!tn[Yt]&&Se(xt,Yt,!$)&&(tn[Yt]=Lt(ut,xt,Yt))}),on.push(xt),xt=z(xt);return tn}a(Te,"_getBaseFuncs");function Oe(We,ut,Et,dt){var Lt=null;if(We&&be(Et,x)){var tn=We[d]||{};if(Lt=(tn[Et[x]]||{})[ut],Lt||de("Missing ["+ut+"] "+T),!Lt[S]&&tn[U]!==!1){for(var xt=!be(We,ut),on=z(We),Yt=[];xt&&on&&!_e(on)&&!se(Yt,on);){var hn=on[ut];if(hn){xt=hn===dt;break}Yt.push(on),on=z(on)}try{xt&&(We[ut]=Lt),Lt[S]=1}catch(Tn){tn[U]=!1}}}return Lt}a(Oe,"_getInstFunc");function re(We,ut,Et){var dt=ut[We];return dt===Et&&(dt=z(ut)[We]),typeof dt!==T&&de("["+We+"] is not a "+T),dt}a(re,"_getProtoFunc");function Ge(We,ut,Et,dt,Lt){function tn(Yt,hn){var Tn=a(function(){var Qn=Oe(this,hn,Yt,Tn)||re(hn,Yt,Tn);return Qn.apply(this,arguments)},"dynProtoProxy");return Tn[b]=1,Tn}if(a(tn,"_createDynamicPrototype"),!ie(We)){var xt=Et[d]=Et[d]||{},on=xt[ut]=xt[ut]||{};xt[U]!==!1&&(xt[U]=!!Lt),Ve(Et,function(Yt){Se(Et,Yt,!1)&&Et[Yt]!==dt[Yt]&&(on[Yt]=Et[Yt],delete Et[Yt],(!be(We,Yt)||We[Yt]&&!We[Yt][b])&&(We[Yt]=tn(We,Yt)))})}}a(Ge,"_populatePrototype");function Xe(We,ut){if($){for(var Et=[],dt=z(ut);dt&&!_e(dt)&&!se(Et,dt);){if(dt===We)return!0;Et.push(dt),dt=z(dt)}return!1}return!0}a(Xe,"_checkPrototype");function st(We,ut){return be(We,R)?We.name||ut||V:((We||{})[w]||{}).name||ut||V}a(st,"_getObjName");function G(We,ut,Et,dt){be(We,R)||de("theClass is an invalid class definition.");var Lt=We[R];Xe(Lt,ut)||de("["+st(We)+"] not in hierarchy of ["+st(ut)+"]");var tn=null;be(Lt,x)?tn=Lt[x]:(tn=_+st(We,"_")+"$"+ce.n,ce.n++,Lt[x]=tn);var xt=G[I],on=!!xt[B];on&&dt&&dt[B]!==void 0&&(on=!!dt[B]);var Yt=Z(ut),hn=Te(Lt,ut,Yt,on);Et(ut,hn);var Tn=!!$&&!!xt[A];Tn&&dt&&(Tn=!!dt[A]),Ge(Lt,tn,ut,Yt,Tn!==!1)}a(G,"dynamicProto"),G[I]=ce.o;var ee=E(9288),ae=E(4869),we=E(5883),Me=E(3599),Be=E(6708),pe=E(7630),De=E(5928),ke=E(5018),Ze=E(4063),Ne="REAL_TIME",He="NEAR_REAL_TIME",et="BEST_EFFORT",lt="",Ie="POST",Q="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",X="drop",tt="send",Kt="requeue",wn="rspFail",yn="oth",O="no-cache, no-store",g="application/x-json-stream",m="cache-control",q="content-type",ve="kill-tokens",Fe="kill-duration",me="kill-duration-seconds",pt="time-delta-millis",At="client-version",Ft="client-id",Nt="time-delta-to-apply-millis",Vt="upload-time",zn="apikey",ar="AuthMsaDeviceTicket",mr="AuthXToken",fr="sdk-version",er="NoResponseBody",dr="msfpc",$r="trace",Pr="user";function Cn(We){var ut=(We.ext||{}).intweb;return ut&&(0,Me.Sn)(ut[dr])?ut[dr]:null}a(Cn,"_getEventMsfpc");function qn(We){for(var ut=null,Et=0;ut===null&&Et<We.length;Et++)ut=Cn(We[Et]);return ut}a(qn,"_getMsfpc");var br=function(){function We(ut,Et){var dt=Et?[].concat(Et):[],Lt=this,tn=qn(dt);Lt.iKey=function(){return ut},Lt.Msfpc=function(){return tn||lt},Lt.count=function(){return dt.length},Lt.events=function(){return dt},Lt.addEvent=function(xt){return xt?(dt.push(xt),tn||(tn=Cn(xt)),!0):!1},Lt.split=function(xt,on){var Yt;if(xt<dt.length){var hn=dt.length-xt;(0,Be.le)(on)||(hn=on<hn?on:hn),Yt=dt.splice(xt,hn),tn=qn(dt)}return new We(ut,Yt)}}return a(We,"EventBatch"),We.create=function(ut,Et){return new We(ut,Et)},We}(),Sr=function(){function We(){var ut=!0,Et=!0,dt=!0,Lt="use-collector-delta",tn=!1;G(We,this,function(xt){xt.allowRequestSending=function(){return ut},xt.firstRequestSent=function(){dt&&(dt=!1,tn||(ut=!1))},xt.shouldAddClockSkewHeaders=function(){return Et},xt.getClockSkewHeaderValue=function(){return Lt},xt.setClockSkew=function(on){tn||(on?(Lt=on,Et=!0,tn=!0):Et=!1,ut=!0)}})}return a(We,"ClockSkewManager"),We.__ieDyn=1,We}();const hi=Sr;var Jr=1e3,or=function(){function We(){var ut={};function Et(dt){var Lt=[];return dt&&(0,Be.tO)(dt,function(tn){Lt.push((0,Be.nd)(tn))}),Lt}a(Et,"_normalizeTenants"),G(We,this,function(dt){dt.setKillSwitchTenants=function(Lt,tn){if(Lt&&tn)try{var xt=Et(Lt.split(","));if(tn==="this-request-only")return xt;for(var on=parseInt(tn,10)*Jr,Yt=0;Yt<xt.length;++Yt)ut[xt[Yt]]=(0,Be.m6)()+on}catch(hn){return[]}return[]},dt.isTenantKilled=function(Lt){var tn=ut,xt=(0,Be.nd)(Lt);return tn[xt]!==void 0&&tn[xt]>(0,Be.m6)()?!0:(delete tn[xt],!1)}})}return a(We,"KillSwitch"),We.__ieDyn=1,We}();const W=or;var ye=E(4392),Pe=.8,ze=1.2,ot=3e3,nt=6e5;function wt(We){return!(We>=300&&We<500&&We!=408&&We!=429||We==501||We==505)}a(wt,"retryPolicyShouldRetryForStatus");function Rt(We){var ut=0,Et=ot*Pe,dt=ot*ze,Lt=Math.floor(Math.random()*(dt-Et))+Et;return ut=Math.pow(2,We)*Lt,Math.min(ut,nt)}a(Rt,"retryPolicyGetMillisToBackoffForRetry");var Ut=20,un=3984588,St=65e3,qt=2e6,Zt=Math.min(qt,St),Qt="metadata",kt="f",In=/\./,En=function(){function We(ut,Et,dt,Lt){var tn="data",xt="baseData",on="ext",Yt=!!Lt,hn=!0,Tn=Et,Qn={};G(We,this,function(Kn){Kn.createPayload=function(rn,Jt,vn,mn,K,ue){return{apiKeys:[],payloadBlob:lt,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:rn,isTeardown:Jt,isSync:vn,isBeacon:mn,sendType:ue,sendReason:K}},Kn.appendPayload=function(rn,Jt,vn){var mn=rn&&Jt&&!rn.overflow;return mn&&(0,ee.Lm)(ut,function(){return"Serializer:appendPayload"},function(){for(var K=Jt.events(),ue=rn.payloadBlob,Ee=rn.numEvents,gt=!1,Mt=[],Ht=[],pn=rn.isBeacon,cn=pn?St:un,sn=pn?Zt:qt,gn=0,_n=0;gn<K.length;){var Gt=K[gn];if(Gt){if(Ee>=vn){rn.overflow=Jt.split(gn);break}var Ct=Kn.getEventBlob(Gt);if(Ct&&Ct.length<=sn){var Fn=Ct.length,Dn=ue.length;if(Dn+Fn>cn){rn.overflow=Jt.split(gn);break}ue&&(ue+=`
`),ue+=Ct,_n++,_n>Ut&&(ue.substr(0,1),_n=0),gt=!0,Ee++}else Ct?Mt.push(Gt):Ht.push(Gt),K.splice(gn,1),gn--}gn++}if(Mt&&Mt.length>0&&rn.sizeExceed.push(br.create(Jt.iKey(),Mt)),Ht&&Ht.length>0&&rn.failedEvts.push(br.create(Jt.iKey(),Ht)),gt){rn.batches.push(Jt),rn.payloadBlob=ue,rn.numEvents=Ee;var Un=Jt.iKey();(0,Be.UA)(rn.apiKeys,Un)===-1&&rn.apiKeys.push(Un)}},function(){return{payload:rn,theBatch:{iKey:Jt.iKey(),evts:Jt.events()},max:vn}}),mn},Kn.getEventBlob=function(rn){try{return(0,ee.Lm)(ut,function(){return"Serializer.getEventBlob"},function(){var Jt={};Jt.name=rn.name,Jt.time=rn.time,Jt.ver=rn.ver,Jt.iKey="o:"+(0,Me.jM)(rn.iKey);var vn={},mn=rn[on];mn&&(Jt[on]=vn,(0,Be.rW)(mn,function(Ee,gt){var Mt=vn[Ee]={};Bn(gt,Mt,"ext."+Ee,!0,null,null,!0)}));var K=Jt[tn]={};K.baseType=rn.baseType;var ue=K[xt]={};return Bn(rn.baseData,ue,xt,!1,[xt],function(Ee,gt,Mt){hr(vn,Ee,gt,Mt)},hn),Bn(rn.data,K,tn,!1,[],function(Ee,gt,Mt){hr(vn,Ee,gt,Mt)},hn),JSON.stringify(Jt)},function(){return{item:rn}})}catch(Jt){return null}};function Xn(rn,Jt){var vn=Qn[rn];return vn===void 0&&(rn.length>=7&&(vn=(0,Be.xe)(rn,"ext.metadata")||(0,Be.xe)(rn,"ext.web")),Qn[rn]=vn),vn}a(Xn,"_isReservedField");function Bn(rn,Jt,vn,mn,K,ue,Ee){(0,Be.rW)(rn,function(gt,Mt){var Ht=null;if(Mt||(0,Me.Sn)(Mt)){var pn=vn,cn=gt,sn=K,gn=Jt;if(Yt&&!mn&&In.test(gt)){var _n=gt.split("."),Gt=_n.length;if(Gt>1){sn&&(sn=sn.slice());for(var Ct=0;Ct<Gt-1;Ct++){var Fn=_n[Ct];gn=gn[Fn]=gn[Fn]||{},pn+="."+Fn,sn&&sn.push(Fn)}cn=_n[Gt-1]}}var Dn=mn&&Xn(pn,cn);if(!Dn&&Tn&&Tn.handleField(pn,cn)?Ht=Tn.value(pn,cn,Mt,dt):Ht=(0,Me.yj)(cn,Mt,dt),Ht){var Un=Ht.value;if(gn[cn]=Un,ue&&ue(sn,cn,Ht),Ee&&typeof Un=="object"&&!(0,Be.kJ)(Un)){var Vn=sn;Vn&&(Vn=Vn.slice(),Vn.push(cn)),Bn(Mt,Un,pn+"."+cn,mn,Vn,ue,Ee)}}}})}a(Bn,"_processPathKeys")})}return a(We,"Serializer"),We.__ieDyn=1,We}();function hr(We,ut,Et,dt){if(dt&&We){var Lt=(0,Me.Vv)(dt.value,dt.kind,dt.propertyType);if(Lt>-1){var tn=We[Qt];tn||(tn=We[Qt]={f:{}});var xt=tn[kt];if(xt||(xt=tn[kt]={}),ut)for(var on=0;on<ut.length;on++){var Yt=ut[on];xt[Yt]||(xt[Yt]={f:{}});var hn=xt[Yt][kt];hn||(hn=xt[Yt][kt]={}),xt=hn}xt=xt[Et]={},(0,Be.kJ)(dt.value)?xt.a={t:Lt}:xt.t=Lt}}}a(hr,"_addJSONPropertyMetaData");var tr,lr="sendAttempt",Kr="&"+er+"=true",Hr=(tr={},tr[1]=Kt,tr[100]=Kt,tr[200]="sent",tr[8004]=X,tr[8003]=X,tr),jn={},gi={};function Xt(We,ut,Et){jn[We]=ut,Et!==!1&&(gi[ut]=We)}a(Xt,"_addCollectorHeaderQsMapping"),Xt(ar,ar,!1),Xt(At,At),Xt(Ft,"Client-Id"),Xt(zn,zn),Xt(Nt,Nt),Xt(Vt,Vt),Xt(mr,mr);function Zn(We){try{return We.responseText}catch(ut){}return lt}a(Zn,"_getResponseText");function Rn(We,ut){var Et=!1;if(We&&ut){var dt=(0,Be.FY)(We);if(dt&&dt.length>0)for(var Lt=ut.toLowerCase(),tn=0;tn<dt.length;tn++){var xt=dt[tn];if(xt&&(0,Be.nr)(ut,xt)&&xt.toLowerCase()===Lt){Et=!0;break}}}return Et}a(Rn,"_hasHeader");function bn(We,ut,Et,dt){ut&&Et&&Et.length>0&&(dt&&jn[ut]?(We.hdrs[jn[ut]]=Et,We.useHdrs=!0):We.url+="&"+ut+"="+Et)}a(bn,"_addRequestDetails");function Mn(We,ut){return ut&&((0,Be.hj)(ut)?We=[ut].concat(We):(0,Be.kJ)(ut)&&(We=ut.concat(We))),We}a(Mn,"_prependTransports");var nr=function(){function We(ut,Et,dt,Lt,tn){this._responseHandlers=[];var xt="?cors=true&"+q.toLowerCase()+"="+g,on=new W,Yt=!1,hn=new hi,Tn=!1,Qn=0,Kn,Xn,Bn,rn,Jt=!0,vn=[],mn={},K=[],ue=null,Ee=!1,gt,Mt=!1,Ht=!1,pn,cn,sn,gn,_n;G(We,this,function(Gt){var Ct=!0;Gt.initialize=function(xe,rt,vt,mt,Ot){var Wt;Ot||(Ot={}),xt=xe+xt,Ht=(0,Be.o8)(Ot.avoidOptions)?!0:!Ot.avoidOptions,rn=rt,gt=rt.getCookieMgr(),Ee=!rn.config.disableEventTimings;var an=!!rn.config.enableCompoundKey;Kn=vt,Xn=Kn.diagLog();var Ce=Ot.valueSanitizer,qe=Ot.stringifyObjects;(0,Be.o8)(Ot.enableCompoundKey)||(an=!!Ot.enableCompoundKey),pn=Ot.xhrTimeout,cn=!!Ot.disableXhrSync,sn=!!Ot.disableFetchKeepAlive,_n=Ot.addNoResponse!==!1,Tn=!(0,pe.b$)(),ue=new En(rn,Ce,qe,an),(0,Be.le)(Ot.useSendBeacon)||(Tn=!!Ot.useSendBeacon);var Ye=mt,yt=Ot.alwaysUseXhrOverride?mt:null,Bt=Ot.alwaysUseXhrOverride?mt:null,nn=[3,2];if(!mt){Jt=!1;var An=(0,pe.k$)();An&&An.protocol&&An.protocol.toLowerCase()==="file:"&&(Ct=!1);var Sn=[];(0,pe.b$)()?(Sn=[2,1],nn=[2,1,3]):Sn=[1,2,3],Sn=Mn(Sn,Ot.transports),mt=Fn(Sn,!1),mt||(0,ke.jV)(Xn,"No available transport to send events"),Ye=Fn(Sn,!0)}yt||(nn=Mn(nn,Ot.unloadTransports),yt=Fn(nn,!0)),gn=!Jt&&(Tn&&(0,pe.MF)()||!sn&&(0,pe.JO)(!0)),Bn=(Wt={},Wt[0]=mt,Wt[1]=Ye||Fn([1,2,3],!0),Wt[2]=yt||Ye||Fn([1],!0),Wt[3]=Bt||Fn([2,3],!0)||Ye||Fn([1],!0),Wt)};function Fn(xe,rt){for(var vt=0,mt=null,Ot=0;mt==null&&Ot<xe.length;)vt=xe[Ot],vt===1?(0,pe.cp)()?mt=Dn:(0,pe.Z3)()&&(mt=Vn):vt===2&&(0,pe.JO)(rt)&&(!rt||rt&&!sn)?mt=Un:Tn&&vt===3&&(0,pe.MF)()&&(mt=kr),Ot++;return mt?{_transport:vt,_isSync:rt,sendPOST:mt}:null}a(Fn,"_getSenderInterface"),Gt._getDbgPlgTargets=function(){return[Bn[0],on,ue,Bn]};function Dn(xe,rt,vt){var mt=new XDomainRequest;mt.open(Ie,xe.urlString),xe.timeout&&(mt.timeout=xe.timeout),mt.onload=function(){var Ot=Zn(mt);en(rt,200,{},Ot),Qr(Ot)},mt.onerror=function(){en(rt,400,{})},mt.ontimeout=function(){en(rt,500,{})},mt.onprogress=function(){},vt?mt.send(xe.data):tn.set(function(){mt.send(xe.data)},0)}a(Dn,"_xdrSendPost");function Un(xe,rt,vt){var mt,Ot=xe.urlString,Wt=!1,an=!1,Ce=(mt={body:xe.data,method:Ie},mt[Q]=!0,mt);vt&&(Ce.keepalive=!0,xe._sendReason===2&&(Wt=!0,_n&&(Ot+=Kr))),Ct&&(Ce.credentials="include"),xe.headers&&(0,Be.FY)(xe.headers).length>0&&(Ce.headers=xe.headers),fetch(Ot,Ce).then(function(qe){var Ye={},yt=lt,Bt=qe.headers;Bt&&Bt.forEach(function(nn,An){Ye[An]=nn}),qe.body&&qe.text().then(function(nn){yt=nn}),an||(an=!0,en(rt,qe.status,Ye,yt),Qr(yt))}).catch(function(qe){an||(an=!0,en(rt,0,{}))}),Wt&&!an&&(an=!0,en(rt,200,{})),!an&&xe.timeout>0&&tn.set(function(){an||(an=!0,en(rt,500,{}))},xe.timeout)}a(Un,"_fetchSendPost");function Vn(xe,rt,vt){var mt=xe.urlString;function Ot(qe,Ye,yt){if(!qe[yt]&&Ye&&Ye.getResponseHeader){var Bt=Ye.getResponseHeader(yt);Bt&&(qe[yt]=(0,Be.nd)(Bt))}return qe}a(Ot,"_appendHeader");function Wt(qe){var Ye={};return qe.getAllResponseHeaders?Ye=Ri(qe.getAllResponseHeaders()):(Ye=Ot(Ye,qe,pt),Ye=Ot(Ye,qe,Fe),Ye=Ot(Ye,qe,me)),Ye}a(Wt,"_getAllResponseHeaders");function an(qe,Ye){en(rt,qe.status,Wt(qe),Ye)}a(an,"xhrComplete"),vt&&xe.disableXhrSync&&(vt=!1);var Ce=(0,Me.ot)(Ie,mt,Ct,!0,vt,xe.timeout);(0,Be.rW)(xe.headers,function(qe,Ye){Ce.setRequestHeader(qe,Ye)}),Ce.onload=function(){var qe=Zn(Ce);an(Ce,qe),Qr(qe)},Ce.onerror=function(){an(Ce)},Ce.ontimeout=function(){an(Ce)},Ce.send(xe.data)}a(Vn,"_xhrSendPost");function en(xe,rt,vt,mt){try{xe(rt,vt,mt)}catch(Ot){(0,ke.kP)(Xn,2,518,(0,pe.eU)(Ot))}}a(en,"_doOnComplete");function kr(xe,rt,vt){var mt=xe,Ot=200,Wt=mt._thePayload,an=xe.urlString+(_n?Kr:lt);try{var Ce=(0,pe.jW)();if(!Ce.sendBeacon(an,xe.data))if(Wt){var qe=[];(0,Be.tO)(Wt.batches,function(Ye){if(qe&&Ye&&Ye.count()>0){for(var yt=Ye.events(),Bt=0;Bt<yt.length;Bt++)if(!Ce.sendBeacon(an,ue.getEventBlob(yt[Bt]))){qe.push(Ye.split(Bt));break}}else qe.push(Ye.split(0))}),sr(qe,8003,Wt.sendType,!0)}else Ot=0}catch(Ye){(0,ke.jV)(Xn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,pe.eU)(Ye)),Ot=0}finally{en(rt,Ot,{},lt)}}a(kr,"_beaconSendPost");function _r(xe){return xe===2||xe===3}a(_r,"_isBeaconPayload");function On(xe){return Mt&&_r(xe)&&(xe=2),xe}a(On,"_adjustSendType"),Gt.addQueryStringParameter=function(xe,rt){for(var vt=0;vt<vn.length;vt++)if(vn[vt].name===xe){vn[vt].value=rt;return}vn.push({name:xe,value:rt})},Gt.addHeader=function(xe,rt){mn[xe]=rt},Gt.canSendRequest=function(){return Zr()&&hn.allowRequestSending()},Gt.sendQueuedRequests=function(xe,rt){(0,Be.o8)(xe)&&(xe=0),Mt&&(xe=On(xe),rt=2),Mr(K,xe,0)&&ti(Lr(),0,!1,xe,rt||0)},Gt.isCompletelyIdle=function(){return!Yt&&Qn===0&&K.length===0},Gt.setUnloading=function(xe){Mt=xe},Gt.addBatch=function(xe){if(xe&&xe.count()>0){if(on.isTenantKilled(xe.iKey()))return!1;K.push(xe)}return!0},Gt.teardown=function(){K.length>0&&ti(Lr(),0,!0,2,2)},Gt.pause=function(){Yt=!0},Gt.resume=function(){Yt=!1,Gt.sendQueuedRequests(0,4)},Gt.sendSynchronousBatch=function(xe,rt,vt){xe&&xe.count()>0&&((0,Be.le)(rt)&&(rt=1),Mt&&(rt=On(rt),vt=2),ti([xe],0,!1,rt,vt||0))};function Zr(){return!Yt&&Qn<Et}a(Zr,"_hasIdleConnection");function Lr(){var xe=K;return K=[],xe}a(Lr,"_clearQueue");function Mr(xe,rt,vt){var mt=!1;return xe&&xe.length>0&&!Yt&&Bn[rt]&&ue&&(mt=rt!==0||Zr()&&(vt>0||hn.allowRequestSending())),mt}a(Mr,"_canSendPayload");function si(xe){var rt={};return xe&&(0,Be.tO)(xe,function(vt,mt){rt[mt]={iKey:vt.iKey(),evts:vt.events()}}),rt}a(si,"_createDebugBatches");function ti(xe,rt,vt,mt,Ot){if(!(!xe||xe.length===0)){if(Yt){sr(xe,1,mt);return}mt=On(mt);try{var Wt=xe,an=mt!==0;(0,ee.Lm)(rn,function(){return"HttpManager:_sendBatches"},function(Ce){Ce&&(xe=xe.slice(0));for(var qe=[],Ye=null,yt=(0,Me.hK)(),Bt=Bn[mt]||(an?Bn[1]:Bn[0]),nn=Bt&&Bt._transport,An=gn&&(Mt||_r(mt)||nn===3||Bt._isSync&&nn===2);Mr(xe,mt,rt);){var Sn=xe.shift();Sn&&Sn.count()>0&&(on.isTenantKilled(Sn.iKey())?qe.push(Sn):(Ye=Ye||ue.createPayload(rt,vt,an,An,Ot,mt),ue.appendPayload(Ye,Sn,ut)?Ye.overflow!==null&&(xe=[Ye.overflow].concat(xe),Ye.overflow=null,Cr(Ye,yt,(0,Me.hK)(),Ot),yt=(0,Me.hK)(),Ye=null):(Cr(Ye,yt,(0,Me.hK)(),Ot),yt=(0,Me.hK)(),xe=[Sn].concat(xe),Ye=null)))}Ye&&Cr(Ye,yt,(0,Me.hK)(),Ot),xe.length>0&&(K=xe.concat(K)),sr(qe,8004,mt)},function(){return{batches:si(Wt),retryCount:rt,isTeardown:vt,isSynchronous:an,sendReason:Ot,useSendBeacon:_r(mt),sendType:mt}},!an)}catch(Ce){(0,ke.kP)(Xn,2,48,"Unexpected Exception sending batch: "+(0,pe.eU)(Ce))}}}a(ti,"_sendBatches");function li(xe,rt){var vt={url:xt,hdrs:{},useHdrs:!1};rt?(vt.hdrs=(0,Me.l7)(vt.hdrs,mn),vt.useHdrs=(0,Be.FY)(vt.hdrs).length>0):(0,Be.rW)(mn,function(Ce,qe){gi[Ce]?bn(vt,gi[Ce],qe,!1):(vt.hdrs[Ce]=qe,vt.useHdrs=!0)}),bn(vt,Ft,"NO_AUTH",rt),bn(vt,At,Me.vs,rt);var mt=lt;(0,Be.tO)(xe.apiKeys,function(Ce){mt.length>0&&(mt+=","),mt+=Ce}),bn(vt,zn,mt,rt),bn(vt,Vt,(0,Be.m6)().toString(),rt);var Ot=ui(xe);if((0,Me.Sn)(Ot)&&(vt.url+="&ext.intweb.msfpc="+Ot),hn.shouldAddClockSkewHeaders()&&bn(vt,Nt,hn.getClockSkewHeaderValue(),rt),rn.getWParam){var Wt=rn.getWParam();Wt>=0&&(vt.url+="&w="+Wt)}for(var an=0;an<vn.length;an++)vt.url+="&"+vn[an].name+"="+vn[an].value;return vt}a(li,"_buildRequestDetails");function Wr(xe,rt,vt){xe[rt]=xe[rt]||{},xe[rt][Kn.identifier]=vt}a(Wr,"_setTimingValue");function Cr(xe,rt,vt,mt){if(xe&&xe.payloadBlob&&xe.payloadBlob.length>0){var Ot=!!Gt.sendHook,Wt=Bn[xe.sendType];!_r(xe.sendType)&&xe.isBeacon&&xe.sendReason===2&&(Wt=Bn[2]||Bn[3]||Wt);var an=Ht;(xe.isBeacon||Wt._transport===3)&&(an=!1);var Ce=li(xe,an);an=an||Ce.useHdrs;var qe=(0,Me.hK)();(0,ee.Lm)(rn,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ye=0;Ye<xe.batches.length;Ye++)for(var yt=xe.batches[Ye],Bt=yt.events(),nn=0;nn<Bt.length;nn++){var An=Bt[nn];if(Ee){var Sn=An.timings=An.timings||{};Wr(Sn,"sendEventStart",qe),Wr(Sn,"serializationStart",rt),Wr(Sn,"serializationCompleted",vt)}An[lr]>0?An[lr]++:An[lr]=1}sr(xe.batches,1e3+(mt||0),xe.sendType,!0);var Hn={data:xe.payloadBlob,urlString:Ce.url,headers:Ce.hdrs,_thePayload:xe,_sendReason:mt,timeout:pn,disableXhrSync:cn,disableFetchKeepAlive:sn};an&&(Rn(Hn.headers,m)||(Hn.headers[m]=O),Rn(Hn.headers,q)||(Hn.headers[q]=g));var _i=null;Wt&&(_i=a(function(Bi){hn.firstRequestSent();var Xi=a(function(Di,ci){mi(Di,ci,xe,mt)},"onComplete"),ur=xe.isTeardown||xe.isSync;try{Wt.sendPOST(Bi,Xi,ur),Gt.sendListener&&Gt.sendListener(Hn,Bi,ur,xe.isBeacon)}catch(Di){(0,ke.jV)(Xn,"Unexpected exception sending payload. Ex:"+(0,pe.eU)(Di)),en(Xi,0,{})}},"sender")),(0,ee.Lm)(rn,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(_i)if(xe.sendType===0&&Qn++,Ot&&!xe.isBeacon&&Wt._transport!==3){var Bi={data:Hn.data,urlString:Hn.urlString,headers:(0,Me.l7)({},Hn.headers),timeout:Hn.timeout,disableXhrSync:Hn.disableXhrSync,disableFetchKeepAlive:Hn.disableFetchKeepAlive},Xi=!1;(0,ee.Lm)(rn,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Gt.sendHook(Bi,function(ur){Xi=!0,!Jt&&!ur._thePayload&&(ur._thePayload=ur._thePayload||Hn._thePayload,ur._sendReason=ur._sendReason||Hn._sendReason),_i(ur)},xe.isSync||xe.isTeardown)}catch(ur){Xi||_i(Hn)}})}else _i(Hn)})},function(){return{thePayload:xe,serializationStart:rt,serializationCompleted:vt,sendReason:mt}},xe.isSync)}xe.sizeExceed&&xe.sizeExceed.length>0&&sr(xe.sizeExceed,8003,xe.sendType),xe.failedEvts&&xe.failedEvts.length>0&&sr(xe.failedEvts,8002,xe.sendType)}a(Cr,"_doPayloadSend");function vi(xe,rt){Ee&&(0,Be.tO)(xe,function(vt){var mt=vt.timings=vt.timings||{};Wr(mt,"sendEventCompleted",rt)})}a(vi,"_addEventCompletedTimings");function mi(xe,rt,vt,mt){var Ot=9e3,Wt=null,an=!1,Ce=!1;try{var qe=!0;if(typeof xe!==ye.jA){if(rt){hn.setClockSkew(rt[pt]);var Ye=rt[Fe]||rt["kill-duration-seconds"];(0,Be.tO)(on.setKillSwitchTenants(rt[ve],Ye),function(Bt){(0,Be.tO)(vt.batches,function(nn){if(nn.iKey()===Bt){Wt=Wt||[];var An=nn.split(0);vt.numEvents-=An.count(),Wt.push(An)}})})}if(xe==200||xe==204){Ot=200;return}(!wt(xe)||vt.numEvents<=0)&&(qe=!1),Ot=9e3+xe%1e3}if(qe){Ot=100;var yt=vt.retryCnt;vt.sendType===0&&(yt<dt?(an=!0,ni(function(){vt.sendType===0&&Qn--,ti(vt.batches,yt+1,vt.isTeardown,Mt?2:vt.sendType,5)},Mt,Rt(yt))):(Ce=!0,Mt&&(Ot=8001)))}}finally{an||(hn.setClockSkew(),zr(vt,Ot,mt,Ce)),sr(Wt,8004,vt.sendType)}}a(mi,"_retryRequestIfNeeded");function zr(xe,rt,vt,mt){try{mt&&Kn._backOffTransmission(),rt===200&&(!mt&&!xe.isSync&&Kn._clearBackOff(),Yr(xe.batches)),sr(xe.batches,rt,xe.sendType,!0)}finally{xe.sendType===0&&(Qn--,vt!==5&&Gt.sendQueuedRequests(xe.sendType,vt))}}a(zr,"_handleRequestFinished");function Yr(xe){if(Ee){var rt=(0,Me.hK)();(0,Be.tO)(xe,function(vt){vt&&vt.count()>0&&vi(vt.events(),rt)})}}a(Yr,"_addCompleteTimings");function ni(xe,rt,vt){rt?xe():tn.set(xe,vt)}a(ni,"_doAction");function Ri(xe){var rt={};if((0,Be.HD)(xe)){var vt=(0,Be.nd)(xe).split(/[\r\n]+/);(0,Be.tO)(vt,function(mt){if(mt){var Ot=mt.indexOf(": ");if(Ot!==-1){var Wt=(0,Be.nd)(mt.substring(0,Ot)).toLowerCase(),an=(0,Be.nd)(mt.substring(Ot+1));rt[Wt]=an}else rt[(0,Be.nd)(mt)]=1}})}return rt}a(Ri,"_convertAllHeadersToMap");function ui(xe){for(var rt=0;rt<xe.batches.length;rt++){var vt=xe.batches[rt].Msfpc();if(vt)return encodeURIComponent(vt)}return lt}a(ui,"_getMsfpc");function Qr(xe){var rt=Gt._responseHandlers;try{for(var vt=0;vt<rt.length;vt++)try{rt[vt](xe)}catch(Ot){(0,ke.kP)(Xn,1,519,"Response handler failed: "+Ot)}if(xe){var mt=JSON.parse(xe);(0,Me.Sn)(mt.webResult)&&(0,Me.Sn)(mt.webResult[dr])&&gt.set("MSFPC",mt.webResult[dr],365*86400)}}catch(Ot){}}a(Qr,"_handleCollectorResponse");function sr(xe,rt,vt,mt){if(xe&&xe.length>0&&Lt){var Ot=Lt[ri(rt)];if(Ot){var Wt=vt!==0;(0,ee.Lm)(rn,function(){return"HttpManager:_sendBatchesNotification"},function(){ni(function(){try{Ot.call(Lt,xe,rt,Wt,vt)}catch(an){(0,ke.kP)(Xn,1,74,"send request notification failed: "+an)}},mt||Wt,0)},function(){return{batches:si(xe),reason:rt,isSync:Wt,sendSync:mt,sendType:vt}},!Wt)}}}a(sr,"_sendBatchesNotification");function ri(xe){var rt=Hr[xe];return(0,Me.Sn)(rt)||(rt=yn,xe>=9e3&&xe<=9999?rt=wn:xe>=8e3&&xe<=8999?rt=X:xe>=1e3&&xe<=1999&&(rt=tt)),rt}a(ri,"_getNotificationAction")})}return a(We,"HttpManager"),We.__ieDyn=1,We}();function Fr(We,ut){for(var Et=[],dt=2;dt<arguments.length;dt++)Et[dt-2]=arguments[dt];return setTimeout(We,ut,Et)}a(Fr,"defaultSetTimeout");function qr(We){clearTimeout(We)}a(qr,"defaultClearTimeout");function Ci(We,ut){return{set:We||Fr,clear:ut||qr}}a(Ci,"createTimeoutWrapper");var Ti=.25,Li=500,fa=20,qi=6,ht=2,Zi=4,Mi=2,xr=1,Nr="eventsDiscarded",ei="overrideInstrumentationKey",Gr="maxEventRetryAttempts",Qi="maxUnloadEventRetryAttempts",pi="addUnloadCb",oi=function(We){(0,v.ne)(ut,We);function ut(){var Et=We.call(this)||this;Et.identifier="PostChannel",Et.priority=1011,Et.version="3.2.10";var dt,Lt=!1,tn=[],xt=null,on=!1,Yt=0,hn=500,Tn=0,Qn=1e4,Kn={},Xn=Ne,Bn=null,rn=null,Jt=0,vn=0,mn,K,ue={},Ee,gt,Mt=-1,Ht,pn=!0,cn=!1,sn=qi,gn=ht,_n,Gt;return G(ut,Et,function(Ct,Fn){Zr(),Ct._getDbgPlgTargets=function(){return[K]},Ct.initialize=function(Ce,qe,Ye){(0,ee.Lm)(qe,function(){return"PostChannel:initialize"},function(){var yt=qe;Fn.initialize(Ce,qe,Ye);try{var Bt=!!qe[pi];_n=(0,ae.jU)((0,we.J)(Ct.identifier),qe.evtNamespace&&qe.evtNamespace());var nn=Ct._getTelCtx();Ce.extensionConfig[Ct.identifier]=Ce.extensionConfig[Ct.identifier]||{},dt=nn.getExtCfg(Ct.identifier),Gt=Ci(dt.setTimeoutOverride,dt.clearTimeoutOverride),pn=!dt.disableOptimizeObj&&(0,Me.mJ)(),Dn(yt),dt.eventsLimitInMem>0&&(Qn=dt.eventsLimitInMem),dt.immediateEventLimit>0&&(hn=dt.immediateEventLimit),dt.autoFlushEventsLimit>0&&(Ee=dt.autoFlushEventsLimit),(0,Be.hj)(dt[Gr])&&(sn=dt[Gr]),(0,Be.hj)(dt[Qi])&&(gn=dt[Qi]),an(),dt.httpXHROverride&&dt.httpXHROverride.sendPOST&&(mn=dt.httpXHROverride),(0,Me.Sn)(Ce.anonCookieName)&&K.addQueryStringParameter("anoncknm",Ce.anonCookieName),K.sendHook=dt.payloadPreprocessor,K.sendListener=dt.payloadListener;var An=dt.overrideEndpointUrl?dt.overrideEndpointUrl:Ce.endpointUrl;Ct._notificationManager=qe.getNotifyMgr(),K.initialize(An,Ct.core,Ct,mn,dt);var Sn=Ce.disablePageUnloadEvents||[];(0,ae.c9)(Un,Sn,_n),(0,ae.TJ)(Un,Sn,_n),(0,ae.nD)(Vn,Ce.disablePageShowEvents,_n)}catch(Hn){throw Ct.setInitialized(!1),Hn}},function(){return{coreConfig:Ce,core:qe,extensions:Ye}})},Ct.processTelemetry=function(Ce,qe){(0,Me.if)(Ce,Ct.identifier),qe=Ct._getTelCtx(qe);var Ye=qe.getExtCfg(Ct.identifier),yt=!!dt.disableTelemetry;Ye&&(yt=yt||!!Ye.disableTelemetry);var Bt=Ce;!yt&&!Lt&&(dt[ei]&&(Bt.iKey=dt[ei]),Ye&&Ye[ei]&&(Bt.iKey=Ye[ei]),en(Bt,!0),cn?si(2,2):On()),Ct.processNext(Bt,qe)},Ct._doTeardown=function(Ce,qe){si(2,2),Lt=!0,K.teardown(),(0,ae.JA)(null,_n),(0,ae.C9)(null,_n),(0,ae.Yl)(null,_n),Zr()};function Dn(Ce){var qe=Ce.getWParam;Ce.getWParam=function(){var Ye=0;return dt.ignoreMc1Ms0CookieProcessing&&(Ye=Ye|2),Ye|qe()}}a(Dn,"_hookWParam");function Un(Ce){var qe=Ce||(0,pe.Jj)().event;qe.type!=="beforeunload"&&(cn=!0,K.setUnloading(cn)),si(2,2)}a(Un,"_handleUnloadEvents");function Vn(Ce){cn=!1,K.setUnloading(cn)}a(Vn,"_handleShowEvents");function en(Ce,qe){if(Ce.sendAttempt||(Ce.sendAttempt=0),Ce.latency||(Ce.latency=1),Ce.ext&&Ce.ext[$r]&&delete Ce.ext[$r],Ce.ext&&Ce.ext[Pr]&&Ce.ext[Pr].id&&delete Ce.ext[Pr].id,pn&&(Me.if,Ce.ext=(0,Be.Ax)(Ce.ext),Ce.baseData&&(Ce.baseData=(0,Be.Ax)(Ce.baseData)),Ce.data&&(Ce.data=(0,Be.Ax)(Ce.data))),Ce.sync){if(Jt||on)Ce.latency=3,Ce.sync=!1;else if(K){pn&&(Ce=(0,Be.Ax)(Ce)),K.sendSynchronousBatch(br.create(Ce.iKey,[Ce]),Ce.sync===!0?1:Ce.sync,3);return}}var Ye=Ce.latency,yt=Tn,Bt=Qn;Ye===4&&(yt=Yt,Bt=hn);var nn=!1;if(yt<Bt)nn=!Cr(Ce,qe);else{var An=1,Sn=fa;Ye===4&&(An=4,Sn=1),nn=!0,vi(Ce.iKey,Ce.latency,An,Sn)&&(nn=!Cr(Ce,qe))}nn&&ri(Nr,[Ce],De.h.QueueFull)}a(en,"_addEventToQueues"),Ct.setEventQueueLimits=function(Ce,qe){Qn=Ce>0?Ce:1e4,Ee=qe>0?qe:0,an();var Ye=Tn>Ce;if(!Ye&&gt>0)for(var yt=1;!Ye&&yt<=3;yt++){var Bt=ue[yt];Bt&&Bt.batches&&(0,Be.tO)(Bt.batches,function(nn){nn&&nn.count()>=gt&&(Ye=!0)})}Wr(!0,Ye)},Ct.pause=function(){Mr(),on=!0,K.pause()},Ct.resume=function(){on=!1,K.resume(),On()},Ct.addResponseHandler=function(Ce){K._responseHandlers.push(Ce)},Ct._loadTransmitProfiles=function(Ce){Ri(),(0,Be.rW)(Ce,function(qe,Ye){var yt=Ye.length;if(yt>=2){var Bt=yt>2?Ye[2]:0;if(Ye.splice(0,yt-2),Ye[1]<0&&(Ye[0]=-1),Ye[1]>0&&Ye[0]>0){var nn=Ye[0]/Ye[1];Ye[0]=Math.ceil(nn)*Ye[1]}Bt>=0&&Ye[1]>=0&&Bt>Ye[1]&&(Bt=Ye[1]),Ye.push(Bt),Kn[qe]=Ye}})},Ct.flush=function(Ce,qe,Ye){if(Ce===void 0&&(Ce=!0),!on)if(Ye=Ye||1,Ce)xt==null?(Mr(),zr(1,0,Ye),xt=Lr(function(){xt=null,Yr(qe,Ye)},0)):tn.push(qe);else{var yt=Mr();kr(1,1,Ye),qe!=null&&qe(),yt&&On()}},Ct.setMsaAuthTicket=function(Ce){K.addHeader(ar,Ce)},Ct.hasEvents=_r,Ct._setTransmitProfile=function(Ce){Xn!==Ce&&Kn[Ce]!==void 0&&(Mr(),Xn=Ce,On())};function kr(Ce,qe,Ye){var yt=zr(Ce,qe,Ye);return K.sendQueuedRequests(qe,Ye),yt}a(kr,"_sendEventsForLatencyAndAbove");function _r(){return Tn>0}a(_r,"_hasEvents");function On(){if(Mt>=0&&zr(Mt,0,Ht)&&K.sendQueuedRequests(0,Ht),Yt>0&&!rn&&!on){var Ce=Kn[Xn][2];Ce>=0&&(rn=Lr(function(){rn=null,kr(4,0,1),On()},Ce))}var qe=Kn[Xn][1];!Bn&&!xt&&qe>=0&&!on&&(_r()?Bn=Lr(function(){Bn=null,kr(vn===0?3:1,0,1),vn++,vn%=2,On()},qe):vn=0)}a(On,"_scheduleTimer"),Ct._backOffTransmission=function(){Jt<Zi&&(Jt++,Mr(),On())},Ct._clearBackOff=function(){Jt&&(Jt=0,Mr(),On())};function Zr(){dt=null,Lt=!1,tn=[],xt=null,on=!1,Yt=0,hn=500,Tn=0,Qn=1e4,Kn={},Xn=Ne,Bn=null,rn=null,Jt=0,vn=0,mn=null,ue={},Ee=void 0,gt=0,Mt=-1,Ht=null,pn=!0,cn=!1,sn=qi,gn=ht,_n=null,Gt=Ci(),K=new nr(Li,Mi,xr,{requeue:Qr,send:rt,sent:vt,drop:mt,rspFail:Ot,oth:Wt},Gt),ui(),ti(),an()}a(Zr,"_initDefaults");function Lr(Ce,qe){qe===0&&Jt&&(qe=1);var Ye=1e3;return Jt&&(Ye=Rt(Jt-1)),Gt.set(Ce,qe*Ye)}a(Lr,"_createTimer");function Mr(){return Bn!==null?(Gt.clear(Bn),Bn=null,vn=0,!0):!1}a(Mr,"_clearScheduledTimer");function si(Ce,qe){Mr(),xt&&(Gt.clear(xt),xt=null),on||kr(1,Ce,qe)}a(si,"_releaseAllQueues");function ti(){ue[4]={batches:[],iKeyMap:{}},ue[3]={batches:[],iKeyMap:{}},ue[2]={batches:[],iKeyMap:{}},ue[1]={batches:[],iKeyMap:{}}}a(ti,"_clearQueues");function li(Ce,qe,Ye){var yt=ue[qe];yt||(qe=1,yt=ue[qe]);var Bt=yt.iKeyMap[Ce];return!Bt&&Ye&&(Bt=br.create(Ce),yt.batches.push(Bt),yt.iKeyMap[Ce]=Bt),Bt}a(li,"_getEventBatch");function Wr(Ce,qe){K.canSendRequest()&&!Jt&&(Ee>0&&Tn>Ee&&(qe=!0),qe&&xt==null&&Ct.flush(Ce,null,20))}a(Wr,"_performAutoFlush");function Cr(Ce,qe){pn&&(Ce=(0,Be.Ax)(Ce));var Ye=Ce.latency,yt=li(Ce.iKey,Ye,!0);return yt.addEvent(Ce)?(Ye!==4?(Tn++,qe&&Ce.sendAttempt===0&&Wr(!Ce.sync,gt>0&&yt.count()>=gt)):Yt++,!0):!1}a(Cr,"_addEventToProperQueue");function vi(Ce,qe,Ye,yt){for(;Ye<=qe;){var Bt=li(Ce,qe,!0);if(Bt&&Bt.count()>0){var nn=Bt.split(0,yt),An=nn.count();if(An>0)return Ye===4?Yt-=An:Tn-=An,xe(Nr,[nn],De.h.QueueFull),!0}Ye++}return mi(),!1}a(vi,"_dropEventWithLatencyOrLess");function mi(){for(var Ce=0,qe=0,Ye=a(function(Bt){var nn=ue[Bt];nn&&nn.batches&&(0,Be.tO)(nn.batches,function(An){Bt===4?Ce+=An.count():qe+=An.count()})},"_loop_1"),yt=1;yt<=4;yt++)Ye(yt);Tn=qe,Yt=Ce}a(mi,"_resetQueueCounts");function zr(Ce,qe,Ye){var yt=!1,Bt=qe===0;return!Bt||K.canSendRequest()?(0,ee.Lm)(Ct.core,function(){return"PostChannel._queueBatches"},function(){for(var nn=[],An=4;An>=Ce;){var Sn=ue[An];Sn&&Sn.batches&&Sn.batches.length>0&&((0,Be.tO)(Sn.batches,function(Hn){K.addBatch(Hn)?yt=yt||Hn&&Hn.count()>0:nn=nn.concat(Hn.events()),An===4?Yt-=Hn.count():Tn-=Hn.count()}),Sn.batches=[],Sn.iKeyMap={}),An--}nn.length>0&&ri(Nr,nn,De.h.KillSwitch),yt&&Mt>=Ce&&(Mt=-1,Ht=0)},function(){return{latency:Ce,sendType:qe,sendReason:Ye}},!Bt):(Mt=Mt>=0?Math.min(Mt,Ce):Ce,Ht=Math.max(Ht,Ye)),yt}a(zr,"_queueBatches");function Yr(Ce,qe){kr(1,0,qe),mi(),ni(function(){Ce&&Ce(),tn.length>0?xt=Lr(function(){xt=null,Yr(tn.shift(),qe)},0):(xt=null,On())})}a(Yr,"_flushImpl");function ni(Ce){K.isCompletelyIdle()?Ce():xt=Lr(function(){xt=null,ni(Ce)},Ti)}a(ni,"_waitForIdleManager");function Ri(){Mr(),ui(),Xn=Ne,On()}a(Ri,"_resetTransmitProfiles");function ui(){Kn={},Kn[Ne]=[2,1,0],Kn[He]=[6,3,0],Kn[et]=[18,9,0]}a(ui,"_initializeProfiles");function Qr(Ce,qe){var Ye=[],yt=sn;cn&&(yt=gn),(0,Be.tO)(Ce,function(Bt){Bt&&Bt.count()>0&&(0,Be.tO)(Bt.events(),function(nn){nn&&(nn.sync&&(nn.latency=4,nn.sync=!1),nn.sendAttempt<yt?((0,Me.if)(nn,Ct.identifier),en(nn,!1)):Ye.push(nn))})}),Ye.length>0&&ri(Nr,Ye,De.h.NonRetryableStatus),cn&&si(2,2)}a(Qr,"_requeueEvents");function sr(Ce,qe){var Ye=Ct._notificationManager||{},yt=Ye[Ce];if(yt)try{yt.apply(Ye,qe)}catch(Bt){(0,ke.kP)(Ct.diagLog(),1,74,Ce+" notification failed: "+Bt)}}a(sr,"_callNotification");function ri(Ce,qe){for(var Ye=[],yt=2;yt<arguments.length;yt++)Ye[yt-2]=arguments[yt];qe&&qe.length>0&&sr(Ce,[qe].concat(Ye))}a(ri,"_notifyEvents");function xe(Ce,qe){for(var Ye=[],yt=2;yt<arguments.length;yt++)Ye[yt-2]=arguments[yt];qe&&qe.length>0&&(0,Be.tO)(qe,function(Bt){Bt&&Bt.count()>0&&sr(Ce,[Bt.events()].concat(Ye))})}a(xe,"_notifyBatchEvents");function rt(Ce,qe,Ye){Ce&&Ce.length>0&&sr("eventsSendRequest",[qe>=1e3&&qe<=1999?qe-1e3:0,Ye!==!0])}a(rt,"_sendingEvent");function vt(Ce,qe){xe("eventsSent",Ce,qe),On()}a(vt,"_eventsSentEvent");function mt(Ce,qe){xe(Nr,Ce,qe>=8e3&&qe<=8999?qe-8e3:De.h.Unknown)}a(mt,"_eventsDropped");function Ot(Ce){xe(Nr,Ce,De.h.NonRetryableStatus),On()}a(Ot,"_eventsResponseFail");function Wt(Ce,qe){xe(Nr,Ce,De.h.Unknown),On()}a(Wt,"_otherEvent");function an(){!dt||!dt.disableAutoBatchFlushLimit?gt=Math.max(Li*(Mi+1),Qn/6):gt=0}a(an,"_setAutoLimits"),(0,Be.l_)(Ct,"_setTimeoutOverride",function(){return Gt.set},function(Ce){Gt=Ci(Ce,Gt.clear)}),(0,Be.l_)(Ct,"_clearTimeoutOverride",function(){return Gt.clear},function(Ce){Gt=Ci(Gt.set,Ce)})}),Et}return a(ut,"PostChannel"),ut.__ieDyn=1,ut}(Ze.i);const da=oi},4873:(fe,c,E)=>{"use strict";E.d(c,{By:()=>p,cc:()=>w});var v=E(6708);function p(R){var T={};return(0,v.rW)(R,function(d,b){T[d]=b,T[b]=d}),(0,v._A)(T)}a(p,"createEnumStyle");function y(R){var T={};return objForEachKey(R,function(d,b){T[d]=d,T[b]=d}),deepFreeze(T)}a(y,"createEnumMap");function w(R){var T={};return(0,v.rW)(R,function(d,b){T[d]=b[1],T[b[0]]=b[1]}),(0,v._A)(T)}a(w,"createValueMap")},5928:(fe,c,E)=>{"use strict";E.d(c,{h:()=>p});var v=E(4873),p=(0,v.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(fe,c,E)=>{"use strict";E.d(c,{X:()=>H,v:()=>B});var v=E(4873),p,y="Failed",w=y+"MonitorAjax",R="Track",T="Start",d="Stop",b="Event",x="AuthContext",_="Exception",S="Local",U="Session",I="Storage",V="Browser",j="Cannot",le="Buffer",L="InstrumentationKey",H=(0,v.By)({CRITICAL:1,WARNING:2}),B=(0,v.By)((p={},p[V+"DoesNotSupport"+S+I]=0,p[V+j+"Read"+S+I]=1,p[V+j+"Read"+U+I]=2,p[V+j+"Write"+S+I]=3,p[V+j+"Write"+U+I]=4,p[V+y+"RemovalFrom"+S+I]=5,p[V+y+"RemovalFrom"+U+I]=6,p[j+"SendEmptyTelemetry"]=7,p.ClientPerformanceMathError=8,p["ErrorParsingAI"+U+"Cookie"]=9,p.ErrorPVCalc=10,p[_+"WhileLoggingError"]=11,p[y+"AddingTelemetryTo"+le]=12,p[w+"Abort"]=13,p[w+"Dur"]=14,p[w+"Open"]=15,p[w+"RSC"]=16,p[w+"Send"]=17,p[w+"GetCorrelationHeader"]=18,p[y+"ToAddHandlerForOnBeforeUnload"]=19,p[y+"ToSendQueuedTelemetry"]=20,p[y+"ToReportDataLoss"]=21,p["Flush"+y]=22,p.MessageLimitPerPVExceeded=23,p.MissingRequiredFieldSpecification=24,p.NavigationTimingNotSupported=25,p.OnError=26,p[U+"RenewalDateIsZero"]=27,p.SenderNotInitialized=28,p[T+R+b+y]=29,p[d+R+b+y]=30,p[T+R+y]=31,p[d+R+y]=32,p.TelemetrySampledAndNotSent=33,p[R+b+y]=34,p[R+_+y]=35,p[R+"Metric"+y]=36,p[R+"PV"+y]=37,p[R+"PV"+y+"Calc"]=38,p[R+"Trace"+y]=39,p["Transmission"+y]=40,p[y+"ToSet"+I+le]=41,p[y+"ToRestore"+I+le]=42,p.InvalidBackendResponse=43,p[y+"ToFixDepricatedValues"]=44,p.InvalidDurationValue=45,p.TelemetryEnvelopeInvalid=46,p.CreateEnvelopeError=47,p[j+"SerializeObject"]=48,p[j+"SerializeObjectNonSerializable"]=49,p.CircularReferenceDetected=50,p["Clear"+x+y]=51,p[_+"Truncated"]=52,p.IllegalCharsInName=53,p.ItemNotInArray=54,p.MaxAjaxPerPVExceeded=55,p.MessageTruncated=56,p.NameTooLong=57,p.SampleRateOutOfRange=58,p["Set"+x+y]=59,p["Set"+x+y+"AccountName"]=60,p.StringValueTooLong=61,p.StartCalledMoreThanOnce=62,p.StopCalledWithoutStart=63,p["TelemetryInitializer"+y]=64,p.TrackArgumentsNotSpecified=65,p.UrlTooLong=66,p[U+I+le+"Full"]=67,p[j+"AccessCookie"]=68,p.IdTooLong=69,p.InvalidEvent=70,p[w+"SetRequestHeader"]=71,p["Send"+V+"InfoOnUserInit"]=72,p["Plugin"+_]=73,p["Notification"+_]=74,p.SnippetScriptLoadFailure=99,p["Invalid"+L]=100,p[j+"ParseAiBlobValue"]=101,p.InvalidContentBlob=102,p[R+"PageAction"+b+y]=103,p[y+"AddingCustomDefinedRequestContext"]=104,p["InMemory"+I+le+"Full"]=105,p[L+"Deprecation"]=106,p))},5121:(fe,c,E)=>{"use strict";E.d(c,{F:()=>_});var v=E(1088),p=E(1679),y=E(8096),w=E(6900),R=E(5018),T=E(6708),d=E(6041),b=E(1880),x=E(9288),_=function(S){(0,v.ne)(U,S);function U(){var I=S.call(this)||this;return(0,p.Z)(U,I,function(V,j){V[y.VL]=function(H,B,A,k){j[y.VL](H,B,A||new R.AQ(H),k||new b.f(H))},V.track=function(H){(0,x.Lm)(V[d.kl](),function(){return"AppInsightsCore:track"},function(){H===null&&(L(H),(0,T._y)("Invalid telemetry item")),le(H),j.track(H)},function(){return{item:H}},!H.sync)};function le(H){(0,T.le)(H[y.I])&&(L(H),(0,T._y)("telemetry name required"))}a(le,"_validateTelemetryItem");function L(H){var B=V[y.tb]();B&&B[d.$F]([H],2)}a(L,"_notifyInvalidEvent")}),I}return a(U,"AppInsightsCore"),U.__ieDyn=1,U}(w.A)},6900:(fe,c,E)=>{"use strict";E.d(c,{A:()=>Se});var v=E(1088),p=E(1679),y=E(2091),w=E(8096),R=E(6708),T=E(6041),d=E(1589),b=E(3833),x=500,_="Channel has invalid priority - ";function S(de,Z,se){Z&&(0,R.kJ)(Z)&&Z[w.R5]>0&&(Z=Z.sort(function(Te,Oe){return Te[T.yi]-Oe[T.yi]}),(0,R.tO)(Z,function(Te){Te[T.yi]<x&&(0,R._y)(_+Te[w.pZ])}),de[w.MW]({queue:(0,R.FL)(Z),chain:(0,d.jV)(Z,se[w.TC],se)}))}a(S,"_addChannelQueue");function U(de,Z){function se(){return(0,d.CD)(null,Z[w.TC],Z,null)}a(se,"_getTelCtx");function Te(G,ee,ae,we){var Me=G?G[w.R5]+1:1;function Be(){Me--,Me===0&&(we&&we(),we=null)}a(Be,"_runChainOnComplete"),Me>0&&(0,R.tO)(G,function(pe){if(pe&&pe.queue[w.R5]>0){var De=pe.chain,ke=ee[w.zV](De);ke[w.Fc](Be),ae(ke)}else Me--}),Be()}a(Te,"_processChannelQueue");function Oe(G,ee){var ae=ee||{reason:0};return Te(de,G,function(we){we[w.uL](ae)},function(){G[w.uL](ae)}),!0}a(Oe,"_doUpdate");function re(G,ee){var ae=ee||{reason:0,isAsync:!1};return Te(de,G,function(we){we[w.uL](ae)},function(){G[w.uL](ae),Xe=!1}),!0}a(re,"_doTeardown");function Ge(G){var ee=null;return de&&de[w.R5]>0&&(0,R.tO)(de,function(ae){if(ae&&ae.queue[w.R5]>0&&((0,R.tO)(ae.queue,function(we){if(we[w.pZ]===G)return ee=we,-1}),ee))return-1}),ee}a(Ge,"_getChannel");var Xe=!1,st={identifier:"ChannelControllerPlugin",priority:x,initialize:function(G,ee,ae,we){Xe=!0,(0,R.tO)(de,function(Me){Me&&Me.queue[w.R5]>0&&(0,b.bP)((0,d.CD)(Me.chain,G,ee),ae)})},isInitialized:function(){return Xe},processTelemetry:function(G,ee){Te(de,ee||se(),function(ae){ae[w.uL](G)},function(){ee[w.uL](G)})},update:Oe,pause:function(){Te(de,se(),function(G){G.iterate(function(ee){ee.pause&&ee.pause()})},null)},resume:function(){Te(de,se(),function(G){G.iterate(function(ee){ee.resume&&ee.resume()})},null)},teardown:re,getChannel:Ge,flush:function(G,ee,ae,we){var Me=1,Be=!1,pe=null;we=we||5e3;function De(){Me--,Be&&Me===0&&(pe&&(clearTimeout(pe),pe=null),ee&&ee(Be),ee=null)}return a(De,"doCallback"),Te(de,se(),function(ke){ke.iterate(function(Ze){if(Ze[w.kL]){Me++;var Ne=!1;Ze[w.kL](G,function(){Ne=!0,De()},ae)||Ne||(G&&pe==null?pe=setTimeout(function(){pe=null,De()},we):De())}})},function(){Be=!0,De()}),!0},_setQueue:function(G){de=G}};return st}a(U,"createChannelControllerPlugin");function I(de,Z,se){var Te=[];if(de&&(0,R.tO)(de,function(re){return S(Te,re,se)}),Z){var Oe=[];(0,R.tO)(Z,function(re){re[T.yi]>x&&Oe[w.MW](re)}),S(Te,Oe,se)}return Te}a(I,"createChannelQueues");var V=E(3242),j=E(5883),le=E(7158),L=E(5018),H=E(9288),B=E(4063),A=E(7630),k=function(de){(0,v.ne)(Z,de);function Z(){var se=de.call(this)||this;se.identifier="TelemetryInitializerPlugin",se.priority=199;var Te,Oe;re(),(0,p.Z)(Z,se,function(Ge,Xe){Ge.addTelemetryInitializer=function(st){var G={id:Te++,fn:st};Oe[w.MW](G);var ee={remove:function(){(0,R.tO)(Oe,function(ae,we){if(ae.id===G.id)return Oe[w.cb](we,1),-1})}};return ee},Ge[T.hL]=function(st,G){for(var ee=!1,ae=Oe[w.R5],we=0;we<ae;++we){var Me=Oe[we];if(Me)try{if(Me.fn[w.ZV](null,[st])===!1){ee=!0;break}}catch(Be){(0,L.kP)(G[w.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,R.jj)(Be),{exception:(0,A.eU)(Be)},!0)}}ee||Ge[w.uL](st,G)},Ge[w.F3]=function(){re()}});function re(){Te=0,Oe=[]}return a(re,"_initDefaults"),se}return a(Z,"TelemetryInitializerPlugin"),Z.__ieDyn=1,Z}(B.i),$=E(310),te="Plugins must provide initialize method",J="_notificationManager",ne="SDK is still unloading...",ce="SDK is not initialized",be={loggingLevelConsole:1};function ie(de,Z){return new H.Jk(Z)}a(ie,"_createPerfManager");function _e(de,Z,se){var Te,Oe=[],re={};return(0,R.tO)(se,function(Ge){((0,R.le)(Ge)||(0,R.le)(Ge[w.VL]))&&(0,R._y)(te);var Xe=Ge[T.yi],st=Ge[w.pZ];Ge&&Xe&&((0,R.le)(re[Xe])?re[Xe]=st:(0,L.jV)(de,"Two extensions have same priority #"+Xe+" - "+re[Xe]+", "+st)),(!Xe||Xe<Z)&&Oe[w.MW](Ge)}),Te={all:se},Te[T.oV]=Oe,Te}a(_e,"_validateExtensions");function z(de,Z){var se=!1;return(0,R.tO)(Z,function(Te){if(Te===de)return se=!0,-1}),se}a(z,"_isPluginPresent");function Ve(){var de;return(0,y.pu)((de={},de[w.g]=function(Z){},de[w.n7]=function(Z){},de[T.uC]=function(Z){},de[T.$F]=function(Z,se){},de[T.f_]=function(Z,se){},de))}a(Ve,"_createDummyNotificationManager");var Se=function(){function de(){var Z,se,Te,Oe,re,Ge,Xe,st,G,ee,ae,we,Me,Be,pe,De,ke,Ze,Ne,He,et=0;(0,p.Z)(de,this,function(lt){Ie(),lt[w.yl]=function(){return se},lt[w.VL]=function(me,pt,At,Ft){Be&&(0,R._y)(ne),lt[w.yl]()&&(0,R._y)("Core should not be initialized more than once"),Z=me||{},lt[w.TC]=Z,(0,R.le)(me[w.p$])&&(0,R._y)("Please provide instrumentation key"),Oe=Ft,lt[J]=Ft,g(),m(),q(),At&&(lt[w.eZ]=At);var Nt=(0,R.qK)(Z,T.js,[]);G=[],G[w.MW].apply(G,(0,v.$h)((0,v.$h)([],pt,!1),Nt,!1)),we=(0,R.qK)(Z,T.Z,[]),X(null),(!Me||Me[w.R5]===0)&&(0,R._y)("No "+T.Z+" available"),se=!0,lt.releaseQueue()},lt.getTransmissionControls=function(){var me=[];return Me&&(0,R.tO)(Me,function(pt){me[w.MW](pt.queue)}),(0,R.FL)(me)},lt.track=function(me){me.iKey=me.iKey||Z[w.p$],me[w.Z_]=me[w.Z_]||(0,R.Y6)(new Date),me.ver=me.ver||"4.0",!Be&&lt[w.yl]()?Q()[w.uL](me):Te[w.MW](me)},lt[w.SD]=Q,lt[w.tb]=function(){return Oe||(Oe=Ve(),lt[J]=Oe),Oe},lt[w.g]=function(me){Oe&&Oe[w.g](me)},lt[w.n7]=function(me){Oe&&Oe[w.n7](me)},lt.getCookieMgr=function(){return Xe||(Xe=(0,V.Nz)(Z,lt[w.eZ])),Xe},lt.setCookieMgr=function(me){Xe=me},lt[T.kl]=function(){if(!re&&!Ge&&(0,R.v4)(Z.enablePerfMgr)){var me=(0,R.v4)(Z[T.DN]);(0,R.mf)(me)&&(Ge=me(lt,lt[w.tb]()))}return re||Ge||(0,H.j5)()},lt.setPerfMgr=function(me){re=me},lt.eventCnt=function(){return Te[w.R5]},lt.releaseQueue=function(){if(se&&Te[w.R5]>0){var me=Te;Te=[],(0,R.tO)(me,function(pt){Q()[w.uL](pt)})}},lt.pollInternalLogs=function(me){De=me||null;var pt=(0,R.v4)(Z.diagnosticLogInterval);return(!pt||!(pt>0))&&(pt=1e4),et&&clearInterval(et),et=setInterval(function(){yn()},pt),et},lt[w.LS]=function(){et&&(clearInterval(et),et=0,yn())},(0,R.Vb)(lt,function(){return pe},["addTelemetryInitializer"]),lt.unload=function(me,pt,At){var Ft;me===void 0&&(me=!0),se||(0,R._y)(ce),Be&&(0,R._y)(ne);var Nt=(Ft={reason:50},Ft[w.d]=me,Ft.flushComplete=!1,Ft),Vt=(0,d.Bt)(Kt(),lt);Vt[w.Fc](function(){Ie(),pt&&pt(Nt)},lt);function zn(ar){Nt.flushComplete=ar,Be=!0,Ze.run(Vt,Nt),lt[w.LS](),Vt[w.uL](Nt)}a(zn,"_doUnload"),O(me,zn,6,At)||zn(!1)},lt[w.TO]=tt,lt.addPlugin=function(me,pt,At,Ft){if(!me){Ft&&Ft(!1),Fe(te);return}var Nt=tt(me[w.pZ]);if(Nt&&!pt){Ft&&Ft(!1),Fe("Plugin ["+me[w.pZ]+"] is already loaded!");return}var Vt={reason:16};function zn(fr){G[w.MW](me),Vt.added=[me],X(Vt),Ft&&Ft(!0)}if(a(zn,"_addPlugin"),Nt){var ar=[Nt.plugin],mr={reason:2,isAsync:!!At};wn(ar,mr,function(fr){fr?(Vt.removed=ar,Vt.reason|=32,zn(!0)):Ft&&Ft(!1)})}else zn(!1)},lt.evtNamespace=function(){return ke},lt[w.kL]=O,lt.getTraceCtx=function(me){return He||(He=(0,b.Yn)()),He},lt.setTraceCtx=function(me){He=me||null},(0,R.Oi)(lt,"addUnloadCb",function(){return Ze},"add");function Ie(){se=!1,Z=(0,R.mm)(!0,{},be),lt[w.TC]=Z,lt[w.eZ]=new L.AQ(Z),lt[w.iC]=[],pe=new k,Te=[],Oe=null,re=null,Ge=null,Xe=null,st=null,ee=null,G=[],ae=null,we=null,Me=null,Be=!1,De=null,ke=(0,j.J)("AIBaseCore",!0),Ze=(0,$.Y)(),He=null}a(Ie,"_initDefaults");function Q(){return(0,d.CD)(Kt(),Z,lt)}a(Q,"_createTelCtx");function X(me){var pt=_e(lt[w.eZ],x,G);ee=pt[T.oV],st=null;var At=pt.all;if(Me=(0,R.FL)(I(we,At,lt)),ae){var Ft=(0,R.UA)(At,ae);Ft!==-1&&At[w.cb](Ft,1),Ft=(0,R.UA)(ee,ae),Ft!==-1&&ee[w.cb](Ft,1),ae._setQueue(Me)}else ae=U(Me,lt);At[w.MW](ae),ee[w.MW](ae),lt[w.iC]=(0,b.AA)(At),ae[w.VL](Z,lt,At),(0,b.bP)(Q(),At),lt[w.iC]=(0,R.FL)((0,b.AA)(ee||[])).slice(),me&&ve(me)}a(X,"_initPluginChain");function tt(me){var pt,At=null,Ft=null;return(0,R.tO)(lt[w.iC],function(Nt){if(Nt[w.pZ]===me&&Nt!==ae&&Nt!==pe)return Ft=Nt,-1}),!Ft&&ae&&(Ft=ae.getChannel(me)),Ft&&(At=(pt={plugin:Ft},pt[w.$h]=function(Nt){(0,b.OY)(Ft)[T.mE]=!Nt},pt.isEnabled=function(){var Nt=(0,b.OY)(Ft);return!Nt[w.fi]&&!Nt[T.mE]},pt.remove=function(Nt,Vt){var zn;Nt===void 0&&(Nt=!0);var ar=[Ft],mr=(zn={reason:1},zn[w.d]=Nt,zn);wn(ar,mr,function(fr){fr&&X({reason:32,removed:ar}),Vt&&Vt(fr)})},pt)),At}a(tt,"_getPlugin");function Kt(){if(!st){var me=(ee||[]).slice();(0,R.UA)(me,pe)===-1&&me[w.MW](pe),st=(0,d.jV)((0,b.AA)(me),Z,lt)}return st}a(Kt,"_getPluginChain");function wn(me,pt,At){if(me&&me[w.R5]>0){var Ft=(0,d.jV)(me,Z,lt),Nt=(0,d.Bt)(Ft,lt);Nt[w.Fc](function(){var Vt=!1,zn=[];(0,R.tO)(G,function(mr,fr){z(mr,me)?Vt=!0:zn[w.MW](mr)}),G=zn;var ar=[];we&&((0,R.tO)(we,function(mr,fr){var er=[];(0,R.tO)(mr,function(dr){z(dr,me)?Vt=!0:er[w.MW](dr)}),ar[w.MW](er)}),we=ar),At&&At(Vt)}),Nt[w.uL](pt)}else At(!1)}a(wn,"_removePlugins");function yn(){var me=lt[w.eZ]?lt[w.eZ].queue:[];me&&((0,R.tO)(me,function(pt){var At,Ft=(At={},At[w.I]=De||"InternalMessageId: "+pt[w.Gc],At.iKey=(0,R.v4)(Z[w.p$]),At.time=(0,R.Y6)(new Date),At.baseType=L.lQ.dataType,At.baseData={message:pt[w.gU]},At);lt.track(Ft)}),me[w.R5]=0)}a(yn,"_flushInternalLogs");function O(me,pt,At,Ft){return ae?ae[w.kL](me,pt,At||6,Ft):(pt&&pt(!1),!0)}a(O,"_flushChannels");function g(){var me=(0,R.v4)(Z.disableDbgExt);me===!0&&Ne&&(Oe[w.n7](Ne),Ne=null),Oe&&!Ne&&me!==!0&&(Ne=(0,le.p)(Z),Oe[w.g](Ne))}a(g,"_initDebugListener");function m(){var me=(0,R.v4)(Z.enablePerfMgr);!me&&Ge&&(Ge=null),me&&(0,R.qK)(Z,T.DN,ie)}a(m,"_initPerfManager");function q(){var me=(0,R.qK)(Z,T.Zh,{});me.NotificationManager=Oe}a(q,"_initExtConfig");function ve(me){var pt=(0,d.xy)(Kt(),lt);(!lt._updateHook||lt._updateHook(pt,me)!==!0)&&pt[w.uL](me)}a(ve,"_doUpdate");function Fe(me){var pt=lt[w.eZ];pt?(0,L.kP)(pt,2,73,me):(0,R._y)(me)}a(Fe,"_logOrThrowError")})}return a(de,"BaseCore"),de.__ieDyn=1,de}()},4063:(fe,c,E)=>{"use strict";E.d(c,{i:()=>b});var v=E(1679),p=E(8096),y=E(6708),w=E(6041),R=E(1589),T=E(310),d="getPlugin",b=function(){function x(){var _=this,S,U,I,V,j;H(),(0,v.Z)(x,_,function(B){B[p.VL]=function(A,k,$,te){L(A,k,te),S=!0},B[p.fi]=function(A,k){var $,te=B[w.oV];if(!te||A&&te!==A[w.oV]())return;var J,ne=!1,ce=A||(0,R.Bt)(null,te,I&&I[d]?I[d]():I),be=k||($={reason:0},$[p.d]=!1,$);function ie(){if(!ne){ne=!0,V.run(ce,k);var _e=j;j=[],(0,y.tO)(_e,function(z){z.rm()}),J===!0&&ce[p.uL](be),H()}}return a(ie,"_unloadCallback"),!B[p.F3]||B[p.F3](ce,be,ie)!==!0?ie():J=!0,J},B[p.Tu]=function(A,k){var $=B[w.oV];if(!$||A&&$!==A[w.oV]())return;var te,J=!1,ne=A||(0,R.xy)(null,$,I&&I[d]?I[d]():I),ce=k||{reason:0};function be(){J||(J=!0,L(ne.getCfg(),ne.core(),ne[p.W2]()))}return a(be,"_updateCallback"),!B._doUpdate||B._doUpdate(ne,ce,be)!==!0?be():te=!0,te},B._addHook=function(A){A&&((0,y.kJ)(A)?j=j.concat(A):j[p.MW](A))},(0,y.Oi)(B,"_addUnloadCb",function(){return V},"add")}),_[p.mc]=function(B){return le(B)[p.mc]()},_[p.yl]=function(){return S},_.setInitialized=function(B){S=B},_[p.Jd]=function(B){I=B},_[p.uL]=function(B,A){A?A[p.uL](B):I&&(0,y.mf)(I[w.hL])&&I[w.hL](B,null)},_._getTelCtx=le;function le(B){B===void 0&&(B=null);var A=B;if(!A){var k=U||(0,R.CD)(null,{},_[w.oV]);I&&I[d]?A=k[p.zV](null,I[d]):A=k[p.zV](null,I)}return A}a(le,"_getTelCtx");function L(B,A,k){B&&(0,y.sO)(B,w.Zh,[],null,y.le),!k&&A&&(k=A[p.SD]()[p.W2]());var $=I;I&&I[d]&&($=I[d]()),_[w.oV]=A,U=(0,R.CD)(k,B,A,$)}a(L,"_setDefaults");function H(){S=!1,_[w.oV]=null,U=null,I=null,j=[],V=(0,T.Y)()}a(H,"_initDefaults")}return a(x,"BaseTelemetryPlugin"),x.__ieDyn=1,x}()},3242:(fe,c,E)=>{"use strict";E.d(c,{kj:()=>A,JP:()=>ne,Nz:()=>ce,p7:()=>be,UY:()=>de});var v=E(8096),p=E(5018),y=E(7630),w=E(6708),R=E(6041),T="toGMTString",d="toUTCString",b="cookie",x="expires",_="enabled",S="isCookieUseDisabled",U="disableCookiesUsage",I="_ckMgr",V=null,j=null,le=null,L=(0,y.Me)(),H={},B={};function A(Z,se){var Te=ce[I]||B[I];return Te||(Te=ce[I]=ce(Z,se),B[I]=Te),Te}a(A,"_gblCookieMgr");function k(Z){return Z?Z.isEnabled():!0}a(k,"_isMgrEnabled");function $(Z){var se=Z[v.Lk]=Z[v.Lk]||{};if((0,w.sO)(se,"domain",Z.cookieDomain,w.BX,w.le),(0,w.sO)(se,"path",Z.cookiePath||"/",null,w.le),(0,w.le)(se[_])){var Te=void 0;(0,w.o8)(Z[S])||(Te=!Z[S]),(0,w.o8)(Z[U])||(Te=!Z[U]),se[_]=Te}return se}a($,"_createCookieMgrConfig");function te(Z,se){return se&&Z&&(0,w.kJ)(Z.ignoreCookies)?Z.ignoreCookies[v.ou](se)!==-1:!1}a(te,"_isIgnoredCookie");function J(Z,se){return se&&Z&&(0,w.kJ)(Z.blockedCookies)&&Z.blockedCookies[v.ou](se)!==-1?!0:te(Z,se)}a(J,"_isBlockedCookie");function ne(Z,se){var Te;if(Z)Te=Z.getCookieMgr();else if(se){var Oe=se[v.Lk];Oe[I]?Te=Oe[I]:Te=ce(se)}return Te||(Te=A(se,(Z||{})[v.eZ])),Te}a(ne,"safeGetCookieMgr");function ce(Z,se){var Te,Oe=$(Z||B),re=Oe.path||"/",Ge=Oe.domain,Xe=Oe[_]!==!1,st=(Te={isEnabled:function(){var G=Xe&&be(se),ee=B[I];return G&&ee&&st!==ee&&(G=k(ee)),G}},Te[v.$h]=function(G){Xe=G!==!1},Te.set=function(G,ee,ae,we,Me){var Be=!1;if(k(st)&&!J(Oe,G)){var pe={},De=(0,w.nd)(ee||R.qS),ke=De[v.ou](";");if(ke!==-1&&(De=(0,w.nd)(ee[v.zc](0,ke)),pe=ie(ee[v.zc](ke+1))),(0,w.sO)(pe,"domain",we||Ge,w.fQ,w.o8),!(0,w.le)(ae)){var Ze=(0,y.w1)();if((0,w.o8)(pe[x])){var Ne=(0,w.m6)(),He=Ne+ae*1e3;if(He>0){var et=new Date;et.setTime(He),(0,w.sO)(pe,x,_e(et,Ze?T:d)||_e(et,Ze?T:d)||R.qS,w.fQ)}}Ze||(0,w.sO)(pe,"max-age",R.qS+ae,null,w.o8)}var lt=(0,y.k$)();lt&&lt.protocol==="https:"&&((0,w.sO)(pe,"secure",null,null,w.o8),j===null&&(j=!de(((0,y.jW)()||{})[v.qV])),j&&(0,w.sO)(pe,"SameSite","None",null,w.o8)),(0,w.sO)(pe,"path",Me||re,null,w.o8);var Ie=Oe.setCookie||Se;Ie(G,z(De,pe)),Be=!0}return Be},Te.get=function(G){var ee=R.qS;return k(st)&&!te(Oe,G)&&(ee=(Oe.getCookie||Ve)(G)),ee},Te.del=function(G,ee){var ae=!1;return k(st)&&(ae=st.purge(G,ee)),ae},Te.purge=function(G,ee){var ae,we=!1;if(be(se)){var Me=(ae={},ae.path=ee||"/",ae[x]="Thu, 01 Jan 1970 00:00:01 GMT",ae);(0,y.w1)()||(Me["max-age"]="0");var Be=Oe.delCookie||Se;Be(G,z(R.qS,Me)),we=!0}return we},Te);return st[I]=st,st}a(ce,"createCookieMgr");function be(Z){if(V===null){V=!1;try{var se=L||{};V=se[b]!==void 0}catch(Te){(0,p.kP)(Z,2,68,"Cannot access document.cookie - "+(0,w.jj)(Te),{exception:(0,y.eU)(Te)})}}return V}a(be,"areCookiesSupported");function ie(Z){var se={};if(Z&&Z[v.R5]){var Te=(0,w.nd)(Z)[v.w6](";");(0,w.tO)(Te,function(Oe){if(Oe=(0,w.nd)(Oe||R.qS),Oe){var re=Oe[v.ou]("=");re===-1?se[Oe]=null:se[(0,w.nd)(Oe[v.zc](0,re))]=(0,w.nd)(Oe[v.zc](re+1))}})}return se}a(ie,"_extractParts");function _e(Z,se){return(0,w.mf)(Z[se])?Z[se]():null}a(_e,"_formatDate");function z(Z,se){var Te=Z||R.qS;return(0,w.rW)(se,function(Oe,re){Te+="; "+Oe+((0,w.le)(re)?R.qS:"="+re)}),Te}a(z,"_formatCookieValue");function Ve(Z){var se=R.qS;if(L){var Te=L[b]||R.qS;le!==Te&&(H=ie(Te),le=Te),se=(0,w.nd)(H[Z]||R.qS)}return se}a(Ve,"_getCookieValue");function Se(Z,se){L&&(L[b]=Z+"="+se)}a(Se,"_setCookieValue");function de(Z){return(0,w.HD)(Z)?!!((0,w._Q)(Z,"CPU iPhone OS 12")||(0,w._Q)(Z,"iPad; CPU OS 12")||(0,w._Q)(Z,"Macintosh; Intel Mac OS X 10_14")&&(0,w._Q)(Z,"Version/")&&(0,w._Q)(Z,"Safari")||(0,w._Q)(Z,"Macintosh; Intel Mac OS X 10_14")&&(0,w.Id)(Z,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,w._Q)(Z,"Chrome/5")||(0,w._Q)(Z,"Chrome/6")||(0,w._Q)(Z,"UnrealEngine")&&!(0,w._Q)(Z,"Chrome")||(0,w._Q)(Z,"UCBrowser/12")||(0,w._Q)(Z,"UCBrowser/11")):!1}a(de,"uaDisallowsSameSiteNone")},5843:(fe,c,E)=>{"use strict";E.d(c,{GW:()=>U,Jj:()=>I,DO:()=>j,Tr:()=>le,zB:()=>H,oF:()=>A,vn:()=>k,ej:()=>$,d8:()=>te,kT:()=>J});var v=E(2091),p=E(8096),y=E(3242),w=E(7630),R=E(4869),T=E(6708),d=E(6041),b=E(4878),x=null,_,S=null;function U(){var ne=j();return ne[p.zc](0,8)+"-"+ne[p.zc](8,12)+"-"+ne[p.zc](12,16)+"-"+ne[p.zc](16,20)+"-"+ne[p.zc](20)}a(U,"newGuid");function I(){var ne=(0,w.r)();return ne&&ne.now?ne.now():(0,T.m6)()}a(I,"perfNow");function V(ne,ce){if(ne&&ce){var be=ne[_DYN_LENGTH],ie=be-ce[_DYN_LENGTH];return ne[_DYN_SUBSTRING](ie>=0?ie:0,be)===ce}return!1}a(V,"strEndsWith");function j(){for(var ne=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ce=d.qS,be,ie=0;ie<4;ie++)be=(0,b._l)(),ce+=ne[be&15]+ne[be>>4&15]+ne[be>>8&15]+ne[be>>12&15]+ne[be>>16&15]+ne[be>>20&15]+ne[be>>24&15]+ne[be>>28&15];var _e=ne[8+((0,b._l)()&3)|0];return ce[p.Jn](0,8)+ce[p.Jn](9,4)+"4"+ce[p.Jn](13,3)+_e+ce[p.Jn](16,3)+ce[p.Jn](19,12)}a(j,"generateW3CId");var le={_canUseCookies:void 0,isTypeof:T.Ym,isUndefined:T.o8,isNullOrUndefined:T.le,hasOwnProperty:T.nr,isFunction:T.mf,isObject:T.Kn,isDate:T.J_,isArray:T.kJ,isError:T.VZ,isString:T.HD,isNumber:T.hj,isBoolean:T.jn,toISOString:T.Y6,arrForEach:T.tO,arrIndexOf:T.UA,arrMap:T.Mr,arrReduce:T.Xz,strTrim:T.nd,objCreate:v.pu,objKeys:T.FY,objDefineAccessors:T.l_,addEventHandler:R.Ib,dateNow:T.m6,isIE:w.w1,disableCookies:A,newGuid:U,perfNow:I,newId:b.pZ,randomValue:b.az,random32:b._l,mwcRandomSeed:b.CN,mwcRandom32:b.F6,generateW3CId:j},L=/[xy]/g,H={Attach:R.pZ,AttachEvent:R.pZ,Detach:R.pD,DetachEvent:R.pD};function B(ne,ce){var be=(0,y.kj)(ne,ce),ie=le._canUseCookies;return x===null&&(x=[],_=ie,(0,T.l_)(le,"_canUseCookies",function(){return _},function(_e){_=_e,(0,T.tO)(x,function(z){z[p.$h](_e)})})),(0,T.UA)(x,be)===-1&&x[p.MW](be),(0,T.jn)(ie)&&be[p.$h](ie),(0,T.jn)(_)&&be[p.$h](_),be}a(B,"_legacyCookieMgr");function A(){B()[p.$h](!1)}a(A,"disableCookies");function k(ne){return B(null,ne).isEnabled()}a(k,"canUseCookies");function $(ne,ce){return B(null,ne).get(ce)}a($,"getCookie");function te(ne,ce,be,ie){B(null,ne).set(ce,be,null,ie)}a(te,"setCookie");function J(ne,ce){return B(null,ne).del(ce)}a(J,"deleteCookie")},5883:(fe,c,E)=>{"use strict";E.d(c,{J:()=>I,K:()=>V});var v=E(4392),p=E(8096),y=E(6708),w=E(6041),R=E(4878),T=v.RJ,d="2.8.12",b="."+(0,R.pZ)(6),x=0;function _(j,le,L){if(T)try{return T(j,le,{value:L,enumerable:!1,configurable:!0}),!0}catch(H){}return!1}a(_,"_createAccessor");function S(j){return j[p.xv]===1||j[p.xv]===9||!+j[p.xv]}a(S,"_canAcceptData");function U(j,le){var L=le[j.id];if(!L){L={};try{S(le)&&(_(le,j.id,L)||(le[j.id]=L))}catch(H){}}return L}a(U,"_getCache");function I(j,le){return le===void 0&&(le=!1),(0,y.Gf)(j+x+++(le?"."+d:w.qS)+b)}a(I,"createUniqueNamespace");function V(j){var le={id:I("_aiData-"+(j||w.qS)+"."+d),accept:function(L){return S(L)},get:function(L,H,B,A){var k=L[le.id];return k?k[(0,y.Gf)(H)]:(A&&(k=U(le,L),k[(0,y.Gf)(H)]=B),B)},kill:function(L,H){if(L&&L[H])try{delete L[H]}catch(B){}}};return le}a(V,"createElmNodeData")},7158:(fe,c,E)=>{"use strict";E.d(c,{j:()=>b,p:()=>x});var v=E(8096),p=E(7630),y=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],w=null,R;function T(_,S){return function(){var U=arguments,I=b(S);if(I){var V=I.listener;V&&V[_]&&V[_][v.ZV](V,U)}}}a(T,"_listenerProxyFunc");function d(){var _=(0,p.a8)("Microsoft");return _&&(w=_.ApplicationInsights),w}a(d,"_getExtensionNamespace");function b(_){var S=w;return!S&&_.disableDbgExt!==!0&&(S=w||d()),S?S.ChromeDbgExt:null}a(b,"getDebugExt");function x(_){if(!R){R={};for(var S=0;S<y[v.R5];S++)R[y[S]]=T(y[S],_)}return R}a(x,"getDebugListener")},5018:(fe,c,E)=>{"use strict";E.d(c,{lQ:()=>U,vH:()=>I,AQ:()=>V,kP:()=>le,jV:()=>L,L4:()=>H});var v=E(1679),p=E(8096),y=E(7158),w=E(7630),R=E(6708),T=E(6041),d="AI (Internal): ",b="AI: ",x="AITR_";function _(B){return B?'"'+B[p.i7](/\"/g,T.qS)+'"':T.qS}a(_,"_sanitizeDiagnosticText");function S(B,A){var k=(0,w.dr)();if(k){var $="log";k[B]&&($=B),(0,R.mf)(k[$])&&k[$](A)}}a(S,"_logToConsole");var U=function(){function B(A,k,$,te){$===void 0&&($=!1);var J=this;J[p.Gc]=A,J[p.gU]=($?b:d)+A;var ne=T.qS;(0,w.nS)()&&(ne=(0,w.xA)().stringify(te));var ce=(k?" message:"+_(k):T.qS)+(te?" props:"+_(ne):T.qS);J[p.gU]+=ce}return a(B,"_InternalLogMessage"),B.dataType="MessageData",B}();function I(B,A){return(B||{})[p.eZ]||new V(A)}a(I,"safeGetLogger");var V=function(){function B(A){this.identifier="DiagnosticLogger",this.queue=[];var k=0,$={},te,J,ne,ce;(0,v.Z)(B,this,function(be){_e(A||{}),be.consoleLoggingLevel=function(){return te},be.telemetryLoggingLevel=function(){return J},be.maxInternalMessageLimit=function(){return ne},be[p.Fr]=function(){return ce},be.throwInternal=function(Se,de,Z,se,Te){Te===void 0&&(Te=!1);var Oe=new U(de,Z,Te,se);if(ce)throw(0,w.eU)(Oe);var re=Se===1?T.ys:T.cL;if((0,R.o8)(Oe[p.gU]))Ve("throw"+(Se===1?"Critical":"Warning"),Oe);else{if(Te){var Ge=+Oe[p.Gc];!$[Ge]&&te>=Se&&(be[re](Oe[p.gU]),$[Ge]=!0)}else te>=Se&&be[re](Oe[p.gU]);ie(Se,Oe)}},be[T.cL]=function(Se){S("warn",Se),Ve("warning",Se)},be[T.ys]=function(Se){S("error",Se),Ve("error",Se)},be.resetInternalMessageCount=function(){k=0,$={}},be[p.jk]=ie;function ie(Se,de){if(!z()){var Z=!0,se=x+de[p.Gc];if($[se]?Z=!1:$[se]=!0,Z&&(Se<=J&&(be.queue[p.MW](de),k++,Ve(Se===1?"error":"warn",de)),k===ne)){var Te="Internal events throttle limit per PageView reached for this app.",Oe=new U(23,Te,!1);be.queue[p.MW](Oe),Se===1?be[T.ys](Te):be[T.cL](Te)}}}a(ie,"_logInternalMessage");function _e(Se){te=(0,R.v4)(Se.loggingLevelConsole,0),J=(0,R.v4)(Se.loggingLevelTelemetry,1),ne=(0,R.v4)(Se.maxMessageLimit,25),ce=(0,R.v4)(Se.enableDebug,(0,R.v4)(Se[p.Fr],!1))}a(_e,"_setDefaultsFromConfig");function z(){return k>=ne}a(z,"_areInternalMessagesThrottled");function Ve(Se,de){var Z=(0,y.j)(A||{});Z&&Z[p.mc]&&Z[p.mc](Se,de)}a(Ve,"_debugExtMsg")})}return a(B,"DiagnosticLogger"),B.__ieDyn=1,B}();function j(B){return B||new V}a(j,"_getLogger");function le(B,A,k,$,te,J){J===void 0&&(J=!1),j(B).throwInternal(A,k,$,te,J)}a(le,"_throwInternal");function L(B,A){j(B)[T.cL](A)}a(L,"_warnToConsole");function H(B,A,k){j(B)[p.jk](A,k)}a(H,"_logInternalMessage")},7630:(fe,c,E)=>{"use strict";E.d(c,{dI:()=>be,a8:()=>ie,Ym:()=>_e,Jj:()=>z,Nv:()=>Ve,Me:()=>Se,d6:()=>de,jW:()=>Z,fE:()=>se,s1:()=>Te,k$:()=>Oe,dr:()=>re,r:()=>Ge,nS:()=>Xe,xA:()=>st,MX:()=>G,gz:()=>ee,b$:()=>ae,w1:()=>we,sA:()=>Me,eU:()=>Be,MF:()=>De,JO:()=>ke,cp:()=>Ze,Z3:()=>Ne,ed:()=>et,pI:()=>lt});var v=E(4392),p=E(2091),y=E(8096),w=E(6708),R=E(6041),T="window",d="document",b="documentMode",x="navigator",_="history",S="location",U="console",I="performance",V="JSON",j="crypto",le="msCrypto",L="ReactNative",H="msie",B="trident/",A="XMLHttpRequest",k=null,$=null,te=!1,J=null,ne=null;function ce(Ie,Q){var X=!1;if(Ie){try{if(X=Q in Ie,!X){var tt=Ie[v.hB];tt&&(X=Q in tt)}}catch(wn){}if(!X)try{var Kt=new Ie;X=!(0,w.o8)(Kt[Q])}catch(wn){}}return X}a(ce,"_hasProperty");function be(Ie){te=Ie}a(be,"setEnableEnvMocks");function ie(Ie){var Q=(0,p.Rd)();return Q&&Q[Ie]?Q[Ie]:Ie===T&&_e()?window:null}a(ie,"getGlobalInst");function _e(){return Boolean(typeof window===v.fK&&window)}a(_e,"hasWindow");function z(){return _e()?window:ie(T)}a(z,"getWindow");function Ve(){return Boolean(typeof document===v.fK&&document)}a(Ve,"hasDocument");function Se(){return Ve()?document:ie(d)}a(Se,"getDocument");function de(){return Boolean(typeof navigator===v.fK&&navigator)}a(de,"hasNavigator");function Z(){return de()?navigator:ie(x)}a(Z,"getNavigator");function se(){return Boolean(typeof history===v.fK&&history)}a(se,"hasHistory");function Te(){return se()?history:ie(_)}a(Te,"getHistory");function Oe(Ie){if(Ie&&te){var Q=ie("__mockLocation");if(Q)return Q}return typeof location===v.fK&&location?location:ie(S)}a(Oe,"getLocation");function re(){return typeof console!==v.jA?console:ie(U)}a(re,"getConsole");function Ge(){return ie(I)}a(Ge,"getPerformance");function Xe(){return Boolean(typeof JSON===v.fK&&JSON||ie(V)!==null)}a(Xe,"hasJSON");function st(){return Xe()?JSON||ie(V):null}a(st,"getJSON");function G(){return ie(j)}a(G,"getCrypto");function ee(){return ie(le)}a(ee,"getMsCrypto");function ae(){var Ie=Z();return Ie&&Ie.product?Ie.product===L:!1}a(ae,"isReactNative");function we(){var Ie=Z();if(Ie&&(Ie[y.qV]!==$||k===null)){$=Ie[y.qV];var Q=($||R.qS)[y.T1]();k=(0,w._Q)(Q,H)||(0,w._Q)(Q,B)}return k}a(we,"isIE");function Me(Ie){if(Ie===void 0&&(Ie=null),!Ie){var Q=Z()||{};Ie=Q?(Q[y.qV]||R.qS)[y.T1]():R.qS}var X=(Ie||R.qS)[y.T1]();if((0,w._Q)(X,H)){var tt=Se()||{};return Math.max(parseInt(X[y.w6](H)[1]),tt[b]||0)}else if((0,w._Q)(X,B)){var Kt=parseInt(X[y.w6](B)[1]);if(Kt)return Kt+4}return null}a(Me,"getIEVersion");function Be(Ie){var Q=Object[v.hB].toString[y._S](Ie),X=R.qS;return Q==="[object Error]"?X="{ stack: '"+Ie.stack+"', message: '"+Ie.message+"', name: '"+Ie[y.I]+"'":Xe()&&(X=st().stringify(Ie)),Q+X}a(Be,"dumpObj");function pe(Ie){if(!Ie||!isString(Ie)){var Q=Z()||{};Ie=Q?(Q[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var X=(Ie||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return X[_DYN_INDEX_OF]("safari")>=0}a(pe,"isSafari");function De(){return ne===null&&(ne=de()&&Boolean(Z().sendBeacon)),ne}a(De,"isBeaconsSupported");function ke(Ie){var Q=!1;try{Q=!!ie("fetch");var X=ie("Request");Q&&Ie&&X&&(Q=ce(X,"keepalive"))}catch(tt){}return Q}a(ke,"isFetchSupported");function Ze(){return J===null&&(J=typeof XDomainRequest!==v.jA,J&&Ne()&&(J=J&&!ce(ie(A),"withCredentials"))),J}a(Ze,"useXDomainRequest");function Ne(){var Ie=!1;try{var Q=ie(A);Ie=!!Q}catch(X){}return Ie}a(Ne,"isXhrSupported");function He(Ie,Q){if(Ie)for(var X=0;X<Ie[y.R5];X++){var tt=Ie[X];if(tt[y.I]&&tt[y.I]===Q)return tt}return{}}a(He,"_getNamedValue");function et(Ie){var Q=Se();return Q&&Ie?He(Q.querySelectorAll("meta"),Ie).content:null}a(et,"findMetaTag");function lt(Ie){var Q,X=Ge();if(X){var tt=X.getEntriesByType("navigation")||[];Q=He((tt[y.R5]>0?tt[0]:{}).serverTiming,Ie).description}return Q}a(lt,"findNamedServerTiming")},4869:(fe,c,E)=>{"use strict";E.d(c,{um:()=>ce,jU:()=>Se,XO:()=>de,QY:()=>Z,pZ:()=>se,pD:()=>Te,Ib:()=>Oe,C1:()=>re,yw:()=>Xe,nJ:()=>st,c9:()=>G,JA:()=>ee,TJ:()=>ae,C9:()=>we,nD:()=>Me,Yl:()=>Be});var v=E(8096),p=E(5883),y=E(7630),w=E(6708),R=E(6041),T="on",d="attachEvent",b="addEventListener",x="detachEvent",_="removeEventListener",S="events",U="visibilitychange",I="pagehide",V="pageshow",j="unload",le="beforeunload",L=(0,p.J)("aiEvtPageHide"),H=(0,p.J)("aiEvtPageShow"),B=/\.[\.]+/g,A=/[\.]+$/,k=1,$=(0,p.K)("events"),te=/^([^.]*)(?:\.(.+)|)/;function J(pe){return pe&&pe[v.i7]?pe[v.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,R.qS):pe}a(J,"_normalizeNamespace");function ne(pe,De){var ke;if(De){var Ze=R.qS;(0,w.kJ)(De)?(Ze=R.qS,(0,w.tO)(De,function(He){He=J(He),He&&(He[0]!=="."&&(He="."+He),Ze+=He)})):Ze=J(De),Ze&&(Ze[0]!=="."&&(Ze="."+Ze),pe=(pe||R.qS)+Ze)}var Ne=te.exec(pe||R.qS)||[];return ke={},ke[v.P6]=Ne[1],ke.ns=(Ne[2]||R.qS).replace(B,".").replace(A,R.qS)[v.w6](".").sort().join("."),ke}a(ne,"_getEvtNamespace");function ce(pe,De,ke){var Ze=[],Ne=$.get(pe,S,{},!1),He=ne(De,ke);return(0,w.rW)(Ne,function(et,lt){(0,w.tO)(lt,function(Ie){var Q;(!He[v.P6]||He[v.P6]===Ie.evtName[v.P6])&&(!He.ns||He.ns===He.ns)&&Ze[v.MW]((Q={},Q[v.I]=Ie.evtName[v.P6]+(Ie.evtName.ns?"."+Ie.evtName.ns:R.qS),Q.handler=Ie[v.Kn],Q))})}),Ze}a(ce,"__getRegisteredEvents");function be(pe,De,ke){ke===void 0&&(ke=!0);var Ze=$.get(pe,S,{},ke),Ne=Ze[De];return Ne||(Ne=Ze[De]=[]),Ne}a(be,"_getRegisteredEvents");function ie(pe,De,ke,Ze){pe&&De&&De[v.P6]&&(pe[_]?pe[_](De[v.P6],ke,Ze):pe[x]&&pe[x](T+De[v.P6],ke))}a(ie,"_doDetach");function _e(pe,De,ke,Ze){var Ne=!1;return pe&&De&&De[v.P6]&&ke&&(pe[b]?(pe[b](De[v.P6],ke,Ze),Ne=!0):pe[d]&&(pe[d](T+De[v.P6],ke),Ne=!0)),Ne}a(_e,"_doAttach");function z(pe,De,ke,Ze){for(var Ne=De[v.R5];Ne--;){var He=De[Ne];He&&(!ke.ns||ke.ns===He.evtName.ns)&&(!Ze||Ze(He))&&(ie(pe,He.evtName,He[v.Kn],He.capture),De[v.cb](Ne,1))}}a(z,"_doUnregister");function Ve(pe,De,ke){if(De[v.P6])z(pe,be(pe,De[v.P6]),De,ke);else{var Ze=$.get(pe,S,{});(0,w.rW)(Ze,function(Ne,He){z(pe,He,De,ke)}),(0,w.FY)(Ze)[v.R5]===0&&$.kill(pe,S)}}a(Ve,"_unregisterEvents");function Se(pe,De){var ke;return De?((0,w.kJ)(De)?ke=[pe].concat(De):ke=[pe,De],ke=ne("xx",ke).ns[v.w6](".")):ke=pe,ke}a(Se,"mergeEvtNamespace");function de(pe,De,ke,Ze,Ne){var He;Ne===void 0&&(Ne=!1);var et=!1;if(pe)try{var lt=ne(De,Ze);if(et=_e(pe,lt,ke,Ne),et&&$.accept(pe)){var Ie=(He={guid:k++,evtName:lt},He[v.Kn]=ke,He.capture=Ne,He);be(pe,lt.type)[v.MW](Ie)}}catch(Q){}return et}a(de,"eventOn");function Z(pe,De,ke,Ze,Ne){if(Ne===void 0&&(Ne=!1),pe)try{var He=ne(De,Ze),et=!1;Ve(pe,He,function(lt){return He.ns&&!ke||lt[v.Kn]===ke?(et=!0,!0):!1}),et||ie(pe,He,ke,Ne)}catch(lt){}}a(Z,"eventOff");function se(pe,De,ke,Ze){return Ze===void 0&&(Ze=!1),de(pe,De,ke,null,Ze)}a(se,"attachEvent");function Te(pe,De,ke,Ze){Ze===void 0&&(Ze=!1),Z(pe,De,ke,null,Ze)}a(Te,"detachEvent");function Oe(pe,De,ke){var Ze=!1,Ne=(0,y.Jj)();Ne&&(Ze=de(Ne,pe,De,ke),Ze=de(Ne.body,pe,De,ke)||Ze);var He=(0,y.Me)();return He&&(Ze=de(He,pe,De,ke)||Ze),Ze}a(Oe,"addEventHandler");function re(pe,De,ke){var Ze=(0,y.Jj)();Ze&&(Z(Ze,pe,De,ke),Z(Ze.body,pe,De,ke));var Ne=(0,y.Me)();Ne&&Z(Ne,pe,De,ke)}a(re,"removeEventHandler");function Ge(pe,De,ke,Ze){var Ne=!1;return De&&pe&&pe[v.R5]>0&&(0,w.tO)(pe,function(He){He&&(!ke||(0,w.UA)(ke,He)===-1)&&(Ne=Oe(He,De,Ze)||Ne)}),Ne}a(Ge,"_addEventListeners");function Xe(pe,De,ke,Ze){var Ne=!1;return De&&pe&&(0,w.kJ)(pe)&&(Ne=Ge(pe,De,ke,Ze),!Ne&&ke&&ke[v.R5]>0&&(Ne=Ge(pe,De,null,Ze))),Ne}a(Xe,"addEventListeners");function st(pe,De,ke){pe&&(0,w.kJ)(pe)&&(0,w.tO)(pe,function(Ze){Ze&&re(Ze,De,ke)})}a(st,"removeEventListeners");function G(pe,De,ke){return Xe([le,j,I],pe,De,ke)}a(G,"addPageUnloadEventListener");function ee(pe,De){st([le,j,I],pe,De)}a(ee,"removePageUnloadEventListener");function ae(pe,De,ke){function Ze(et){var lt=(0,y.Me)();pe&&lt&&lt.visibilityState==="hidden"&&pe(et)}a(Ze,"_handlePageVisibility");var Ne=Se(L,ke),He=Ge([I],pe,De,Ne);return(!De||(0,w.UA)(De,U)===-1)&&(He=Ge([U],Ze,De,Ne)||He),!He&&De&&(He=ae(pe,null,ke)),He}a(ae,"addPageHideEventListener");function we(pe,De){var ke=Se(L,De);st([I],pe,ke),st([U],null,ke)}a(we,"removePageHideEventListener");function Me(pe,De,ke){function Ze(et){var lt=(0,y.Me)();pe&&lt&&lt.visibilityState==="visible"&&pe(et)}a(Ze,"_handlePageVisibility");var Ne=Se(H,ke),He=Ge([V],pe,De,Ne);return He=Ge([U],Ze,De,Ne)||He,!He&&De&&(He=Me(pe,null,ke)),He}a(Me,"addPageShowEventListener");function Be(pe,De){var ke=Se(H,De);st([V],pe,ke),st([U],null,ke)}a(Be,"removePageShowEventListener")},6708:(fe,c,E)=>{"use strict";E.d(c,{Ym:()=>se,o8:()=>Te,le:()=>re,BX:()=>Ge,nr:()=>Xe,Kn:()=>st,mf:()=>G,Gf:()=>ae,rW:()=>we,Id:()=>Me,xe:()=>pe,_Q:()=>ke,J_:()=>Ze,kJ:()=>Ne,VZ:()=>et,HD:()=>lt,hj:()=>Ie,jn:()=>Q,Y6:()=>Kt,tO:()=>yn,UA:()=>O,Mr:()=>g,Xz:()=>m,nd:()=>q,FY:()=>me,l_:()=>pt,_A:()=>Ft,FL:()=>Nt,Xi:()=>Vt,m6:()=>zn,jj:()=>ar,sO:()=>mr,qK:()=>fr,v4:()=>er,F:()=>dr,fQ:()=>$r,_y:()=>Pr,cf:()=>qn,Oi:()=>br,Vb:()=>Sr,hl:()=>hi,Ax:()=>Jr,mm:()=>or});var v=E(4392),p=E(2091),y=E(8096),w=E(6041),R="toISOString",T="endsWith",d="startsWith",b="indexOf",x="map",_="reduce",S="trim",U="toString",I="__proto__",V="constructor",j=v.RJ,le=v.Pw.freeze,L=v.Pw.seal,H=v.Pw.keys,B=String[v.hB],A=B[S],k=B[T],$=B[d],te=Date[v.hB],J=te[R],ne=Array.isArray,ce=v.V4[U],be=v.CY[U],ie=be[y._S](v.Pw),_e=/-([a-z])/g,z=/([^\w\d_$])/g,Ve=/^(\d+[\w\d_$])/,Se=Object.getPrototypeOf;function de(W){if(W){if(Se)return Se(W);var ye=W[I]||W[v.hB]||W[V];if(ye)return ye}return null}a(de,"_getObjProto");function Z(W){return ce[_DYN_CALL](W)}a(Z,"objToString");function se(W,ye){return typeof W===ye}a(se,"isTypeof");function Te(W){return W===void 0||typeof W===v.jA}a(Te,"isUndefined");function Oe(W){return!Te(W)}a(Oe,"isNotUndefined");function re(W){return W===null||Te(W)}a(re,"isNullOrUndefined");function Ge(W){return!re(W)}a(Ge,"isNotNullOrUndefined");function Xe(W,ye){return!!(W&&v.CY[y._S](W,ye))}a(Xe,"hasOwnProperty");function st(W){return!!(W&&typeof W===v.fK)}a(st,"isObject");function G(W){return!!(W&&typeof W===v.cb)}a(G,"isFunction");function ee(W){return W&&G(W.then)}a(ee,"isPromiseLike");function ae(W){var ye=W;return ye&&lt(ye)&&(ye=ye[y.i7](_e,function(Pe,ze){return ze.toUpperCase()}),ye=ye[y.i7](z,"_"),ye=ye[y.i7](Ve,function(Pe,ze){return"_"+ze})),ye}a(ae,"normalizeJsName");function we(W,ye){if(W)for(var Pe in W)v.CY[y._S](W,Pe)&&ye[y._S](W,Pe,W[Pe])}a(we,"objForEachKey");function Me(W,ye){var Pe=!1;return W&&ye&&!(Pe=W===ye)&&(Pe=k?W[T](ye):Be(W,ye)),Pe}a(Me,"strEndsWith");function Be(W,ye){var Pe=!1,ze=ye?ye[y.R5]:0,ot=W?W[y.R5]:0;if(ze&&ot&&ot>=ze&&!(Pe=W===ye)){for(var nt=ot-1,wt=ze-1;wt>=0;wt--){if(W[nt]!=ye[wt])return!1;nt--}Pe=!0}return Pe}a(Be,"_strEndsWithPoly");function pe(W,ye){var Pe=!1;return W&&ye&&!(Pe=W===ye)&&(Pe=$?W[d](ye):De(W,ye)),Pe}a(pe,"strStartsWith");function De(W,ye){var Pe=!1,ze=ye?ye[y.R5]:0;if(W&&ze&&W[y.R5]>=ze&&!(Pe=W===ye)){for(var ot=0;ot<ze;ot++)if(W[ot]!==ye[ot])return!1;Pe=!0}return Pe}a(De,"_strStartsWithPoly");function ke(W,ye){return W&&ye?W[y.ou](ye)!==-1:!1}a(ke,"strContains");function Ze(W){return!!(W&&ce[y._S](W)==="[object Date]")}a(Ze,"isDate");var Ne=ne||He;function He(W){return!!(W&&ce[y._S](W)==="[object Array]")}a(He,"_isArrayPoly");function et(W){return!!(W&&ce[y._S](W)==="[object Error]")}a(et,"isError");function lt(W){return typeof W=="string"}a(lt,"isString");function Ie(W){return typeof W=="number"}a(Ie,"isNumber");function Q(W){return typeof W=="boolean"}a(Q,"isBoolean");function X(W){return typeof W=="symbol"}a(X,"isSymbol");function tt(W){var ye=!1;if(W&&typeof W=="object"){var Pe=Se?Se(W):de(W);Pe?(Pe[V]&&v.CY[y._S](Pe,V)&&(Pe=Pe[V]),ye=typeof Pe===v.cb&&be[y._S](Pe)===ie):ye=!0}return ye}a(tt,"isPlainObject");function Kt(W){if(W)return J?W[R]():wn(W)}a(Kt,"toISOString");function wn(W){if(W&&W.getUTCFullYear){var ye=a(function(Pe){var ze=String(Pe);return ze[y.R5]===1&&(ze="0"+ze),ze},"pad");return W.getUTCFullYear()+"-"+ye(W.getUTCMonth()+1)+"-"+ye(W.getUTCDate())+"T"+ye(W.getUTCHours())+":"+ye(W.getUTCMinutes())+":"+ye(W.getUTCSeconds())+"."+String((W.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(wn,"_toISOStringPoly");function yn(W,ye,Pe){var ze=W[y.R5];try{for(var ot=0;ot<ze&&!(ot in W&&ye[y._S](Pe||W,W[ot],ot,W)===-1);ot++);}catch(nt){}}a(yn,"arrForEach");function O(W,ye,Pe){if(W){if(W[b])return W[b](ye,Pe);var ze=W[y.R5],ot=Pe||0;try{for(var nt=Math.max(ot>=0?ot:ze-Math.abs(ot),0);nt<ze;nt++)if(nt in W&&W[nt]===ye)return nt}catch(wt){}}return-1}a(O,"arrIndexOf");function g(W,ye,Pe){var ze;if(W){if(W[x])return W[x](ye,Pe);var ot=W[y.R5],nt=Pe||W;ze=new Array(ot);try{for(var wt=0;wt<ot;wt++)wt in W&&(ze[wt]=ye[y._S](nt,W[wt],W))}catch(Rt){}}return ze}a(g,"arrMap");function m(W,ye,Pe){var ze;if(W){if(W[_])return W[_](ye,Pe);var ot=W[y.R5],nt=0;if(arguments[y.R5]>=3)ze=arguments[2];else{for(;nt<ot&&!(nt in W);)nt++;ze=W[nt++]}for(;nt<ot;)nt in W&&(ze=ye(ze,W[nt],nt,W)),nt++}return ze}a(m,"arrReduce");function q(W){return W&&(W=A&&W[S]?W[S]():W[y.i7]?W[y.i7](/^\s+|(?=\s)\s+$/g,w.qS):W),W}a(q,"strTrim");var ve=!{toString:null}.propertyIsEnumerable("toString"),Fe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function me(W){var ye=typeof W;if(ye!==v.cb&&(ye!==v.fK||W===null)&&(0,p.ZU)("objKeys called on non-object"),!ve&&H)return H(W);var Pe=[];for(var ze in W)W&&v.CY[y._S](W,ze)&&Pe[y.MW](ze);if(ve)for(var ot=Fe[y.R5],nt=0;nt<ot;nt++)W&&v.CY[y._S](W,Fe[nt])&&Pe[y.MW](Fe[nt]);return Pe}a(me,"objKeys");function pt(W,ye,Pe,ze){if(j)try{var ot={enumerable:!0,configurable:!0};return Pe&&(ot.get=Pe),ze&&(ot.set=ze),j(W,ye,ot),!0}catch(nt){}return!1}a(pt,"objDefineAccessors");function At(W){return W}a(At,"_doNothing");function Ft(W){return le&&we(W,function(ye,Pe){(Ne(Pe)||st(Pe))&&le(Pe)}),Nt(W)}a(Ft,"deepFreeze");var Nt=le||At,Vt=L||At;function zn(){var W=Date;return W.now?W.now():new W().getTime()}a(zn,"dateNow");function ar(W){return et(W)?W[y.I]:w.qS}a(ar,"getExceptionName");function mr(W,ye,Pe,ze,ot){var nt=Pe;return W&&(nt=W[ye],nt!==Pe&&(!ot||ot(nt))&&(!ze||ze(Pe))&&(nt=Pe,W[ye]=nt)),nt}a(mr,"setValue");function fr(W,ye,Pe){var ze;return W?(ze=W[ye],!ze&&re(ze)&&(ze=Te(Pe)?{}:Pe,W[ye]=ze)):ze=Te(Pe)?{}:Pe,ze}a(fr,"getSetValue");function er(W,ye){return re(W)?ye:W}a(er,"getCfgValue");function dr(W){return!W}a(dr,"isNotTruthy");function $r(W){return!!W}a($r,"isTruthy");function Pr(W){throw new Error(W)}a(Pr,"throwError");function Cn(W,ye){var Pe=null,ze=null;return G(W)?Pe=W:ze=W,function(){var ot=arguments;if(Pe&&(ze=Pe()),ze)return ze[ye][y.ZV](ze,ot)}}a(Cn,"_createProxyFunction");function qn(W,ye,Pe){if(W&&ye&&st(W)&&st(ye)){var ze=a(function(nt){if(lt(nt)){var wt=ye[nt];G(wt)?(!Pe||Pe(nt,!0,ye,W))&&(W[nt]=Cn(ye,nt)):(!Pe||Pe(nt,!1,ye,W))&&(Xe(W,nt)&&delete W[nt],pt(W,nt,function(){return ye[nt]},function(Rt){ye[nt]=Rt})||(W[nt]=wt))}},"_loop_1");for(var ot in ye)ze(ot)}return W}a(qn,"proxyAssign");function br(W,ye,Pe,ze,ot){W&&ye&&Pe&&(ot!==!1||Te(W[ye]))&&(W[ye]=Cn(Pe,ze))}a(br,"proxyFunctionAs");function Sr(W,ye,Pe,ze){return W&&ye&&st(W)&&Ne(Pe)&&yn(Pe,function(ot){lt(ot)&&br(W,ot,ye,ot,ze)}),W}a(Sr,"proxyFunctions");function hi(W){return function(){function ye(){var Pe=this;W&&we(W,function(ze,ot){Pe[ze]=ot})}return a(ye,"class_1"),ye}()}a(hi,"createClassFromInterface");function Jr(W){return W&&v.rl&&(W=(0,v.Pw)((0,v.rl)({},W))),W}a(Jr,"optimizeObject");function or(W,ye,Pe,ze,ot,nt){var wt=arguments,Rt=wt[0]||{},Ut=wt[y.R5],un=!1,St=1;for(Ut>0&&Q(Rt)&&(un=Rt,Rt=wt[St]||{},St++),st(Rt)||(Rt={});St<Ut;St++){var qt=wt[St],Zt=Ne(qt),Qt=st(qt);for(var kt in qt){var In=Zt&&kt in qt||Qt&&v.CY[y._S](qt,kt);if(!!In){var En=qt[kt],hr=void 0;if(un&&En&&((hr=Ne(En))||tt(En))){var tr=Rt[kt];hr?Ne(tr)||(tr=[]):tt(tr)||(tr={}),En=or(un,tr,En)}En!==void 0&&(Rt[kt]=En)}}}return Rt}a(or,"objExtend")},6041:(fe,c,E)=>{"use strict";E.d(c,{qS:()=>v,Z:()=>p,oV:()=>y,DN:()=>w,mE:()=>R,Zh:()=>T,js:()=>d,hL:()=>b,yi:()=>x,uC:()=>_,$F:()=>S,f_:()=>U,C$:()=>I,ys:()=>V,cL:()=>j,kl:()=>le});var v="",p="channels",y="core",w="createPerfMgr",R="disabled",T="extensionConfig",d="extensions",b="processTelemetry",x="priority",_="eventsSent",S="eventsDiscarded",U="eventsSendRequest",I="perfEvent",V="errorToConsole",j="warnToConsole",le="getPerfMgr"},1880:(fe,c,E)=>{"use strict";E.d(c,{f:()=>T});var v=E(1679),p=E(8096),y=E(6708),w=E(6041);function R(d,b,x,_){(0,y.tO)(d,function(S){if(S&&S[b])if(x)setTimeout(function(){return _(S)},0);else try{_(S)}catch(U){}})}a(R,"_runListeners");var T=function(){function d(b){this.listeners=[];var x=!!(b||{}).perfEvtsSendAll;(0,v.Z)(d,this,function(_){_[p.g]=function(S){_.listeners[p.MW](S)},_[p.n7]=function(S){for(var U=(0,y.UA)(_[p.dE],S);U>-1;)_.listeners[p.cb](U,1),U=(0,y.UA)(_[p.dE],S)},_[w.uC]=function(S){R(_[p.dE],w.uC,!0,function(U){U[w.uC](S)})},_[w.$F]=function(S,U){R(_[p.dE],w.$F,!0,function(I){I[w.$F](S,U)})},_[w.f_]=function(S,U){R(_[p.dE],w.f_,U,function(I){I[w.f_](S,U)})},_[w.C$]=function(S){S&&(x||!S[p.PL]())&&R(_[p.dE],w.C$,!1,function(U){S[p.d]?setTimeout(function(){return U[w.C$](S)},0):U[w.C$](S)})}})}return a(d,"NotificationManager"),d.__ieDyn=1,d}()},9288:(fe,c,E)=>{"use strict";E.d(c,{zn:()=>x,Jk:()=>_,Lm:()=>U,j5:()=>V});var v=E(1679),p=E(8096),y=E(6708),w=E(6041),R="ctx",T="ParentContextKey",d="ChildrenContextKey",b=null,x=function(){function j(le,L,H){var B=this,A=!1;if(B.start=(0,y.m6)(),B[p.I]=le,B[p.d]=H,B[p.PL]=function(){return!1},(0,y.mf)(L)){var k;A=(0,y.l_)(B,"payload",function(){return!k&&(0,y.mf)(L)&&(k=L(),L=null),k})}B[p.T]=function($){return $?$===j[T]||$===j[d]?B[$]:(B[R]||{})[$]:null},B[p.wu]=function($,te){if($)if($===j[T])B[$]||(B[p.PL]=function(){return!0}),B[$]=te;else if($===j[d])B[$]=te;else{var J=B[R]=B[R]||{};J[$]=te}},B[p.Km]=function(){var $=0,te=B[p.T](j[d]);if((0,y.kJ)(te))for(var J=0;J<te[p.R5];J++){var ne=te[J];ne&&($+=ne[p.Z_])}B[p.Z_]=(0,y.m6)()-B.start,B.exTime=B[p.Z_]-$,B[p.Km]=function(){},!A&&(0,y.mf)(L)&&(B.payload=L())}}return a(j,"PerfEvent"),j.ParentContextKey="parent",j.ChildrenContextKey="childEvts",j}(),_=function(){function j(le){this.ctx={},(0,v.Z)(j,this,function(L){L.create=function(H,B,A){return new x(H,B,A)},L.fire=function(H){H&&(H[p.Km](),le&&(0,y.mf)(le[w.C$])&&le[w.C$](H))},L[p.wu]=function(H,B){if(H){var A=L[R]=L[R]||{};A[H]=B}},L[p.T]=function(H){return(L[R]||{})[H]}})}return a(j,"PerfManager"),j.__ieDyn=1,j}(),S="CoreUtils.doPerf";function U(j,le,L,H,B){if(j){var A=j;if(A[w.kl]&&(A=A[w.kl]()),A){var k=void 0,$=A[p.T](S);try{if(k=A.create(le(),H,B),k){if($&&k[p.wu]&&(k[p.wu](x[T],$),$[p.T]&&$[p.wu])){var te=$[p.T](x[d]);te||(te=[],$[p.wu](x[d],te)),te[p.MW](k)}return A[p.wu](S,k),L(k)}}catch(J){k&&k[p.wu]&&k[p.wu]("exception",J)}finally{k&&A.fire(k),A[p.wu](S,$)}}}return L()}a(U,"doPerf");function I(j){b=j}a(I,"setGblPerfMgr");function V(){return b}a(V,"getGblPerfMgr")},1589:(fe,c,E)=>{"use strict";E.d(c,{CD:()=>V,Bt:()=>j,xy:()=>le,jV:()=>L,Vi:()=>B});var v=E(8096),p=E(5018),y=E(7630),w=E(6708),R=E(6041),T=E(9288),d=E(3833),b="TelemetryPluginChain",x="_hasRun",_="_getTelCtx",S=0;function U(A,k,$){for(;A;){if(A[v.TO]()===$)return A;A=A[v.W2]()}return L([$],k[v.TC]||{},k)}a(U,"_getNextProxyStart");function I(A,k,$,te){var J=null,ne=[];te!==null&&(J=te?U(A,$,te):A);var ce={_next:ie,ctx:{core:function(){return $},diagLog:function(){return(0,p.vH)($,k)},getCfg:function(){return k},getExtCfg:_e,getConfig:z,hasNext:function(){return!!J},getNext:function(){return J},setNext:function(Se){J=Se},iterate:Ve,onComplete:be}};function be(Se,de){for(var Z=[],se=2;se<arguments.length;se++)Z[se-2]=arguments[se];Se&&ne[v.MW]({func:Se,self:(0,w.o8)(de)?ce.ctx:de,args:Z})}a(be,"_addOnComplete");function ie(){var Se=J;if(J=Se?Se[v.W2]():null,!Se){var de=ne;de&&de[v.R5]>0&&((0,w.tO)(de,function(Z){try{Z.func[v._S](Z.self,Z.args)}catch(se){(0,p.kP)($[v.eZ],2,73,"Unexpected Exception during onComplete - "+(0,y.eU)(se))}}),ne=[])}return Se}a(ie,"_moveNext");function _e(Se,de,Z){de===void 0&&(de={}),Z===void 0&&(Z=0);var se;if(k){var Te=k[R.Zh];Te&&Se&&(se=Te[Se])}if(!se)se=de;else if((0,w.Kn)(de)&&Z!==0){var Oe=(0,w.mm)(!0,de,se);k&&Z===2&&(0,w.rW)(de,function(re){if((0,w.le)(Oe[re])){var Ge=k[re];(0,w.le)(Ge)||(Oe[re]=Ge)}}),se=Oe}return se}a(_e,"_getExtCfg");function z(Se,de,Z){Z===void 0&&(Z=!1);var se,Te=_e(Se,null);return Te&&!(0,w.le)(Te[de])?se=Te[de]:k&&!(0,w.le)(k[de])&&(se=k[de]),(0,w.le)(se)?Z:se}a(z,"_getConfig");function Ve(Se){for(var de;de=ce._next();){var Z=de[v.TO]();Z&&Se(Z)}}return a(Ve,"_iterateChain"),ce}a(I,"_createInternalContext");function V(A,k,$,te){var J=I(A,k,$,te),ne=J.ctx;function ce(ie){var _e=J._next();return _e&&_e[R.hL](ie,ne),!_e}a(ce,"_processNext");function be(ie,_e){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=L(ie,k,$,_e)),V(ie||ne[v.W2](),k,$,_e)}return a(be,"_createNew"),ne[v.uL]=ce,ne[v.zV]=be,ne}a(V,"createProcessTelemetryContext");function j(A,k,$){var te=k[v.TC]||{},J=I(A,te,k,$),ne=J.ctx;function ce(ie){var _e=J._next();return _e&&_e.unload(ne,ie),!_e}a(ce,"_processNext");function be(ie,_e){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=L(ie,te,k,_e)),j(ie||ne[v.W2](),k,_e)}return a(be,"_createNew"),ne[v.uL]=ce,ne[v.zV]=be,ne}a(j,"createProcessTelemetryUnloadContext");function le(A,k,$){var te=k[v.TC]||{},J=I(A,te,k,$),ne=J.ctx;function ce(ie){return ne.iterate(function(_e){(0,w.mf)(_e[v.Tu])&&_e[v.Tu](ne,ie)})}a(ce,"_processNext");function be(ie,_e){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=L(ie,te,k,_e)),le(ie||ne[v.W2](),k,_e)}return a(be,"_createNew"),ne[v.uL]=ce,ne[v.zV]=be,ne}a(le,"createProcessTelemetryUpdateContext");function L(A,k,$,te){var J=null,ne=!te;if((0,w.kJ)(A)&&A[v.R5]>0){var ce=null;(0,w.tO)(A,function(be){if(!ne&&te===be&&(ne=!0),ne&&be&&(0,w.mf)(be[R.hL])){var ie=H(be,k,$);J||(J=ie),ce&&ce._setNext(ie),ce=ie}})}return te&&!J?L([te],k,$):J}a(L,"createTelemetryProxyChain");function H(A,k,$){var te=null,J=(0,w.mf)(A[R.hL]),ne=(0,w.mf)(A[v.Jd]),ce;A?ce=A[v.pZ]+"-"+A[R.yi]+"-"+S++:ce="Unknown-0-"+S++;var be={getPlugin:function(){return A},getNext:function(){return te},processTelemetry:z,unload:Ve,update:Se,_id:ce,_setNext:function(de){te=de}};function ie(){var de;return A&&(0,w.mf)(A[_])&&(de=A[_]()),de||(de=V(be,k,$)),de}a(ie,"_getTelCtx");function _e(de,Z,se,Te,Oe){var re=!1,Ge=A?A[v.pZ]:b,Xe=de[x];return Xe||(Xe=de[x]={}),de.setNext(te),A&&(0,T.Lm)(de[R.oV](),function(){return Ge+":"+se},function(){Xe[ce]=!0;try{var st=te?te._id:R.qS;st&&(Xe[st]=!1),re=Z(de)}catch(ee){var G=te?Xe[te._id]:!0;G&&(re=!0),(!te||!G)&&(0,p.kP)(de[v.mc](),1,73,"Plugin ["+Ge+"] failed during "+se+" - "+(0,y.eU)(ee)+", run flags: "+(0,y.eU)(Xe))}},Te,Oe),re}a(_e,"_processChain");function z(de,Z){Z=Z||ie();function se(Te){if(!A||!J)return!1;var Oe=(0,d.OY)(A);return Oe[v.fi]||Oe[R.mE]?!1:(ne&&A[v.Jd](te),A[R.hL](de,Te),!0)}a(se,"_callProcessTelemetry"),_e(Z,se,"processTelemetry",function(){return{item:de}},!de.sync)||Z[v.uL](de)}a(z,"_processTelemetry");function Ve(de,Z){function se(){var Te=!1;if(A){var Oe=(0,d.OY)(A),re=A[R.oV]||Oe[R.oV];A&&(!re||re===de.core())&&!Oe[v.fi]&&(Oe[R.oV]=null,Oe[v.fi]=!0,Oe[v.yl]=!1,A[v.fi]&&A[v.fi](de,Z)===!0&&(Te=!0))}return Te}a(se,"_callTeardown"),_e(de,se,"unload",function(){},Z[v.d])||de[v.uL](Z)}a(Ve,"_unloadPlugin");function Se(de,Z){function se(){var Te=!1;if(A){var Oe=(0,d.OY)(A),re=A[R.oV]||Oe[R.oV];A&&(!re||re===de.core())&&!Oe[v.fi]&&A[v.Tu]&&A[v.Tu](de,Z)===!0&&(Te=!0)}return Te}a(se,"_callUpdate"),_e(de,se,"update",function(){},!1)||de[v.uL](Z)}return a(Se,"_updatePlugin"),(0,w.FL)(be)}a(H,"createTelemetryPluginProxy");var B=function(){function A(k,$,te,J){var ne=this,ce=V(k,$,te,J);(0,w.Vb)(ne,ce,(0,w.FY)(ce))}return a(A,"ProcessTelemetryContext"),A}()},4878:(fe,c,E)=>{"use strict";E.d(c,{az:()=>U,_l:()=>I,CN:()=>V,F6:()=>j,pZ:()=>le});var v=E(8096),p=E(7630),y=E(6708),w=E(6041),R=4294967296,T=4294967295,d=!1,b=123456789,x=987654321;function _(L){L<0&&(L>>>=0),b=123456789+L&T,x=987654321-L&T,d=!0}a(_,"_mwcSeed");function S(){try{var L=(0,y.m6)()&2147483647;_((Math.random()*R^L)+L)}catch(H){}}a(S,"_autoSeedMwc");function U(L){return L>0?Math.floor(I()/T*(L+1))>>>0:0}a(U,"randomValue");function I(L){var H=0,B=(0,p.MX)()||(0,p.gz)();return B&&B.getRandomValues&&(H=B.getRandomValues(new Uint32Array(1))[0]&T),H===0&&(0,p.w1)()&&(d||S(),H=j()&T),H===0&&(H=Math.floor(R*Math.random()|0)),L||(H>>>=0),H}a(I,"random32");function V(L){L?_(L):S()}a(V,"mwcRandomSeed");function j(L){x=36969*(x&65535)+(x>>16)&T,b=18e3*(b&65535)+(b>>16)&T;var H=(x<<16)+(b&65535)>>>0&T|0;return L||(H>>>=0),H}a(j,"mwcRandom32");function le(L){L===void 0&&(L=22);for(var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=I()>>>0,A=0,k=w.qS;k[v.R5]<L;)A++,k+=H.charAt(B&63),B>>>=6,A===5&&(B=(I()<<2&4294967295|B&3)>>>0,A=0);return k}a(le,"newId")},3833:(fe,c,E)=>{"use strict";E.d(c,{OY:()=>d,bP:()=>b,AA:()=>x,Yn:()=>S});var v=E(8096),p=E(5883),y=E(6708),w=E(6041),R=E(4206),T=(0,p.K)("plugin");function d(U){return T.get(U,"state",{},!0)}a(d,"_getPluginState");function b(U,I){for(var V=[],j=null,le=U[v.W2](),L;le;){var H=le[v.TO]();if(H){j&&(0,y.mf)(j[v.Jd])&&(0,y.mf)(H[w.hL])&&j[v.Jd](H);var B=!1;(0,y.mf)(H[v.yl])?B=H[v.yl]():(L=d(H),B=L[v.yl]),B||V[v.MW](H),j=H,le=le[v.W2]()}}(0,y.tO)(V,function(A){var k=U[w.oV]();A[v.VL](U.getCfg(),k,I,U[v.W2]()),L=d(A),!A[w.oV]&&!L[w.oV]&&(L[w.oV]=k),L[v.yl]=!0,delete L[v.fi]})}a(b,"initializePlugins");function x(U){return U.sort(function(I,V){var j=0;if(V){var le=(0,y.mf)(V[w.hL]);(0,y.mf)(I[w.hL])?j=le?I[w.yi]-V[w.yi]:1:le&&(j=-1)}else j=I?1:-1;return j})}a(x,"sortPlugins");function _(U,I,V,j){var le=0;function L(){for(;le<U[_DYN_LENGTH];){var H=U[le++];if(H){var B=H._doUnload||H[_DYN__DO_TEARDOWN];if(isFunction(B)&&B[_DYN_CALL](H,I,V,L)===!0)return!0}}}return a(L,"_doUnload"),L()}a(_,"unloadComponents");function S(U){var I={};return{getName:function(){return I[v.I]},setName:function(V){U&&U.setName(V),I[v.I]=V},getTraceId:function(){return I[v.nY]},setTraceId:function(V){U&&U.setTraceId(V),(0,R.jN)(V)&&(I[v.nY]=V)},getSpanId:function(){return I[v._d]},setSpanId:function(V){U&&U.setSpanId(V),(0,R.Lc)(V)&&(I[v._d]=V)},getTraceFlags:function(){return I[v.T0]},setTraceFlags:function(V){U&&U.setTraceFlags(V),I[v.T0]=V}}}a(S,"createDistributedTraceContext")},310:(fe,c,E)=>{"use strict";E.d(c,{Y:()=>R});var v=E(8096),p=E(5018),y=E(7630),w=E(6708);function R(){var T=[];function d(x){x&&T[v.MW](x)}a(d,"_addHandler");function b(x,_){(0,w.tO)(T,function(S){try{S(x,_)}catch(U){(0,p.kP)(x[v.mc](),2,73,"Unexpected error calling unload handler - "+(0,y.eU)(U))}}),T=[]}return a(b,"_runHandlers"),{add:d,run:b}}a(R,"createUnloadHandlerContainer")},4206:(fe,c,E)=>{"use strict";E.d(c,{SU:()=>V,j_:()=>j,jN:()=>le,Lc:()=>L,J6:()=>H,Pn:()=>B,aR:()=>A,lq:()=>k});var v=E(8096),p=E(5843),y=E(7630),w=E(6708),R=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,T="00",d="ff",b="00000000000000000000000000000000",x="0000000000000000",_=1;function S($,te,J){return $&&$[v.R5]===te&&$!==J?!!$.match(/^[\da-f]*$/):!1}a(S,"_isValid");function U($,te,J){return S($,te)?$:J}a(U,"_formatValue");function I($){(isNaN($)||$<0||$>255)&&($=1);for(var te=$.toString(16);te[v.R5]<2;)te="0"+te;return te}a(I,"_formatFlags");function V($,te,J,ne){var ce;return ce={},ce[v.PA]=S(ne,2,d)?ne:T,ce[v.nY]=le($)?$:(0,p.DO)(),ce.spanId=L(te)?te:(0,p.DO)()[v.Jn](0,16),ce.traceFlags=J>=0&&J<=255?J:1,ce}a(V,"createTraceParent");function j($){var te;if(!$||((0,w.kJ)($)&&($=$[0]||""),!$||!(0,w.HD)($)||$[v.R5]>8192))return null;var J=R.exec((0,w.nd)($));return!J||J[1]===d||J[2]===b||J[3]===x?null:(te={},te[v.PA]=J[1],te[v.nY]=J[2],te[v._d]=J[3],te[v.T0]=parseInt(J[4],16),te)}a(j,"parseTraceParent");function le($){return S($,32,b)}a(le,"isValidTraceId");function L($){return S($,16,x)}a(L,"isValidSpanId");function H($){return!(!$||!S($[v.PA],2,d)||!S($[v.nY],32,b)||!S($[v._d],16,x)||!S(I($[v.T0]),2))}a(H,"isValidTraceParent");function B($){return H($)?($[v.T0]&_)===_:!1}a(B,"isSampledFlag");function A($){if($){var te=I($[v.T0]);S(te,2)||(te="01");var J=$[v.PA]||T;return J!=="00"&&J!=="ff"&&(J=T),"".concat(J,"-").concat(U($.traceId,32,b),"-").concat(U($.spanId,16,x),"-").concat(te)}return""}a(A,"formatTraceParent");function k(){var $="traceparent",te=j((0,y.ed)($));return te||(te=j((0,y.pI)($))),te}a(k,"findW3cTraceParent")},8096:(fe,c,E)=>{"use strict";E.d(c,{VL:()=>v,I:()=>p,tb:()=>y,pZ:()=>w,MW:()=>R,yl:()=>T,TC:()=>d,p$:()=>b,eZ:()=>x,R5:()=>_,Z_:()=>S,uL:()=>U,SD:()=>I,g:()=>V,n7:()=>j,LS:()=>le,Fc:()=>L,TO:()=>H,kL:()=>B,iC:()=>A,cb:()=>k,fi:()=>$,Gc:()=>te,gU:()=>J,d:()=>ne,F3:()=>ce,Tu:()=>be,W2:()=>ie,mc:()=>_e,Jd:()=>z,zV:()=>Ve,Lk:()=>Se,ou:()=>de,zc:()=>Z,qV:()=>se,w6:()=>Te,$h:()=>Oe,Jn:()=>re,xv:()=>Ge,ZV:()=>Xe,i7:()=>st,Fr:()=>G,jk:()=>ee,T1:()=>ae,_S:()=>we,P6:()=>Me,Kn:()=>Be,dE:()=>pe,PL:()=>De,T:()=>ke,wu:()=>Ze,Km:()=>Ne,nY:()=>He,_d:()=>et,T0:()=>lt,PA:()=>Ie});var v="initialize",p="name",y="getNotifyMgr",w="identifier",R="push",T="isInitialized",d="config",b="instrumentationKey",x="logger",_="length",S="time",U="processNext",I="getProcessTelContext",V="addNotificationListener",j="removeNotificationListener",le="stopPollingInternalLogs",L="onComplete",H="getPlugin",B="flush",A="_extensions",k="splice",$="teardown",te="messageId",J="message",ne="isAsync",ce="_doTeardown",be="update",ie="getNext",_e="diagLog",z="setNextPlugin",Ve="createNew",Se="cookieCfg",de="indexOf",Z="substring",se="userAgent",Te="split",Oe="setEnabled",re="substr",Ge="nodeType",Xe="apply",st="replace",G="enableDebugExceptions",ee="logInternalMessage",ae="toLowerCase",we="call",Me="type",Be="handler",pe="listeners",De="isChildEvt",ke="getCtx",Ze="setCtx",Ne="complete",He="traceId",et="spanId",lt="traceFlags",Ie="version"},4392:(fe,c,E)=>{"use strict";E.d(c,{cb:()=>v,fK:()=>p,jA:()=>y,hB:()=>w,bO:()=>R,Pw:()=>d,V4:()=>b,rl:()=>x,yu:()=>_,RJ:()=>S,CY:()=>U});var v="function",p="object",y="undefined",w="prototype",R="hasOwnProperty",T="default",d=Object,b=d[w],x=d.assign,_=d.create,S=d.defineProperty,U=b[R]},2091:(fe,c,E)=>{"use strict";E.d(c,{Rd:()=>y,ZU:()=>w,pu:()=>R});var v=E(4392),p=null;function y(T){T===void 0&&(T=!0);var d=T===!1?null:p;return d||(typeof globalThis!==v.jA&&(d=globalThis),!d&&typeof self!==v.jA&&(d=self),!d&&typeof window!==v.jA&&(d=window),!d&&typeof E.g!==v.jA&&(d=E.g),p=d),d}a(y,"getGlobal");function w(T){throw new TypeError(T)}a(w,"throwTypeError");function R(T){var d=v.yu;if(d)return d(T);if(T==null)return{};var b=typeof T;b!==v.fK&&b!==v.cb&&w("Object prototype may only be an Object:"+T);function x(){}return a(x,"tmpFunc"),x[v.hB]=T,new x}a(R,"objCreateFn")},1088:(fe,c,E)=>{"use strict";E.d(c,{uc:()=>U,ne:()=>V,$h:()=>J});var v=E(4392),p=E(2091),y=((0,p.Rd)()||{}).Symbol,w=((0,p.Rd)()||{}).Reflect,R=!!y,T=!!w,d="decorate",b="metadata",x="getOwnPropertySymbols",_="iterator",S=a(function(ie){for(var _e,z=1,Ve=arguments.length;z<Ve;z++){_e=arguments[z];for(var Se in _e)v.V4[v.bO].call(_e,Se)&&(ie[Se]=_e[Se])}return ie},"__objAssignFnImpl"),U=v.rl||S,I=a(function(ie,_e){return I=v.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Ve){z.__proto__=Ve}||function(z,Ve){for(var Se in Ve)Ve[v.bO](Se)&&(z[Se]=Ve[Se])},I(ie,_e)},"extendStaticsFn");function V(ie,_e){typeof _e!==v.cb&&_e!==null&&(0,p.ZU)("Class extends value "+String(_e)+" is not a constructor or null"),I(ie,_e);function z(){this.constructor=ie}a(z,"__"),ie[v.hB]=_e===null?(0,p.pu)(_e):(z[v.hB]=_e[v.hB],new z)}a(V,"__extendsFn");function j(ie,_e){var z={};for(var Ve in ie)ObjHasOwnProperty.call(ie,Ve)&&_e.indexOf(Ve)<0&&(z[Ve]=ie[Ve]);if(ie!=null&&typeof ObjClass[x]===strShimFunction)for(var Se=0,de=ObjClass[x](ie);Se<de.length;Se++)_e.indexOf(de[Se])<0&&ObjProto.propertyIsEnumerable.call(ie,de[Se])&&(z[de[Se]]=ie[de[Se]]);return z}a(j,"__restFn");function le(ie,_e,z,Ve){var Se=arguments.length,de=Se<3?_e:Ve===null?Ve=ObjClass.getOwnPropertyDescriptor(_e,z):Ve,Z;if(T&&typeof w[d]===strShimFunction)de=w[d](ie,_e,z,Ve);else for(var se=ie.length-1;se>=0;se--)(Z=ie[se])&&(de=(Se<3?Z(de):Se>3?Z(_e,z,de):Z(_e,z))||de);return Se>3&&de&&ObjDefineProperty(_e,z,de),de}a(le,"__decorateFn");function L(ie,_e){return function(z,Ve){_e(z,Ve,ie)}}a(L,"__paramFn");function H(ie,_e){if(T&&w[b]===strShimFunction)return w[b](ie,_e)}a(H,"__metadataFn");function B(ie,_e){for(var z in ie)z!==strDefault&&!ObjHasOwnProperty.call(_e,z)&&A(_e,ie,z)}a(B,"__exportStarFn");function A(ie,_e,z,Ve){Ve===void 0&&(Ve=z),ObjCreate?ObjDefineProperty(ie,Ve,{enumerable:!0,get:function(){return _e[z]}}):ie[Ve]=_e[z]}a(A,"__createBindingFn");function k(ie){var _e=typeof y===strShimFunction&&y[_],z=_e&&ie[_e],Ve=0;if(z)return z.call(ie);if(ie&&typeof ie.length=="number")return{next:function(){return ie&&Ve>=ie.length&&(ie=void 0),{value:ie&&ie[Ve++],done:!ie}}};throwTypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}a(k,"__valuesFn");function $(ie,_e){var z=typeof y===strShimFunction&&ie[y[_]];if(!z)return ie;var Ve=z.call(ie),Se,de=[],Z;try{for(;(_e===void 0||_e-- >0)&&!(Se=Ve.next()).done;)de.push(Se.value)}catch(se){Z={error:se}}finally{try{Se&&!Se.done&&(z=Ve.return)&&z.call(Ve)}finally{if(Z)throw Z.error}}return de}a($,"__readFn");function te(){for(var ie=arguments,_e=0,z=0,Ve=ie.length;z<Ve;z++)_e+=ie[z].length;for(var Se=Array(_e),de=0,z=0;z<Ve;z++)for(var Z=ie[z],se=0,Te=Z.length;se<Te;se++,de++)Se[de]=Z[se];return Se}a(te,"__spreadArraysFn");function J(ie,_e){for(var z=0,Ve=_e.length,Se=ie.length;z<Ve;z++,Se++)ie[Se]=_e[z];return ie}a(J,"__spreadArrayFn");function ne(ie,_e){return ObjDefineProperty?ObjDefineProperty(ie,"raw",{value:_e}):ie.raw=_e,ie}a(ne,"__makeTemplateObjectFn");function ce(ie){if(ie&&ie.__esModule)return ie;var _e={};if(ie!=null)for(var z in ie)z!==strDefault&&Object.prototype.hasOwnProperty.call(ie,z)&&A(_e,ie,z);return ObjCreate?ObjDefineProperty(_e,strDefault,{enumerable:!0,value:ie}):_e[strDefault]=ie,_e}a(ce,"__importStarFn");function be(ie){return ie&&ie.__esModule?ie:{strDefault:ie}}a(be,"__importDefaultFn")},3268:(fe,c,E)=>{"use strict";E.r(c),E.d(c,{AppInsightsCore:()=>Fo.F,ApplicationInsights:()=>ws,CoreUtils:()=>En.Tr,Sender:()=>Io,SeverityLevel:()=>_s,_InternalMessageId:()=>cl.v,arrForEach:()=>Q.tO,isNullOrUndefined:()=>Q.le,proxyFunctions:()=>Q.Vb,throwError:()=>Q._y});var v=E(1679),p=E(1088),y="AppInsightsPropertiesPlugin",w="AppInsightsChannelPlugin",R="ApplicationInsightsAnalytics",T="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",d="sampleRate",b="ProcessLegacy",x="http.method",_="https://dc.services.visualstudio.com",S="/v2/track",U="not_specified",I="iKey",V="split",j="length",le="toLowerCase",L="ingestionendpoint",H="toString",B="removeItem",A="name",k="message",$="count",te="preTriggerDate",J="disabled",ne="interval",ce="daysOfMonth",be="date",ie="getUTCDate",_e="stringify",z="pathname",Ve="correlationHeaderExcludePatterns",Se="indexOf",de="extensionConfig",Z="exceptions",se="parsedStack",Te="properties",Oe="measurements",re="sizeInBytes",Ge="typeName",Xe="severityLevel",st="problemGroup",G="isManual",ee="CreateFromInterface",ae="assembly",we="hasFullStack",Me="level",Be="method",pe="fileName",De="line",ke="duration",Ze="receivedResponse",Ne="substring",He="sanitizeKeyAndAddUniqueness",et="sanitizeException",lt="sanitizeProperties",Ie="sanitizeMeasurements",Q=E(6708),X=E(5018),tt=E(7630),Kt;function wn(N,C,M){var Y=C[j],ge=yn(N,C);if(ge[j]!==Y){for(var Re=0,je=ge;M[je]!==void 0;)Re++,je=ge[Ne](0,150-3)+At(Re);ge=je}return ge}a(wn,"dataSanitizeKeyAndAddUniqueness");function yn(N,C){var M;return C&&(C=(0,Q.nd)(C[H]()),C[j]>150&&(M=C[Ne](0,150),(0,X.kP)(N,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:C},!0))),M||C}a(yn,"dataSanitizeKey");function O(N,C,M){M===void 0&&(M=1024);var Y;return C&&(M=M||1024,C=(0,Q.nd)(C),C.toString()[j]>M&&(Y=C[H]()[Ne](0,M),(0,X.kP)(N,2,61,"string value is too long. It has been truncated to "+M+" characters.",{value:C},!0))),Y||C}a(O,"dataSanitizeString");function g(N,C){return pt(N,C,2048,66)}a(g,"dataSanitizeUrl");function m(N,C){var M;return C&&C[j]>32768&&(M=C[Ne](0,32768),(0,X.kP)(N,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:C},!0)),M||C}a(m,"dataSanitizeMessage");function q(N,C){var M;if(C){var Y=""+C;Y[j]>32768&&(M=Y[Ne](0,32768),(0,X.kP)(N,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:C},!0))}return M||C}a(q,"dataSanitizeException");function ve(N,C){if(C){var M={};(0,Q.rW)(C,function(Y,ge){if((0,Q.Kn)(ge)&&(0,tt.nS)())try{ge=(0,tt.xA)()[_e](ge)}catch(Re){(0,X.kP)(N,2,49,"custom property is not valid",{exception:Re},!0)}ge=O(N,ge,8192),Y=wn(N,Y,M),M[Y]=ge}),C=M}return C}a(ve,"dataSanitizeProperties");function Fe(N,C){if(C){var M={};(0,Q.rW)(C,function(Y,ge){Y=wn(N,Y,M),M[Y]=ge}),C=M}return C}a(Fe,"dataSanitizeMeasurements");function me(N,C){return C&&pt(N,C,128,69)[H]()}a(me,"dataSanitizeId");function pt(N,C,M,Y){var ge;return C&&(C=(0,Q.nd)(C),C[j]>M&&(ge=C[Ne](0,M),(0,X.kP)(N,2,Y,"input is too long, it has been truncated to "+M+" characters.",{data:C},!0))),ge||C}a(pt,"dataSanitizeInput");function At(N){var C="00"+N;return C.substr(C[j]-3)}a(At,"dsPadNumber");var Ft=(Kt={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Kt[He]=wn,Kt.sanitizeKey=yn,Kt.sanitizeString=O,Kt.sanitizeUrl=g,Kt.sanitizeMessage=m,Kt[et]=q,Kt[lt]=ve,Kt[Ie]=Fe,Kt.sanitizeId=me,Kt.sanitizeInput=pt,Kt.padNumber=At,Kt.trim=Q.nd,Kt),Nt=function(){function N(C,M,Y,ge){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Re=this;Re.ver=2,Re[A]=O(C,M)||U,Re[Te]=ve(C,Y),Re[Oe]=Fe(C,ge)}return a(N,"Event"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Event",N.dataType="EventData",N}(),Vt=function(){function N(C,M,Y,ge,Re){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var je=this;je.ver=2,M=M||U,je[k]=m(C,M),je[Te]=ve(C,ge),je[Oe]=Fe(C,Re),Y&&(je[Xe]=Y)}return a(N,"Trace"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Message",N.dataType="MessageData",N}(),zn="";function ar(N,C){return C===void 0&&(C=!1),N==null?C:N.toString()[le]()==="true"}a(ar,"stringToBoolOrDefault");function mr(N){(isNaN(N)||N<0)&&(N=0),N=Math.round(N);var C=zn+N%1e3,M=zn+Math.floor(N/1e3)%60,Y=zn+Math.floor(N/(1e3*60))%60,ge=zn+Math.floor(N/(1e3*60*60))%24,Re=Math.floor(N/(1e3*60*60*24));return C=C[j]===1?"00"+C:C[j]===2?"0"+C:C,M=M[j]<2?"0"+M:M,Y=Y[j]<2?"0"+Y:Y,ge=ge[j]<2?"0"+ge:ge,(Re>0?Re+".":zn)+ge+":"+Y+":"+M+"."+C}a(mr,"msToTimeSpan");function fr(N,C){var M=null;return(0,Q.tO)(N,function(Y){if(Y.identifier===C)return M=Y,-1}),M}a(fr,"getExtensionByName");function er(N,C,M,Y,ge){return!ge&&(0,Q.HD)(N)&&(N==="Script error."||N==="Script error")}a(er,"isCrossOriginError");var dr=function(){function N(C,M,Y,ge,Re,je,Je){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Dt=this;Dt.ver=2,Dt.id=me(C,Je),Dt.url=g(C,Y),Dt[A]=O(C,M)||U,isNaN(ge)||(Dt[ke]=mr(ge)),Dt[Te]=ve(C,Re),Dt[Oe]=Fe(C,je)}return a(N,"PageView"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",N.dataType="PageviewData",N}(),$r=function(){function N(C,M,Y,ge,Re,je,Je){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Dt=this;Dt.ver=2,Dt.url=g(C,Y),Dt[A]=O(C,M)||U,Dt[Te]=ve(C,Re),Dt[Oe]=Fe(C,je),Je&&(Dt.domProcessing=Je.domProcessing,Dt[ke]=Je[ke],Dt.networkConnect=Je.networkConnect,Dt.perfTotal=Je.perfTotal,Dt[Ze]=Je[Ze],Dt.sentRequest=Je.sentRequest)}return a(N,"PageViewPerformance"),N.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",N.dataType="PageviewPerformanceData",N}(),Pr="<no_method>",Cn="error",qn="stack",br="stackDetails",Sr="errorSrc",hi="message",Jr="description";function or(N,C){var M=N;return M&&!(0,Q.HD)(M)&&(JSON&&JSON[_e]?(M=JSON[_e](N),C&&(!M||M==="{}")&&((0,Q.mf)(N[H])?M=N[H]():M=""+N)):M=""+N+" - (Missing JSON.stringify)"),M||""}a(or,"_stringify");function W(N,C){var M=N;return N&&(M&&!(0,Q.HD)(M)&&(M=N[hi]||N[Jr]||M),M&&!(0,Q.HD)(M)&&(M=or(M,!0)),N.filename&&(M=M+" @"+(N.filename||"")+":"+(N.lineno||"?")+":"+(N.colno||"?"))),C&&C!=="String"&&C!=="Object"&&C!=="Error"&&(M||"")[Se](C)===-1&&(M=C+": "+M),M||""}a(W,"_formatMessage");function ye(N){try{if((0,Q.Kn)(N))return"hasFullStack"in N&&"typeName"in N}catch(C){}return!1}a(ye,"_isExceptionDetailsInternal");function Pe(N){try{if((0,Q.Kn)(N))return"ver"in N&&"exceptions"in N&&"properties"in N}catch(C){}return!1}a(Pe,"_isExceptionInternal");function ze(N){return N&&N.src&&(0,Q.HD)(N.src)&&N.obj&&(0,Q.kJ)(N.obj)}a(ze,"_isStackDetails");function ot(N){var C=N||"";(0,Q.HD)(C)||((0,Q.HD)(C[qn])?C=C[qn]:C=""+C);var M=C[V](`
`);return{src:C,obj:M}}a(ot,"_convertStackObj");function nt(N){for(var C=[],M=N[V](`
`),Y=0;Y<M[j];Y++){var ge=M[Y];M[Y+1]&&(ge+="@"+M[Y+1],Y++),C.push(ge)}return{src:N,obj:C}}a(nt,"_getOperaStack");function wt(N){var C=null;if(N)try{if(N[qn])C=ot(N[qn]);else if(N[Cn]&&N[Cn][qn])C=ot(N[Cn][qn]);else if(N.exception&&N.exception[qn])C=ot(N.exception[qn]);else if(ze(N))C=N;else if(ze(N[br]))C=N[br];else if(window&&window.opera&&N[hi])C=nt(N[k]);else if(N.reason&&N.reason[qn])C=ot(N.reason[qn]);else if((0,Q.HD)(N))C=ot(N);else{var M=N[hi]||N[Jr]||"";(0,Q.HD)(N[Sr])&&(M&&(M+=`
`),M+=" from "+N[Sr]),M&&(C=ot(M))}}catch(Y){C=ot(Y)}return C||{src:"",obj:null}}a(wt,"_getStackFromErrorObj");function Rt(N){var C="";return N&&(N.obj?(0,Q.tO)(N.obj,function(M){C+=M+`
`}):C=N.src||""),C}a(Rt,"_formatStackTrace");function Ut(N){var C,M=N.obj;if(M&&M[j]>0){C=[];var Y=0,ge=0;(0,Q.tO)(M,function(Pn){var Rr=Pn[H]();if(Qt.regex.test(Rr)){var Ke=new Qt(Rr,Y++);ge+=Ke[re],C.push(Ke)}});var Re=32*1024;if(ge>Re)for(var je=0,Je=C[j]-1,Dt=0,bt=je,zt=Je;je<Je;){var fn=C[je][re],Gn=C[Je][re];if(Dt+=fn+Gn,Dt>Re){var dn=zt-bt+1;C.splice(bt,dn);break}bt=je,zt=Je,je++,Je--}}return C}a(Ut,"_parseStack");function un(N){var C="";if(N&&(C=N.typeName||N[A]||"",!C))try{var M=/function (.{1,200})\(/,Y=M.exec(N.constructor[H]());C=Y&&Y[j]>1?Y[1]:""}catch(ge){}return C}a(un,"_getErrorType");function St(N){if(N)try{if(!(0,Q.HD)(N)){var C=un(N),M=or(N,!1);return(!M||M==="{}")&&(N[Cn]&&(N=N[Cn],C=un(N)),M=or(N,!0)),M[Se](C)!==0&&C!=="String"?C+":"+M:M}}catch(Y){}return""+(N||"")}a(St,"_formatErrorCode");var qt=function(){function N(C,M,Y,ge,Re,je){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Je=this;Je.ver=2,Pe(M)?(Je[Z]=M[Z]||[],Je[Te]=M[Te],Je[Oe]=M[Oe],M[Xe]&&(Je[Xe]=M[Xe]),M.id&&(Je.id=M.id),M[st]&&(Je[st]=M[st]),(0,Q.le)(M[G])||(Je[G]=M[G])):(Y||(Y={}),Je[Z]=[new Zt(C,M,Y)],Je[Te]=ve(C,Y),Je[Oe]=Fe(C,ge),Re&&(Je[Xe]=Re),je&&(Je.id=je))}return a(N,"Exception"),N.CreateAutoException=function(C,M,Y,ge,Re,je,Je,Dt){var bt,zt=un(Re||je||C);return bt={},bt[k]=W(C,zt),bt.url=M,bt.lineNumber=Y,bt.columnNumber=ge,bt.error=St(Re||je||C),bt.evt=St(je||C),bt[Ge]=zt,bt.stackDetails=wt(Je||Re||je),bt.errorSrc=Dt,bt},N.CreateFromInterface=function(C,M,Y,ge){var Re=M[Z]&&(0,Q.Mr)(M[Z],function(Je){return Zt[ee](C,Je)}),je=new N(C,(0,p.uc)((0,p.uc)({},M),{exceptions:Re}),Y,ge);return je},N.prototype.toInterface=function(){var C,M=this,Y=M.exceptions,ge=M.properties,Re=M.measurements,je=M.severityLevel,Je=M.problemGroup,Dt=M.id,bt=M.isManual,zt=Y instanceof Array&&(0,Q.Mr)(Y,function(fn){return fn.toInterface()})||void 0;return C={ver:"4.0"},C[Z]=zt,C.severityLevel=je,C.properties=ge,C.measurements=Re,C.problemGroup=Je,C.id=Dt,C.isManual=bt,C},N.CreateSimpleException=function(C,M,Y,ge,Re,je){var Je;return{exceptions:[(Je={},Je[we]=!0,Je.message=C,Je.stack=Re,Je.typeName=M,Je)]}},N.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",N.dataType="ExceptionData",N.formatError=St,N}(),Zt=function(){function N(C,M,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ge=this;if(ye(M))ge[Ge]=M[Ge],ge[k]=M[k],ge[qn]=M[qn],ge[se]=M[se]||[],ge[we]=M[we];else{var Re=M,je=Re&&Re.evt;(0,Q.VZ)(Re)||(Re=Re[Cn]||je||Re),ge[Ge]=O(C,un(Re))||U,ge[k]=m(C,W(M||Re,ge[Ge]))||U;var Je=M[br]||wt(M);ge[se]=Ut(Je),(0,Q.kJ)(ge[se])&&(0,Q.Mr)(ge[se],function(Dt){return Dt[ae]=O(C,Dt[ae])}),ge[qn]=q(C,Rt(Je)),ge.hasFullStack=(0,Q.kJ)(ge.parsedStack)&&ge.parsedStack[j]>0,Y&&(Y[Ge]=Y[Ge]||ge[Ge])}}return a(N,"_ExceptionDetails"),N.prototype.toInterface=function(){var C,M=this,Y=M[se]instanceof Array&&(0,Q.Mr)(M[se],function(Re){return Re.toInterface()}),ge=(C={id:M.id,outerId:M.outerId,typeName:M[Ge],message:M[k],hasFullStack:M[we],stack:M[qn]},C[se]=Y||void 0,C);return ge},N.CreateFromInterface=function(C,M){var Y=M[se]instanceof Array&&(0,Q.Mr)(M[se],function(Re){return Qt[ee](Re)})||M[se],ge=new N(C,(0,p.uc)((0,p.uc)({},M),{parsedStack:Y}));return ge},N}(),Qt=function(){function N(C,M){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[re]=0,typeof C=="string"){var ge=C;Y[Me]=M,Y[Be]=Pr,Y[ae]=(0,Q.nd)(ge),Y[pe]="",Y[De]=0;var Re=ge.match(N.regex);Re&&Re[j]>=5&&(Y[Be]=(0,Q.nd)(Re[2])||Y[Be],Y[pe]=(0,Q.nd)(Re[4]),Y[De]=parseInt(Re[5])||0)}else Y[Me]=C[Me],Y[Be]=C[Be],Y[ae]=C[ae],Y[pe]=C[pe],Y[De]=C[De],Y[re]=0;Y.sizeInBytes+=Y.method[j],Y.sizeInBytes+=Y.fileName[j],Y.sizeInBytes+=Y.assembly[j],Y[re]+=N.baseSize,Y.sizeInBytes+=Y.level.toString()[j],Y.sizeInBytes+=Y.line.toString()[j]}return a(N,"_StackFrame"),N.CreateFromInterface=function(C){return new N(C,null)},N.prototype.toInterface=function(){var C=this;return{level:C[Me],method:C[Be],assembly:C[ae],fileName:C[pe],line:C[De]}},N.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,N.baseSize=58,N}(),kt=function(){function N(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(N,"DataPoint"),N}(),In=function(){function N(C,M,Y,ge,Re,je,Je,Dt,bt){this.aiDataContract={ver:1,metrics:1,properties:0};var zt=this;zt.ver=2;var fn=new kt;fn[$]=ge>0?ge:void 0,fn.max=isNaN(je)||je===null?void 0:je,fn.min=isNaN(Re)||Re===null?void 0:Re,fn[A]=O(C,M)||U,fn.value=Y,fn.stdDev=isNaN(Je)||Je===null?void 0:Je,zt.metrics=[fn],zt[Te]=ve(C,Dt),zt[Oe]=Fe(C,bt)}return a(N,"Metric"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",N.dataType="MetricData",N}(),En=E(5843),hr=E(3242),tr=E(4878),lr=E(4869);function Kr(N){var C=null;if((0,Q.mf)(Event))C=new Event(N);else{var M=(0,tt.Me)();M&&M.createEvent&&(C=M.createEvent("Event"),C.initEvent(N,!0,!0))}return C}a(Kr,"createDomEvent");var Hr=E(4873),jn=(0,Hr.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),gi=E(2091),Xt=(0,Hr.By)({LocalStorage:0,SessionStorage:1}),Zn=(0,Hr.By)({AI:0,AI_AND_W3C:1,W3C:2}),Rn=void 0,bn=void 0;function Mn(){return Ti()?nr(Xt.LocalStorage):null}a(Mn,"_getLocalStorageObject");function nr(N){try{if((0,Q.le)((0,gi.Rd)()))return null;var C=new Date()[H](),M=(0,tt.a8)(N===Xt.LocalStorage?"localStorage":"sessionStorage");M.setItem(C,C);var Y=M.getItem(C)!==C;if(M[B](C),!Y)return M}catch(ge){}return null}a(nr,"_getVerifiedStorageObject");function Fr(){return ht()?nr(Xt.SessionStorage):null}a(Fr,"_getSessionStorageObject");function qr(){Rn=!1,bn=!1}a(qr,"utlDisableStorage");function Ci(){Rn=Ti(!0),bn=ht(!0)}a(Ci,"utlEnableStorage");function Ti(N){return(N||Rn===void 0)&&(Rn=!!nr(Xt.LocalStorage)),Rn}a(Ti,"utlCanUseLocalStorage");function Li(N,C){var M=Mn();if(M!==null)try{return M.getItem(C)}catch(Y){Rn=!1,(0,X.kP)(N,2,1,"Browser failed read of local storage. "+(0,Q.jj)(Y),{exception:(0,tt.eU)(Y)})}return null}a(Li,"utlGetLocalStorage");function fa(N,C,M){var Y=Mn();if(Y!==null)try{return Y.setItem(C,M),!0}catch(ge){Rn=!1,(0,X.kP)(N,2,3,"Browser failed write to local storage. "+(0,Q.jj)(ge),{exception:(0,tt.eU)(ge)})}return!1}a(fa,"utlSetLocalStorage");function qi(N,C){var M=Mn();if(M!==null)try{return M[B](C),!0}catch(Y){Rn=!1,(0,X.kP)(N,2,5,"Browser failed removal of local storage item. "+(0,Q.jj)(Y),{exception:(0,tt.eU)(Y)})}return!1}a(qi,"utlRemoveStorage");function ht(N){return(N||bn===void 0)&&(bn=!!nr(Xt.SessionStorage)),bn}a(ht,"utlCanUseSessionStorage");function Zi(){var N=[];return ht()&&(0,Q.rW)((0,tt.a8)("sessionStorage"),function(C){N.push(C)}),N}a(Zi,"utlGetSessionStorageKeys");function Mi(N,C){var M=Fr();if(M!==null)try{return M.getItem(C)}catch(Y){bn=!1,(0,X.kP)(N,2,2,"Browser failed read of session storage. "+(0,Q.jj)(Y),{exception:(0,tt.eU)(Y)})}return null}a(Mi,"utlGetSessionStorage");function xr(N,C,M){var Y=Fr();if(Y!==null)try{return Y.setItem(C,M),!0}catch(ge){bn=!1,(0,X.kP)(N,2,4,"Browser failed write to session storage. "+(0,Q.jj)(ge),{exception:(0,tt.eU)(ge)})}return!1}a(xr,"utlSetSessionStorage");function Nr(N,C){var M=Fr();if(M!==null)try{return M[B](C),!0}catch(Y){bn=!1,(0,X.kP)(N,2,6,"Browser failed removal of session storage item. "+(0,Q.jj)(Y),{exception:(0,tt.eU)(Y)})}return!1}a(Nr,"utlRemoveSessionStorage");var ei=(0,tt.Me)()||{},Gr=0,Qi=[null,null,null,null,null];function pi(N){var C=Gr,M=Qi,Y=M[C];return ei.createElement?M[C]||(Y=M[C]=ei.createElement("a")):Y={host:ut(N,!0)},Y.href=N,C++,C>=M[j]&&(C=0),Gr=C,Y}a(pi,"urlParseUrl");function oi(N){var C,M=pi(N);return M&&(C=M.href),C}a(oi,"urlGetAbsoluteUrl");function da(N){var C,M=pi(N);return M&&(C=M[z]),C}a(da,"urlGetPathName");function We(N,C){return N?N.toUpperCase()+" "+C:C}a(We,"urlGetCompleteUrl");function ut(N,C){var M=Et(N,C)||"";if(M){var Y=M.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[j]>3&&(0,Q.HD)(Y[2])&&Y[2][j]>0)return Y[2]+(Y[3]||"")}return M}a(ut,"urlParseHost");function Et(N,C){var M=null;if(N){var Y=N.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[j]>2&&(0,Q.HD)(Y[2])&&Y[2][j]>0&&(M=Y[2]||"",C&&Y[j]>2)){var ge=(Y[1]||"")[le](),Re=Y[3]||"";(ge==="http"&&Re===":80"||ge==="https"&&Re===":443")&&(Re=""),M+=Re}}return M}a(Et,"urlParseFullHost");var dt=[_+S,"https://breeze.aimon.applicationinsights.io"+S,"https://dc-int.services.visualstudio.com"+S];function Lt(N){return(0,Q.UA)(dt,N[le]())!==-1}a(Lt,"isInternalApplicationInsightsEndpoint");var tn={NotSpecified:U,createDomEvent:Kr,disableStorage:qr,isInternalApplicationInsightsEndpoint:Lt,canUseLocalStorage:Ti,getStorage:Li,setStorage:fa,removeStorage:qi,canUseSessionStorage:ht,getSessionStorageKeys:Zi,getSessionStorage:Mi,setSessionStorage:xr,removeSessionStorage:Nr,disableCookies:En.oF,canUseCookies:En.vn,disallowsSameSiteNone:hr.UY,setCookie:En.d8,stringToBoolOrDefault:ar,getCookie:En.ej,deleteCookie:En.kT,trim:Q.nd,newId:tr.pZ,random32:function(){return(0,tr._l)(!0)},generateW3CId:En.DO,isArray:Q.kJ,isError:Q.VZ,isDate:Q.J_,toISOStringForIE8:Q.Y6,getIEVersion:tt.sA,msToTimeSpan:mr,isCrossOriginError:er,dump:tt.eU,getExceptionName:Q.jj,addEventHandler:lr.pZ,IsBeaconApiSupported:tt.MF,getExtension:fr},xt={parseUrl:pi,getAbsoluteUrl:oi,getPathName:da,getCompleteUrl:We,parseHost:ut,parseFullHost:Et},on={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(N,C,M){if(!C||N&&N.disableCorrelationHeaders)return!1;if(N&&N[Ve]){for(var Y=0;Y<N.correlationHeaderExcludePatterns[j];Y++)if(N[Ve][Y].test(C))return!1}var ge=pi(C).host[le]();if(ge&&(ge[Se](":443")!==-1||ge[Se](":80")!==-1)&&(ge=(Et(C,!0)||"")[le]()),(!N||!N.enableCorsCorrelation)&&ge&&ge!==M)return!1;var Re=N&&N.correlationHeaderDomains;if(Re){var je;if((0,Q.tO)(Re,function(bt){var zt=new RegExp(bt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));je=je||zt.test(ge)}),!je)return!1}var Je=N&&N.correlationHeaderExcludedDomains;if(!Je||Je[j]===0)return!0;for(var Y=0;Y<Je[j];Y++){var Dt=new RegExp(Je[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Dt.test(ge))return!1}return ge&&ge[j]>0},getCorrelationContext:function(N){if(N){var C=on.getCorrelationContextValue(N,jn[1]);if(C&&C!==on.correlationIdPrefix)return C}},getCorrelationContextValue:function(N,C){if(N)for(var M=N[V](","),Y=0;Y<M[j];++Y){var ge=M[Y][V]("=");if(ge[j]===2&&ge[0]===C)return ge[1]}}};function Yt(N,C,M,Y){var ge,Re=Y,je=Y;if(C&&C[j]>0){var Je=pi(C);if(ge=Je.host,!Re)if(Je[z]!=null){var Dt=Je.pathname[j]===0?"/":Je[z];Dt.charAt(0)!=="/"&&(Dt="/"+Dt),je=Je[z],Re=O(N,M?M+" "+Dt:Dt)}else Re=O(N,C)}else ge=Y,Re=Y;return{target:ge,name:Re,data:je}}a(Yt,"AjaxHelperParseDependencyPath");function hn(){var N=(0,tt.r)();if(N&&N.now&&N.timing){var C=N.now()+N.timing.navigationStart;if(C>0)return C}return(0,Q.m6)()}a(hn,"dateTimeUtilsNow");function Tn(N,C){var M=null;return N!==0&&C!==0&&!(0,Q.le)(N)&&!(0,Q.le)(C)&&(M=C-N),M}a(Tn,"dateTimeUtilsDuration");var Qn={Now:hn,GetDuration:Tn};function Kn(N,C){var M=N||{};return{getName:function(){return M[_DYN_NAME]},setName:function(Y){C&&C.setName(Y),M[_DYN_NAME]=Y},getTraceId:function(){return M.traceID},setTraceId:function(Y){C&&C.setTraceId(Y),isValidTraceId(Y)&&(M.traceID=Y)},getSpanId:function(){return M.parentID},setSpanId:function(Y){C&&C.setSpanId(Y),isValidSpanId(Y)&&(M.parentID=Y)},getTraceFlags:function(){return M.traceFlags},setTraceFlags:function(Y){C&&C.setTraceFlags(Y),M.traceFlags=Y}}}a(Kn,"createDistributedTraceContextFromTrace");var Xn=function(){function N(C,M,Y,ge,Re,je,Je,Dt,bt,zt,fn,Gn){bt===void 0&&(bt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var dn=this;dn.ver=2,dn.id=M,dn[ke]=mr(Re),dn.success=je,dn.resultCode=Je+"",dn.type=O(C,bt);var Pn=Yt(C,Y,Dt,ge);dn.data=g(C,ge)||Pn.data,dn.target=O(C,Pn.target),zt&&(dn.target="".concat(dn.target," | ").concat(zt)),dn[A]=O(C,Pn[A]),dn[Te]=ve(C,fn),dn[Oe]=Fe(C,Gn)}return a(N,"RemoteDependencyData"),N.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",N.dataType="RemoteDependencyData",N}(),Bn=E(5883),rn=E(4063);function Jt(N){var C="ai."+N+".";return function(M){return C+M}}a(Jt,"_aiNameFunc");var vn=Jt("application"),mn=Jt("device"),K=Jt("location"),ue=Jt("operation"),Ee=Jt("session"),gt=Jt("user"),Mt=Jt("cloud"),Ht=Jt("internal"),pn=function(N){(0,p.ne)(C,N);function C(){return N.call(this)||this}return a(C,"ContextTagKeys"),C}((0,Q.hl)({applicationVersion:vn("ver"),applicationBuild:vn("build"),applicationTypeId:vn("typeId"),applicationId:vn("applicationId"),applicationLayer:vn("layer"),deviceId:mn("id"),deviceIp:mn("ip"),deviceLanguage:mn("language"),deviceLocale:mn("locale"),deviceModel:mn("model"),deviceFriendlyName:mn("friendlyName"),deviceNetwork:mn("network"),deviceNetworkName:mn("networkName"),deviceOEMName:mn("oemName"),deviceOS:mn("os"),deviceOSVersion:mn("osVersion"),deviceRoleInstance:mn("roleInstance"),deviceRoleName:mn("roleName"),deviceScreenResolution:mn("screenResolution"),deviceType:mn("type"),deviceMachineName:mn("machineName"),deviceVMName:mn("vmName"),deviceBrowser:mn("browser"),deviceBrowserVersion:mn("browserVersion"),locationIp:K("ip"),locationCountry:K("country"),locationProvince:K("province"),locationCity:K("city"),operationId:ue("id"),operationName:ue("name"),operationParentId:ue("parentId"),operationRootId:ue("rootId"),operationSyntheticSource:ue("syntheticSource"),operationCorrelationVector:ue("correlationVector"),sessionId:Ee("id"),sessionIsFirst:Ee("isFirst"),sessionIsNew:Ee("isNew"),userAccountAcquisitionDate:gt("accountAcquisitionDate"),userAccountId:gt("accountId"),userAgent:gt("userAgent"),userId:gt("id"),userStoreRegion:gt("storeRegion"),userAuthUserId:gt("authUserId"),userAnonymousUserAcquisitionDate:gt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:gt("authUserAcquisitionDate"),cloudName:Mt("name"),cloudRole:Mt("role"),cloudRoleVer:Mt("roleVer"),cloudRoleInstance:Mt("roleInstance"),cloudEnvironment:Mt("environment"),cloudLocation:Mt("location"),cloudDeploymentUnit:Mt("deploymentUnit"),internalNodeName:Ht("nodeName"),internalSdkVersion:Ht("sdkVersion"),internalAgentVersion:Ht("agentVersion"),internalSnippet:Ht("snippet"),internalSdkSrc:Ht("sdkSrc")})),cn={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},sn=new pn,gn=function(){function N(C,M,Y){var ge=this,Re=this;Re.ver=1,Re.sampleRate=100,Re.tags={},Re[A]=O(C,Y)||U,Re.data=M,Re.time=(0,Q.Y6)(new Date),Re.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ge.sampleRate===100?4:1},tags:1,data:1}}return a(N,"Envelope"),N}(),_n=function(){function N(C,M){this.aiDataContract={baseType:1,baseData:1},this.baseType=C,this.baseData=M}return a(N,"Data"),N}(),Gt="duration",Ct="tags",Fn="deviceType",Dn="data",Un="name",Vn="traceID",en="length",kr="stringify",_r="measurements",On="dataType",Zr="envelopeType",Lr="toString",Mr="onLine",si="isOnline",ti="enqueue",li="count",Wr="push",Cr="emitLineDelimitedJson",vi="clear",mi="batchPayloads",zr="markAsSent",Yr="clearSent",ni="bufferOverride",Ri="BUFFER_KEY",ui="SENT_BUFFER_KEY",Qr="MAX_BUFFER_SIZE",sr="namePrefix",ri="maxBatchSizeInBytes",xe="triggerSend",rt="diagLog",vt="onunloadDisableBeacon",mt="isBeaconApiDisabled",Ot="_sender",Wt="_senderConfig",an="enableSessionStorageBuffer",Ce="_buffer",qe="samplingPercentage",Ye="instrumentationKey",yt="endpointUrl",Bt="customHeaders",nn="disableXhr",An="onunloadDisableFetch",Sn="disableTelemetry",Hn="baseType",_i="sampleRate",Bi="convertUndefined",Xi="_xhrReadyStateChange",ur="_onError",Di="_onPartialSuccess",ci="_onSuccess",Ji="itemsAccepted",mo="itemsReceived",Aa="isRetryDisabled",Ha="setRequestHeader",ss="maxBatchInterval",Ra="eventsSendRequest",_o="disableInstrumentationKeyValidation",ha="getSamplingScore",wo="getHashCodeScore",Ar="baseType",Jn="baseData",Tr="properties",Ia="true";function wr(N,C,M){return(0,Q.sO)(N,C,M,Q.fQ)}a(wr,"_setValueIf");function ls(N,C,M){var Y=M[Ct]=M[Ct]||{},ge=C.ext=C.ext||{},Re=C[Ct]=C[Ct]||[],je=ge.user;je&&(wr(Y,sn.userAuthUserId,je.authId),wr(Y,sn.userId,je.id||je.localId));var Je=ge.app;Je&&wr(Y,sn.sessionId,Je.sesId);var Dt=ge.device;Dt&&(wr(Y,sn.deviceId,Dt.id||Dt.localId),wr(Y,sn[Fn],Dt.deviceClass),wr(Y,sn.deviceIp,Dt.ip),wr(Y,sn.deviceModel,Dt.model),wr(Y,sn[Fn],Dt[Fn]));var bt=C.ext.web;if(bt){wr(Y,sn.deviceLanguage,bt.browserLang),wr(Y,sn.deviceBrowserVersion,bt.browserVer),wr(Y,sn.deviceBrowser,bt.browser);var zt=M[Dn]=M[Dn]||{},fn=zt[Jn]=zt[Jn]||{},Gn=fn[Tr]=fn[Tr]||{};wr(Gn,"domain",bt.domain),wr(Gn,"isManual",bt.isManual?Ia:null),wr(Gn,"screenRes",bt.screenRes),wr(Gn,"userConsent",bt.userConsent?Ia:null)}var dn=ge.os;dn&&wr(Y,sn.deviceOS,dn[Un]);var Pn=ge.trace;Pn&&(wr(Y,sn.operationParentId,Pn.parentID),wr(Y,sn.operationName,O(N,Pn[Un])),wr(Y,sn.operationId,Pn[Vn]));for(var Rr={},Ke=Re[en]-1;Ke>=0;Ke--){var rr=Re[Ke];(0,Q.rW)(rr,function(gr,Dr){Rr[gr]=Dr}),Re.splice(Ke,1)}(0,Q.rW)(Re,function(gr,Dr){Rr[gr]=Dr});var Yn=(0,p.uc)((0,p.uc)({},Y),Rr);Yn[sn.internalSdkVersion]||(Yn[sn.internalSdkVersion]="javascript:".concat(Fa.Version)),M[Ct]=(0,Q.Ax)(Yn)}a(ls,"_extractPartAExtensions");function wi(N,C,M){(0,Q.le)(N)||(0,Q.rW)(N,function(Y,ge){(0,Q.hj)(ge)?M[Y]=ge:(0,Q.HD)(ge)?C[Y]=ge:(0,tt.nS)()&&(C[Y]=(0,tt.xA)()[kr](ge))})}a(wi,"_extractPropsAndMeasurements");function ea(N,C){(0,Q.le)(N)||(0,Q.rW)(N,function(M,Y){N[M]=Y||C})}a(ea,"_convertPropsUndefinedToCustomDefinedValue");function yi(N,C,M,Y){var ge=new gn(N,Y,C);wr(ge,"sampleRate",M[d]),(M[Jn]||{}).startTime&&(ge.time=(0,Q.Y6)(M[Jn].startTime)),ge.iKey=M.iKey;var Re=M.iKey.replace(/-/g,"");return ge[Un]=ge[Un].replace("{0}",Re),ls(N,M,ge),M[Ct]=M[Ct]||[],(0,Q.Ax)(ge)}a(yi,"_createEnvelope");function Ii(N,C){(0,Q.le)(C[Jn])&&(0,X.kP)(N,1,46,"telemetryItem.baseData cannot be null.")}a(Ii,"EnvelopeCreatorInit");var Fa={Version:"2.8.12"};function Oa(N,C,M){Ii(N,C);var Y=C[Jn][_r]||{},ge=C[Jn][Tr]||{};wi(C[Dn],ge,Y),(0,Q.le)(M)||ea(ge,M);var Re=C[Jn];if((0,Q.le)(Re))return(0,X.jV)(N,"Invalid input for dependency data"),null;var je=Re[Tr]&&Re[Tr][x]?Re[Tr][x]:"GET",Je=new Xn(N,Re.id,Re.target,Re[Un],Re[Gt],Re.success,Re.responseCode,je,Re.type,Re.correlationContext,ge,Y),Dt=new _n(Xn[On],Je);return yi(N,Xn[Zr],C,Dt)}a(Oa,"DependencyEnvelopeCreator");function us(N,C,M){Ii(N,C);var Y={},ge={};C[Ar]!==Nt[On]&&(Y.baseTypeSource=C[Ar]),C[Ar]===Nt[On]?(Y=C[Jn][Tr]||{},ge=C[Jn][_r]||{}):C[Jn]&&wi(C[Jn],Y,ge),wi(C[Dn],Y,ge),(0,Q.le)(M)||ea(Y,M);var Re=C[Jn][Un],je=new Nt(N,Re,Y,ge),Je=new _n(Nt[On],je);return yi(N,Nt[Zr],C,Je)}a(us,"EventEnvelopeCreator");function yo(N,C,M){Ii(N,C);var Y=C[Jn][_r]||{},ge=C[Jn][Tr]||{};wi(C[Dn],ge,Y),(0,Q.le)(M)||ea(ge,M);var Re=C[Jn],je=qt.CreateFromInterface(N,Re,ge,Y),Je=new _n(qt[On],je);return yi(N,qt[Zr],C,Je)}a(yo,"ExceptionEnvelopeCreator");function Eo(N,C,M){Ii(N,C);var Y=C[Jn],ge=Y[Tr]||{},Re=Y[_r]||{};wi(C[Dn],ge,Re),(0,Q.le)(M)||ea(ge,M);var je=new In(N,Y[Un],Y.average,Y.sampleCount,Y.min,Y.max,Y.stdDev,ge,Re),Je=new _n(In[On],je);return yi(N,In[Zr],C,Je)}a(Eo,"MetricEnvelopeCreator");function bo(N,C,M){Ii(N,C);var Y,ge=C[Jn];!(0,Q.le)(ge)&&!(0,Q.le)(ge[Tr])&&!(0,Q.le)(ge[Tr][Gt])?(Y=ge[Tr][Gt],delete ge[Tr][Gt]):!(0,Q.le)(C[Dn])&&!(0,Q.le)(C[Dn][Gt])&&(Y=C[Dn][Gt],delete C[Dn][Gt]);var Re=C[Jn],je;((C.ext||{}).trace||{})[Vn]&&(je=C.ext.trace[Vn]);var Je=Re.id||je,Dt=Re[Un],bt=Re.uri,zt=Re[Tr]||{},fn=Re[_r]||{};if((0,Q.le)(Re.refUri)||(zt.refUri=Re.refUri),(0,Q.le)(Re.pageType)||(zt.pageType=Re.pageType),(0,Q.le)(Re.isLoggedIn)||(zt.isLoggedIn=Re.isLoggedIn[Lr]()),!(0,Q.le)(Re[Tr])){var Gn=Re[Tr];(0,Q.rW)(Gn,function(Rr,Ke){zt[Rr]=Ke})}wi(C[Dn],zt,fn),(0,Q.le)(M)||ea(zt,M);var dn=new dr(N,Dt,bt,Y,zt,fn,Je),Pn=new _n(dr[On],dn);return yi(N,dr[Zr],C,Pn)}a(bo,"PageViewEnvelopeCreator");function cs(N,C,M){Ii(N,C);var Y=C[Jn],ge=Y[Un],Re=Y.uri||Y.url,je=Y[Tr]||{},Je=Y[_r]||{};wi(C[Dn],je,Je),(0,Q.le)(M)||ea(je,M);var Dt=new $r(N,ge,Re,void 0,je,Je,Y),bt=new _n($r[On],Dt);return yi(N,$r[Zr],C,bt)}a(cs,"PageViewPerformanceEnvelopeCreator");function fs(N,C,M){Ii(N,C);var Y=C[Jn].message,ge=C[Jn].severityLevel,Re=C[Jn][Tr]||{},je=C[Jn][_r]||{};wi(C[Dn],Re,je),(0,Q.le)(M)||ea(Re,M);var Je=new Vt(N,Y,ge,Re,je),Dt=new _n(Vt[On],Je);return yi(N,Vt[Zr],C,Dt)}a(fs,"TraceEnvelopeCreator");function So(N,C){(0,lr.QY)(N,null,null,C)}a(So,"_disableEvents");function ds(N){var C,M=(0,tt.Me)(),Y=(0,tt.jW)(),ge=!1,Re=!0,je=(0,lr.jU)((0,Bn.J)("OfflineListener"),N);try{if(Dt((0,tt.Jj)())&&(ge=!0),M){var Je=M.body||M;Je.ononline&&Dt(Je)&&(ge=!0)}ge&&Y&&!(0,Q.le)(Y[Mr])&&(Re=Y[Mr])}catch(dn){ge=!1}function Dt(dn){var Pn=!1;return dn&&(Pn=(0,lr.XO)(dn,"online",bt,je),Pn&&(0,lr.XO)(dn,"offline",zt,je)),Pn}a(Dt,"_enableEvents");function bt(){Re=!0}a(bt,"_setOnline");function zt(){Re=!1}a(zt,"_setOffline");function fn(){var dn=!0;return ge?dn=Re:Y&&!(0,Q.le)(Y[Mr])&&(dn=Y[Mr]),dn}a(fn,"_isOnline");function Gn(){var dn=(0,tt.Jj)();if(dn&&ge){if(So(dn,je),M){var Pn=M.body||M;(0,Q.o8)(Pn.ononline)||So(Pn,je)}ge=!1}}return a(Gn,"_unload"),C={},C[si]=fn,C.isListening=function(){return ge},C.unload=Gn,C}a(ds,"createOfflineListener");var xo=function(){function N(C,M){var Y=[],ge=!1;this._get=function(){return Y},this._set=function(Re){return Y=Re,Y},(0,v.Z)(N,this,function(Re){Re[ti]=function(je){if(Re[li]()>=M.eventsLimitInMem()){ge||((0,X.kP)(C,2,105,"Maximum in-memory buffer size reached: "+Re[li](),!0),ge=!0);return}Y[Wr](je)},Re[li]=function(){return Y[en]},Re.size=function(){for(var je=Y[en],Je=0;Je<Y[en];Je++)je+=Y[Je][en];return M[Cr]()||(je+=2),je},Re[vi]=function(){Y=[],ge=!1},Re.getItems=function(){return Y.slice(0)},Re[mi]=function(je){if(je&&je[en]>0){var Je=M[Cr]()?je.join(`
`):"["+je.join(",")+"]";return Je}return null}})}return a(N,"BaseSendBuffer"),N.__ieDyn=1,N}(),hs=function(N){(0,p.ne)(C,N);function C(M,Y){var ge=N.call(this,M,Y)||this;return(0,v.Z)(C,ge,function(Re,je){Re[zr]=function(Je){je[vi]()},Re[Yr]=function(Je){}}),ge}return a(C,"ArraySendBuffer"),C.__ieDyn=1,C}(xo),Co=function(N){(0,p.ne)(C,N);function C(M,Y){var ge=N.call(this,M,Y)||this,Re=!1,je=Y[ni]()||{getItem:Mi,setItem:xr},Je=je.getItem,Dt=je.setItem;return(0,v.Z)(C,ge,function(bt,zt){var fn=Rr(C[Ri]),Gn=Rr(C[ui]),dn=bt._set(fn.concat(Gn));dn[en]>C[Qr]&&(dn[en]=C[Qr]),Ke(C[ui],[]),Ke(C[Ri],dn),bt[ti]=function(rr){if(bt[li]()>=C[Qr]){Re||((0,X.kP)(M,2,67,"Maximum buffer size reached: "+bt[li](),!0),Re=!0);return}zt[ti](rr),Ke(C[Ri],bt._get())},bt[vi]=function(){zt[vi](),Ke(C[Ri],bt._get()),Ke(C[ui],[]),Re=!1},bt[zr]=function(rr){Ke(C[Ri],bt._set(Pn(rr,bt._get())));var Yn=Rr(C[ui]);Yn instanceof Array&&rr instanceof Array&&(Yn=Yn.concat(rr),Yn[en]>C[Qr]&&((0,X.kP)(M,1,67,"Sent buffer reached its maximum size: "+Yn[en],!0),Yn[en]=C[Qr]),Ke(C[ui],Yn))},bt[Yr]=function(rr){var Yn=Rr(C[ui]);Yn=Pn(rr,Yn),Ke(C[ui],Yn)};function Pn(rr,Yn){var gr=[];return(0,Q.tO)(Yn,function(Dr){!(0,Q.mf)(Dr)&&(0,Q.UA)(rr,Dr)===-1&&gr[Wr](Dr)}),gr}a(Pn,"_removePayloadsFromBuffer");function Rr(rr){var Yn=rr;try{Yn=Y[sr]&&Y[sr]()?Y[sr]()+"_"+Yn:Yn;var gr=Je(M,Yn);if(gr){var Dr=(0,tt.xA)().parse(gr);if((0,Q.HD)(Dr)&&(Dr=(0,tt.xA)().parse(Dr)),Dr&&(0,Q.kJ)(Dr))return Dr}}catch(Ui){(0,X.kP)(M,1,42," storage key: "+Yn+", "+(0,Q.jj)(Ui),{exception:(0,tt.eU)(Ui)})}return[]}a(Rr,"_getBuffer");function Ke(rr,Yn){var gr=rr;try{gr=Y[sr]&&Y[sr]()?Y[sr]()+"_"+gr:gr;var Dr=JSON[kr](Yn);Dt(M,gr,Dr)}catch(Ui){Dt(M,gr,JSON[kr]([])),(0,X.kP)(M,2,41," storage key: "+gr+", "+(0,Q.jj)(Ui)+". Buffer cleared",{exception:(0,tt.eU)(Ui)})}}a(Ke,"_setBuffer")}),ge}return a(C,"SessionStorageSendBuffer"),C.BUFFER_KEY="AI_buffer",C.SENT_BUFFER_KEY="AI_sentBuffer",C.MAX_BUFFER_SIZE=2e3,C}(xo),To=function(){function N(C){(0,v.Z)(N,this,function(M){M.serialize=function(je){var Je=Y(je,"root");try{return(0,tt.xA)()[kr](Je)}catch(Dt){(0,X.kP)(C,1,48,Dt&&(0,Q.mf)(Dt[Lr])?Dt[Lr]():"Error serializing object",null,!0)}};function Y(je,Je){var Dt="__aiCircularRefCheck",bt={};if(!je)return(0,X.kP)(C,1,48,"cannot serialize object because it is null or undefined",{name:Je},!0),bt;if(je[Dt])return(0,X.kP)(C,2,50,"Circular reference detected while serializing object",{name:Je},!0),bt;if(!je.aiDataContract){if(Je==="measurements")bt=Re(je,"number",Je);else if(Je==="properties")bt=Re(je,"string",Je);else if(Je==="tags")bt=Re(je,"string",Je);else if((0,Q.kJ)(je))bt=ge(je,Je);else{(0,X.kP)(C,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:Je},!0);try{(0,tt.xA)()[kr](je),bt=je}catch(zt){(0,X.kP)(C,1,48,zt&&(0,Q.mf)(zt[Lr])?zt[Lr]():"Error serializing object",null,!0)}}return bt}return je[Dt]=!0,(0,Q.rW)(je.aiDataContract,function(zt,fn){var Gn=(0,Q.mf)(fn)?fn()&1:fn&1,dn=(0,Q.mf)(fn)?fn()&4:fn&4,Pn=fn&2,Rr=je[zt]!==void 0,Ke=(0,Q.Kn)(je[zt])&&je[zt]!==null;if(Gn&&!Rr&&!Pn)(0,X.kP)(C,1,24,"Missing required field specification. The field is required but not present on source",{field:zt,name:Je});else if(!dn){var rr=void 0;Ke?Pn?rr=ge(je[zt],zt):rr=Y(je[zt],zt):rr=je[zt],rr!==void 0&&(bt[zt]=rr)}}),delete je[Dt],bt}a(Y,"_serializeObject");function ge(je,Je){var Dt;if(je)if(!(0,Q.kJ)(je))(0,X.kP)(C,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:Je},!0);else{Dt=[];for(var bt=0;bt<je[en];bt++){var zt=je[bt],fn=Y(zt,Je+"["+bt+"]");Dt[Wr](fn)}}return Dt}a(ge,"_serializeArray");function Re(je,Je,Dt){var bt;return je&&(bt={},(0,Q.rW)(je,function(zt,fn){if(Je==="string")fn===void 0?bt[zt]="undefined":fn===null?bt[zt]="null":fn[Lr]?bt[zt]=fn[Lr]():bt[zt]="invalid field: toString() is not defined.";else if(Je==="number")if(fn===void 0)bt[zt]="undefined";else if(fn===null)bt[zt]="null";else{var Gn=parseFloat(fn);isNaN(Gn)?bt[zt]="NaN":bt[zt]=Gn}else bt[zt]="invalid field: "+Dt+" is of unknown type.",(0,X.kP)(C,1,bt[zt],null,!0)})),bt}a(Re,"_serializeStringMap")})}return a(N,"Serializer"),N.__ieDyn=1,N}(),Ei=8,Wa=function(){function N(){}return a(N,"HashCodeScoreGenerator"),N.prototype.getHashCodeScore=function(C){var M=this.getHashCode(C)/N.INT_MAX_VALUE;return M*100},N.prototype.getHashCode=function(C){if(C==="")return 0;for(;C[en]<Ei;)C=C.concat(C);for(var M=5381,Y=0;Y<C[en];++Y)M=(M<<5)+M+C.charCodeAt(Y),M=M&M;return Math.abs(M)},N.INT_MAX_VALUE=2147483647,N}(),gs=function(){function N(){var C=this,M=new Wa,Y=new pn;C[ha]=function(ge){var Re=0;return ge[Ct]&&ge[Ct][Y.userId]?Re=M.getHashCodeScore(ge[Ct][Y.userId]):ge.ext&&ge.ext.user&&ge.ext.user.id?Re=M[wo](ge.ext.user.id):ge[Ct]&&ge[Ct][Y.operationId]?Re=M.getHashCodeScore(ge[Ct][Y.operationId]):ge.ext&&ge.ext.telemetryTrace&&ge.ext.telemetryTrace[Vn]?Re=M.getHashCodeScore(ge.ext.telemetryTrace[Vn]):Re=Math.random()*100,Re}}return a(N,"SamplingScoreGenerator"),N}(),Do=function(){function N(C,M){this.INT_MAX_VALUE=2147483647;var Y=M||(0,X.vH)(null);(C>100||C<0)&&(Y.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:C},!0),C=100),this[_i]=C,this.samplingScoreGenerator=new gs}return a(N,"Sample"),N.prototype.isSampledIn=function(C){var M=this[_i],Y=!1;return M==null||M>=100||C.baseType===In[On]?!0:(Y=this.samplingScoreGenerator[ha](C)<M,Y)},N}(),fi,ps=65e3;function Pa(N){try{return N.responseText}catch(C){}return null}a(Pa,"_getResponseText");function Ao(){var N,C,M;return N={endpointUrl:function(){return _+S}},N[Cr]=function(){return!1},N[ss]=function(){return 15e3},N[ri]=function(){return 102400},N[Sn]=function(){return!1},N[an]=function(){return!0},N[ni]=function(){return!1},N[Aa]=function(){return!1},N[mt]=function(){return!0},N[nn]=function(){return!1},N[An]=function(){return!1},N[vt]=function(){return!1},N[Ye]=function(){return C},N[sr]=function(){return C},N[qe]=function(){return 100},N[Bt]=function(){return M},N[Bi]=function(){return C},N.eventsLimitInMem=function(){return 1e4},N}a(Ao,"_getDefaultAppInsightsChannelConfig");var Ro=(fi={},fi[Nt.dataType]=us,fi[Vt.dataType]=fs,fi[dr.dataType]=bo,fi[$r.dataType]=cs,fi[qt.dataType]=yo,fi[In.dataType]=Eo,fi[Xn.dataType]=Oa,fi),Io=function(N){(0,p.ne)(C,N);function C(){var M=N.call(this)||this;M.priority=1001,M.identifier=w,M._senderConfig=Ao();var Y,ge,Re,je,Je,Dt,bt,zt,fn=0,Gn,dn,Pn,Rr;return(0,v.Z)(C,M,function(Ke,rr){ko(),Ke.pause=function(){ma(),je=!0},Ke.resume=function(){je&&(je=!1,ge=null,Ke._buffer.size()>Ke._senderConfig[ri]()&&Ke[xe](!0,null,10),Ga())},Ke.flush=function(Ue,Tt,Pt){if(Ue===void 0&&(Ue=!0),!je){ma();try{Ke[xe](Ue,null,Pt||1)}catch(ln){(0,X.kP)(Ke[rt](),1,22,"flush failed, telemetry will not be collected: "+(0,Q.jj)(ln),{exception:(0,tt.eU)(ln)})}}},Ke.onunloadFlush=function(){if(!je)if((Ke._senderConfig[vt]()===!1||Ke[Wt][mt]()===!1)&&(0,tt.MF)())try{Ke[xe](!0,Ui,2)}catch(Ue){(0,X.kP)(Ke[rt](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,Q.jj)(Ue),{exception:(0,tt.eU)(Ue)})}else Ke.flush()},Ke.addHeader=function(Ue,Tt){zt[Ue]=Tt},Ke.initialize=function(Ue,Tt,Pt,ln){Ke.isInitialized()&&(0,X.kP)(Ke[rt](),1,28,"Sender is already initialized"),rr.initialize(Ue,Tt,Pt,ln);var xn=Ke._getTelCtx(),Nn=Ke.identifier;Dt=new To(Tt.logger),Y=0,ge=null,Re=0,Ke[Ot]=null,bt=0;var $n=Ke[rt]();Rr=(0,lr.jU)((0,Bn.J)("Sender"),Tt.evtNamespace&&Tt.evtNamespace()),Pn=ds(Rr);var Ir=Ao();(0,Q.rW)(Ir,function(Br,pr){Ke[Wt][Br]=function(){var zi=xn.getConfig(Nn,Br,pr());return!zi&&Br==="endpointUrl"&&(zi=pr()),zi}});var ii=Ke[Wt][an]()&&!!(Ke._senderConfig[ni]()||ht());Ke[Ce]=ii?new Co($n,Ke[Wt]):new hs($n,Ke[Wt]),Ke._sample=new Do(Ke[Wt][qe](),$n),Ya(Ue)||(0,X.kP)($n,1,100,"Invalid Instrumentation key "+Ue[Ye]),!Lt(Ke._senderConfig.endpointUrl())&&Ke._senderConfig.customHeaders()&&Ke._senderConfig.customHeaders()[en]>0&&(0,Q.tO)(Ke[Wt][Bt](),function(Br){M.addHeader(Br.header,Br.value)});var ir=Ke[Wt],yr=null;!ir[nn]()&&(0,tt.cp)()?yr=Hi:!ir[nn]()&&(0,tt.Z3)()&&(yr=va),!yr&&(0,tt.JO)()&&(yr=ta),Gn=yr||va,!ir[mt]()&&(0,tt.MF)()&&(yr=pa),Ke[Ot]=yr||va,!ir[An]()&&(0,tt.JO)(!0)?dn=ys:(0,tt.MF)()?dn=pa:!ir[nn]()&&(0,tt.cp)()?dn=Hi:!ir[nn]()&&(0,tt.Z3)()?dn=va:dn=Gn},Ke.processTelemetry=function(Ue,Tt){Tt=Ke._getTelCtx(Tt);var Pt=Tt[rt]();try{if(Ke[Wt][Sn]())return;if(!Ue){(0,X.kP)(Pt,1,7,"Cannot send empty telemetry");return}if(Ue.baseData&&!Ue[Hn]){(0,X.kP)(Pt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Ue[Hn]||(Ue[Hn]="EventData"),!Ke[Ot]){(0,X.kP)(Pt,1,28,"Sender was not initialized");return}if(Yn(Ue))Ue[d]=Ke._sample[_i];else{(0,X.kP)(Pt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Ke._sample[_i]});return}var ln=Ke[Wt][Bi]()||void 0,xn=Ue.iKey||Ke[Wt][Ye](),Nn=C.constructEnvelope(Ue,xn,Pt,ln);if(!Nn){(0,X.kP)(Pt,1,47,"Unable to create an AppInsights envelope");return}var $n=!1;if(Ue[Ct]&&Ue[Ct][b]&&((0,Q.tO)(Ue[Ct][b],function(yr){try{yr&&yr(Nn)===!1&&($n=!0,(0,X.jV)(Pt,"Telemetry processor check returns false"))}catch(Br){(0,X.kP)(Pt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,Q.jj)(Br),{exception:(0,tt.eU)(Br)},!0)}}),delete Ue[Ct][b]),$n)return;var Ir=Dt.serialize(Nn),ii=Ke[Ce],ir=ii.size();ir+Ir[en]>Ke[Wt][ri]()&&(!Pn||Pn[si]())&&Ke[xe](!0,null,10),ii[ti](Ir),Ga()}catch(yr){(0,X.kP)(Pt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,Q.jj)(yr),{exception:(0,tt.eU)(yr)})}Ke.processNext(Ue,Tt)},Ke[Xi]=function(Ue,Tt,Pt){Ue.readyState===4&&gr(Ue.status,Tt,Ue.responseURL,Pt,$i(Ue),Pa(Ue)||Ue.response)},Ke[xe]=function(Ue,Tt,Pt){if(Ue===void 0&&(Ue=!0),!je)try{var ln=Ke[Ce];if(Ke[Wt][Sn]())ln[vi]();else{if(ln[li]()>0){var xn=ln.getItems();Wi(Pt||0,Ue),Tt?Tt.call(M,xn,Ue):Ke[Ot](xn,Ue)}Re=+new Date}ma()}catch($n){var Nn=(0,tt.sA)();(!Nn||Nn>9)&&(0,X.kP)(Ke[rt](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,Q.jj)($n),{exception:(0,tt.eU)($n)})}},Ke._doTeardown=function(Ue,Tt){Ke.onunloadFlush(),Pn.unload(),ko()},Ke[ur]=function(Ue,Tt,Pt){(0,X.kP)(Ke[rt](),2,26,"Failed to send telemetry.",{message:Tt}),Ke._buffer[Yr](Ue)},Ke[Di]=function(Ue,Tt){for(var Pt=[],ln=[],xn=Tt.errors.reverse(),Nn=0,$n=xn;Nn<$n.length;Nn++){var Ir=$n[Nn],ii=Ue.splice(Ir.index,1)[0];na(Ir.statusCode)?ln[Wr](ii):Pt[Wr](ii)}Ue[en]>0&&Ke[ci](Ue,Tt[Ji]),Pt[en]>0&&Ke[ur](Pt,$i(null,["partial success",Tt[Ji],"of",Tt.itemsReceived].join(" "))),ln[en]>0&&(Ka(ln),(0,X.kP)(Ke[rt](),2,40,"Partial success. Delivered: "+Ue[en]+", Failed: "+Pt[en]+". Will retry to send "+ln[en]+" our of "+Tt[mo]+" items"))},Ke[ci]=function(Ue,Tt){Ke._buffer[Yr](Ue)},Ke._xdrOnLoad=function(Ue,Tt){var Pt=Pa(Ue);if(Ue&&(Pt+""=="200"||Pt===""))Y=0,Ke[ci](Tt,0);else{var ln=Na(Pt);ln&&ln.itemsReceived&&ln.itemsReceived>ln[Ji]&&!Ke[Wt][Aa]()?Ke[Di](Tt,ln):Ke[ur](Tt,ka(Ue))}};function Yn(Ue){return Ke._sample.isSampledIn(Ue)}a(Yn,"_isSampledIn");function gr(Ue,Tt,Pt,ln,xn,Nn){var $n=null;if(Ke._appId||($n=Na(Nn),$n&&$n.appId&&(Ke._appId=$n.appId)),(Ue<200||Ue>=300)&&Ue!==0){if((Ue===301||Ue===307||Ue===308)&&!Dr(Pt)){Ke[ur](Tt,xn);return}!Ke[Wt][Aa]()&&na(Ue)?(Ka(Tt),(0,X.kP)(Ke[rt](),2,40,". Response code "+Ue+". Will retry to send "+Tt[en]+" items.")):Ke[ur](Tt,xn)}else if(Pn&&!Pn[si]()){if(!Ke[Wt][Aa]()){var Ir=10;Ka(Tt,Ir),(0,X.kP)(Ke[rt](),2,40,". Offline - Response Code: ".concat(Ue,". Offline status: ").concat(!Pn.isOnline(),". Will retry to send ").concat(Tt.length," items."))}}else Dr(Pt),Ue===206?($n||($n=Na(Nn)),$n&&!Ke[Wt][Aa]()?Ke[Di](Tt,$n):Ke[ur](Tt,xn)):(Y=0,Ke[ci](Tt,ln))}a(gr,"_checkResponsStatus");function Dr(Ue){return bt>=10?!1:!(0,Q.le)(Ue)&&Ue!==""&&Ue!==Ke[Wt][yt]()?(Ke[Wt][yt]=function(){return Ue},++bt,!0):!1}a(Dr,"_checkAndUpdateEndPointUrl");function Ui(Ue,Tt){dn?dn(Ue,!1):pa(Ue,Tt)}a(Ui,"_doUnloadSend");function Oo(Ue){var Tt=(0,tt.jW)(),Pt=Ke[Ce],ln=Ke[Wt][yt](),xn=Ke._buffer[mi](Ue),Nn=new Blob([xn],{type:"text/plain;charset=UTF-8"}),$n=Tt.sendBeacon(ln,Nn);return $n&&(Pt[zr](Ue),Ke._onSuccess(Ue,Ue[en])),$n}a(Oo,"_doBeaconSend");function pa(Ue,Tt){if((0,Q.kJ)(Ue)&&Ue[en]>0&&!Oo(Ue)){for(var Pt=[],ln=0;ln<Ue[en];ln++){var xn=Ue[ln];Oo([xn])||Pt[Wr](xn)}Pt[en]>0&&(Gn&&Gn(Pt,!0),(0,X.kP)(Ke[rt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(pa,"_beaconSender");function va(Ue,Tt){var Pt=new XMLHttpRequest,ln=Ke[Wt][yt]();try{Pt[T]=!0}catch(Nn){}Pt.open("POST",ln,Tt),Pt[Ha]("Content-type","application/json"),Lt(ln)&&Pt[Ha](jn[6],jn[7]),(0,Q.tO)((0,Q.FY)(zt),function(Nn){Pt[Ha](Nn,zt[Nn])}),Pt.onreadystatechange=function(){return Ke._xhrReadyStateChange(Pt,Ue,Ue[en])},Pt.onerror=function(Nn){return Ke[ur](Ue,$i(Pt),Nn)};var xn=Ke._buffer[mi](Ue);Pt.send(xn),Ke._buffer[zr](Ue)}a(va,"_xhrSender");function ys(Ue,Tt){if((0,Q.kJ)(Ue)){for(var Pt=Ue[en],ln=0;ln<Ue[en];ln++)Pt+=Ue[ln][en];fn+Pt<=ps?Po(Ue,!1):(0,tt.MF)()?pa(Ue,Tt):(Gn&&Gn(Ue,!0),(0,X.kP)(Ke[rt](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(ys,"_fetchKeepAliveSender");function ta(Ue,Tt){Po(Ue,!0)}a(ta,"_fetchSender");function Po(Ue,Tt){var Pt,ln=Ke[Wt][yt](),xn=Ke._buffer[mi](Ue),Nn=new Blob([xn],{type:"application/json"}),$n=new Headers,Ir=xn[en],ii=!1,ir=!1;Lt(ln)&&$n.append(jn[6],jn[7]),(0,Q.tO)((0,Q.FY)(zt),function(pr){$n.append(pr,zt[pr])});var yr=(Pt={method:"POST",headers:$n,body:Nn},Pt[T]=!0,Pt);Tt||(yr.keepalive=!0,ii=!0,fn+=Ir);var Br=new Request(ln,yr);try{Br[T]=!0}catch(pr){}Ke._buffer[zr](Ue);try{fetch(Br).then(function(pr){Tt||(fn-=Ir,Ir=0),ir||(ir=!0,pr.ok?pr.text().then(function(zi){gr(pr.status,Ue,pr.url,Ue[en],pr.statusText,zi)}):Ke[ur](Ue,pr.statusText))}).catch(function(pr){Tt||(fn-=Ir,Ir=0),ir||(ir=!0,Ke[ur](Ue,pr.message))})}catch(pr){ir||Ke[ur](Ue,(0,tt.eU)(pr))}ii&&!ir&&(ir=!0,Ke._onSuccess(Ue,Ue[en]))}a(Po,"_doFetchSender");function Na(Ue){try{if(Ue&&Ue!==""){var Tt=(0,tt.xA)().parse(Ue);if(Tt&&Tt.itemsReceived&&Tt.itemsReceived>=Tt[Ji]&&Tt.itemsReceived-Tt.itemsAccepted===Tt.errors[en])return Tt}}catch(Pt){(0,X.kP)(Ke[rt](),1,43,"Cannot parse the response. "+(0,Q.jj)(Pt),{response:Ue})}return null}a(Na,"_parseResponse");function Ka(Ue,Tt){if(Tt===void 0&&(Tt=1),!(!Ue||Ue[en]===0)){var Pt=Ke[Ce];Pt[Yr](Ue),Y++;for(var ln=0,xn=Ue;ln<xn.length;ln++){var Nn=xn[ln];Pt[ti](Nn)}Es(Tt),Ga()}}a(Ka,"_resendPayload");function Es(Ue){var Tt=10,Pt;if(Y<=1)Pt=Tt;else{var ln=(Math.pow(2,Y)-1)/2,xn=Math.floor(Math.random()*ln*Tt)+1;xn=Ue*xn,Pt=Math.max(Math.min(xn,3600),Tt)}var Nn=(0,Q.m6)()+Pt*1e3;ge=Nn}a(Es,"_setRetryTime");function Ga(){if(!Je&&!je){var Ue=ge?Math.max(0,ge-(0,Q.m6)()):0,Tt=Math.max(Ke[Wt][ss](),Ue);Je=setTimeout(function(){Je=null,Ke[xe](!0,null,1)},Tt)}}a(Ga,"_setupTimer");function ma(){clearTimeout(Je),Je=null,ge=null}a(ma,"_clearScheduledTimer");function na(Ue){return Ue===401||Ue===403||Ue===408||Ue===429||Ue===500||Ue===502||Ue===503||Ue===504}a(na,"_isRetriable");function $i(Ue,Tt){return Ue?"XMLHttpRequest,Status:"+Ue.status+",Response:"+Pa(Ue)||0||0:Tt}a($i,"_formatErrorMessageXhr");function Hi(Ue,Tt){var Pt=Ke[Ce],ln=(0,tt.Jj)(),xn=new XDomainRequest;xn.onload=function(){return Ke._xdrOnLoad(xn,Ue)},xn.onerror=function(ii){return Ke[ur](Ue,ka(xn),ii)};var Nn=ln&&ln.location&&ln.location.protocol||"";if(Ke[Wt][yt]().lastIndexOf(Nn,0)!==0){(0,X.kP)(Ke[rt](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Pt[vi]();return}var $n=Ke[Wt][yt]().replace(/^(https?:)/,"");xn.open("POST",$n);var Ir=Pt[mi](Ue);xn.send(Ir),Pt[zr](Ue)}a(Hi,"_xdrSender");function ka(Ue,Tt){return Ue?"XDomainRequest,Response:"+Pa(Ue)||0:Tt}a(ka,"_formatErrorMessageXdr");function No(){var Ue="getNotifyMgr";return Ke.core[Ue]?Ke.core[Ue]():Ke.core._notificationManager}a(No,"_getNotifyMgr");function Wi(Ue,Tt){var Pt=No();if(Pt&&Pt[Ra])try{Pt[Ra](Ue,Tt)}catch(ln){(0,X.kP)(Ke[rt](),1,74,"send request notification failed: "+(0,Q.jj)(ln),{exception:(0,tt.eU)(ln)})}}a(Wi,"_notifySendRequest");function Ya(Ue){var Tt=(0,Q.le)(Ue[_o])?!1:Ue[_o];if(Tt)return!0;var Pt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ln=new RegExp(Pt);return ln.test(Ue[Ye])}a(Ya,"_validateInstrumentationKey");function ko(){Ke[Ot]=null,Ke[Ce]=null,Ke._appId=null,Ke._sample=null,zt={},Pn=null,Y=0,ge=null,Re=null,je=!1,Je=null,Dt=null,bt=0,fn=0,Gn=null,dn=null,Rr=null}a(ko,"_initDefaults")}),M}return a(C,"Sender"),C.constructEnvelope=function(M,Y,ge,Re){var je;Y!==M.iKey&&!(0,Q.le)(Y)?je=(0,p.uc)((0,p.uc)({},M),{iKey:Y}):je=M;var Je=Ro[je.baseType]||us;return Je(ge,je,Re)},C}(rn.i),ul=";",vs="=";function ms(N){if(!N)return{};var C=N[V](ul),M=(0,Q.Xz)(C,function(ge,Re){var je=Re[V](vs);if(je[j]===2){var Je=je[0][le](),Dt=je[1];ge[Je]=Dt}return ge},{});if((0,Q.FY)(M)[j]>0){if(M.endpointsuffix){var Y=M.location?M.location+".":"";M[L]=M[L]||"https://"+Y+"dc."+M.endpointsuffix}M[L]=M[L]||_}return M}a(ms,"parseConnectionString");var nc={parse:ms},Fo=E(5121),za="instrumentationKey",ja="connectionString",ga="diagnosticLogInterval",cl=E(7310),_s=(0,Hr.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),ws=function(){function N(C){var M=new Fo.F;((0,Q.le)(C)||(0,Q.le)(C[za])&&(0,Q.le)(C[ja]))&&(0,Q._y)("Invalid input configuration"),(0,v.Z)(N,this,function(Y){if(C[ja]){var ge=ms(C[ja]),Re=ge.ingestionendpoint;C.endpointUrl=Re?Re+S:C.endpointUrl,C[za]=ge.instrumentationkey||C[za]}Y.config=C,je(),Y.initialize=je,Y.getSKUDefaults=function(){Y.config[ga]=Y.config[ga]&&Y.config[ga]>0?Y.config[ga]:1e4},Y.getSKUDefaults(),(0,Q.Vb)(Y,M,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function je(){M.initialize(Y.config,[new Io]),M.pollInternalLogs()}a(je,"_initialize")})}return a(N,"ApplicationInsights"),N.__ieDyn=1,N}()},1679:(fe,c,E)=>{"use strict";E.d(c,{Z:()=>st});/*!
 * Microsoft Dynamic Proto Utility, 1.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var v,p="undefined",y="constructor",w="prototype",R="function",T="_dynInstFuncs",d="_isDynProxy",b="_dynClass",x="_dynCls$",_="_dynInstChk",S=_,U="_dfOpts",I="_unknown_",V="__proto__",j="_dyn"+V,le="__dynProto$Gbl",L="_dynInstProto",H="useBaseInst",B="setInstFuncs",A=Object,k=A.getPrototypeOf,$=A.getOwnPropertyNames;function te(){var G;return typeof globalThis!==p&&(G=globalThis),!G&&typeof self!==p&&(G=self),!G&&typeof window!==p&&(G=window),!G&&typeof E.g!==p&&(G=E.g),G||{}}a(te,"_getGlobal");var J=te(),ne=J[le]||(J[le]={o:(v={},v[B]=!0,v[H]=!0,v),n:1e3});function ce(G,ee){return G&&A[w].hasOwnProperty.call(G,ee)}a(ce,"_hasOwnProperty");function be(G){return G&&(G===A[w]||G===Array[w])}a(be,"_isObjectOrArrayPrototype");function ie(G){return be(G)||G===Function[w]}a(ie,"_isObjectArrayOrFunctionPrototype");function _e(G){var ee;if(G){if(k)return k(G);var ae=G[V]||G[w]||(G[y]?G[y][w]:null);ee=G[j]||ae,ce(G,j)||(delete G[L],ee=G[j]=G[L]||G[j],G[L]=ae)}return ee}a(_e,"_getObjProto");function z(G,ee){var ae=[];if($)ae=$(G);else for(var we in G)typeof we=="string"&&ce(G,we)&&ae.push(we);if(ae&&ae.length>0)for(var Me=0;Me<ae.length;Me++)ee(ae[Me])}a(z,"_forEachProp");function Ve(G,ee,ae){return ee!==y&&typeof G[ee]===R&&(ae||ce(G,ee))}a(Ve,"_isDynamicCandidate");function Se(G){throw new TypeError("DynamicProto: "+G)}a(Se,"_throwTypeError");function de(G){var ee={};return z(G,function(ae){!ee[ae]&&Ve(G,ae,!1)&&(ee[ae]=G[ae])}),ee}a(de,"_getInstanceFuncs");function Z(G,ee){for(var ae=G.length-1;ae>=0;ae--)if(G[ae]===ee)return!0;return!1}a(Z,"_hasVisited");function se(G,ee,ae,we){function Me(ke,Ze,Ne){var He=Ze[Ne];if(He[d]&&we){var et=ke[T]||{};et[S]!==!1&&(He=(et[Ze[b]]||{})[Ne]||He)}return function(){return He.apply(ke,arguments)}}a(Me,"_instFuncProxy");var Be={};z(ae,function(ke){Be[ke]=Me(ee,ae,ke)});for(var pe=_e(G),De=[];pe&&!ie(pe)&&!Z(De,pe);)z(pe,function(ke){!Be[ke]&&Ve(pe,ke,!k)&&(Be[ke]=Me(ee,pe,ke))}),De.push(pe),pe=_e(pe);return Be}a(se,"_getBaseFuncs");function Te(G,ee,ae,we){var Me=null;if(G&&ce(ae,b)){var Be=G[T]||{};if(Me=(Be[ae[b]]||{})[ee],Me||Se("Missing ["+ee+"] "+R),!Me[_]&&Be[S]!==!1){for(var pe=!ce(G,ee),De=_e(G),ke=[];pe&&De&&!ie(De)&&!Z(ke,De);){var Ze=De[ee];if(Ze){pe=Ze===we;break}ke.push(De),De=_e(De)}try{pe&&(G[ee]=Me),Me[_]=1}catch(Ne){Be[S]=!1}}}return Me}a(Te,"_getInstFunc");function Oe(G,ee,ae){var we=ee[G];return we===ae&&(we=_e(ee)[G]),typeof we!==R&&Se("["+G+"] is not a "+R),we}a(Oe,"_getProtoFunc");function re(G,ee,ae,we,Me){function Be(ke,Ze){var Ne=a(function(){var He=Te(this,Ze,ke,Ne)||Oe(Ze,ke,Ne);return He.apply(this,arguments)},"dynProtoProxy");return Ne[d]=1,Ne}if(a(Be,"_createDynamicPrototype"),!be(G)){var pe=ae[T]=ae[T]||{},De=pe[ee]=pe[ee]||{};pe[S]!==!1&&(pe[S]=!!Me),z(ae,function(ke){Ve(ae,ke,!1)&&ae[ke]!==we[ke]&&(De[ke]=ae[ke],delete ae[ke],(!ce(G,ke)||G[ke]&&!G[ke][d])&&(G[ke]=Be(G,ke)))})}}a(re,"_populatePrototype");function Ge(G,ee){if(k){for(var ae=[],we=_e(ee);we&&!ie(we)&&!Z(ae,we);){if(we===G)return!0;ae.push(we),we=_e(we)}return!1}return!0}a(Ge,"_checkPrototype");function Xe(G,ee){return ce(G,w)?G.name||ee||I:((G||{})[y]||{}).name||ee||I}a(Xe,"_getObjName");function st(G,ee,ae,we){ce(G,w)||Se("theClass is an invalid class definition.");var Me=G[w];Ge(Me,ee)||Se("["+Xe(G)+"] not in hierarchy of ["+Xe(ee)+"]");var Be=null;ce(Me,b)?Be=Me[b]:(Be=x+Xe(G,"_")+"$"+ne.n,ne.n++,Me[b]=Be);var pe=st[U],De=!!pe[H];De&&we&&we[H]!==void 0&&(De=!!we[H]);var ke=de(ee),Ze=se(Me,ee,ke,De);ae(ee,Ze);var Ne=!!k&&!!pe[B];Ne&&we&&(Ne=!!we[B]),re(Me,Be,ee,ke,Ne!==!1)}a(st,"dynamicProto"),st[U]=ne.o},6232:(fe,c,E)=>{"use strict";const v=E(8641),p=E(8692),y=E(1474),w=E(5870),R=a((T,d={})=>{let b=[];if(Array.isArray(T))for(let x of T){let _=R.create(x,d);Array.isArray(_)?b.push(..._):b.push(_)}else b=[].concat(R.create(T,d));return d&&d.expand===!0&&d.nodupes===!0&&(b=[...new Set(b)]),b},"braces");R.parse=(T,d={})=>w(T,d),R.stringify=(T,d={})=>v(typeof T=="string"?R.parse(T,d):T,d),R.compile=(T,d={})=>(typeof T=="string"&&(T=R.parse(T,d)),p(T,d)),R.expand=(T,d={})=>{typeof T=="string"&&(T=R.parse(T,d));let b=y(T,d);return d.noempty===!0&&(b=b.filter(Boolean)),d.nodupes===!0&&(b=[...new Set(b)]),b},R.create=(T,d={})=>T===""||T.length<3?[T]:d.expand!==!0?R.compile(T,d):R.expand(T,d),fe.exports=R},8692:(fe,c,E)=>{"use strict";const v=E(1516),p=E(3596),y=a((w,R={})=>{let T=a((d,b={})=>{let x=p.isInvalidBrace(b),_=d.invalid===!0&&R.escapeInvalid===!0,S=x===!0||_===!0,U=R.escapeInvalid===!0?"\\":"",I="";if(d.isOpen===!0||d.isClose===!0)return U+d.value;if(d.type==="open")return S?U+d.value:"(";if(d.type==="close")return S?U+d.value:")";if(d.type==="comma")return d.prev.type==="comma"?"":S?d.value:"|";if(d.value)return d.value;if(d.nodes&&d.ranges>0){let V=p.reduce(d.nodes),j=v(...V,{...R,wrap:!1,toRegex:!0});if(j.length!==0)return V.length>1&&j.length>1?`(${j})`:j}if(d.nodes)for(let V of d.nodes)I+=T(V,d);return I},"walk");return T(w)},"compile");fe.exports=y},7007:fe=>{"use strict";fe.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(fe,c,E)=>{"use strict";const v=E(1516),p=E(8641),y=E(3596),w=a((T="",d="",b=!1)=>{let x=[];if(T=[].concat(T),d=[].concat(d),!d.length)return T;if(!T.length)return b?y.flatten(d).map(_=>`{${_}}`):d;for(let _ of T)if(Array.isArray(_))for(let S of _)x.push(w(S,d,b));else for(let S of d)b===!0&&typeof S=="string"&&(S=`{${S}}`),x.push(Array.isArray(S)?w(_,S,b):_+S);return y.flatten(x)},"append"),R=a((T,d={})=>{let b=d.rangeLimit===void 0?1e3:d.rangeLimit,x=a((_,S={})=>{_.queue=[];let U=S,I=S.queue;for(;U.type!=="brace"&&U.type!=="root"&&U.parent;)U=U.parent,I=U.queue;if(_.invalid||_.dollar){I.push(w(I.pop(),p(_,d)));return}if(_.type==="brace"&&_.invalid!==!0&&_.nodes.length===2){I.push(w(I.pop(),["{}"]));return}if(_.nodes&&_.ranges>0){let L=y.reduce(_.nodes);if(y.exceedsLimit(...L,d.step,b))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let H=v(...L,d);H.length===0&&(H=p(_,d)),I.push(w(I.pop(),H)),_.nodes=[];return}let V=y.encloseBrace(_),j=_.queue,le=_;for(;le.type!=="brace"&&le.type!=="root"&&le.parent;)le=le.parent,j=le.queue;for(let L=0;L<_.nodes.length;L++){let H=_.nodes[L];if(H.type==="comma"&&_.type==="brace"){L===1&&j.push(""),j.push("");continue}if(H.type==="close"){I.push(w(I.pop(),j,V));continue}if(H.value&&H.type!=="open"){j.push(w(j.pop(),H.value));continue}H.nodes&&x(H,_)}return j},"walk");return y.flatten(x(T))},"expand");fe.exports=R},5870:(fe,c,E)=>{"use strict";const v=E(8641),{MAX_LENGTH:p,CHAR_BACKSLASH:y,CHAR_BACKTICK:w,CHAR_COMMA:R,CHAR_DOT:T,CHAR_LEFT_PARENTHESES:d,CHAR_RIGHT_PARENTHESES:b,CHAR_LEFT_CURLY_BRACE:x,CHAR_RIGHT_CURLY_BRACE:_,CHAR_LEFT_SQUARE_BRACKET:S,CHAR_RIGHT_SQUARE_BRACKET:U,CHAR_DOUBLE_QUOTE:I,CHAR_SINGLE_QUOTE:V,CHAR_NO_BREAK_SPACE:j,CHAR_ZERO_WIDTH_NOBREAK_SPACE:le}=E(7007),L=a((H,B={})=>{if(typeof H!="string")throw new TypeError("Expected a string");let A=B||{},k=typeof A.maxLength=="number"?Math.min(p,A.maxLength):p;if(H.length>k)throw new SyntaxError(`Input length (${H.length}), exceeds max characters (${k})`);let $={type:"root",input:H,nodes:[]},te=[$],J=$,ne=$,ce=0,be=H.length,ie=0,_e=0,z,Ve={};const Se=a(()=>H[ie++],"advance"),de=a(Z=>{if(Z.type==="text"&&ne.type==="dot"&&(ne.type="text"),ne&&ne.type==="text"&&Z.type==="text"){ne.value+=Z.value;return}return J.nodes.push(Z),Z.parent=J,Z.prev=ne,ne=Z,Z},"push");for(de({type:"bos"});ie<be;)if(J=te[te.length-1],z=Se(),!(z===le||z===j)){if(z===y){de({type:"text",value:(B.keepEscaping?z:"")+Se()});continue}if(z===U){de({type:"text",value:"\\"+z});continue}if(z===S){ce++;let Z=!0,se;for(;ie<be&&(se=Se());){if(z+=se,se===S){ce++;continue}if(se===y){z+=Se();continue}if(se===U&&(ce--,ce===0))break}de({type:"text",value:z});continue}if(z===d){J=de({type:"paren",nodes:[]}),te.push(J),de({type:"text",value:z});continue}if(z===b){if(J.type!=="paren"){de({type:"text",value:z});continue}J=te.pop(),de({type:"text",value:z}),J=te[te.length-1];continue}if(z===I||z===V||z===w){let Z=z,se;for(B.keepQuotes!==!0&&(z="");ie<be&&(se=Se());){if(se===y){z+=se+Se();continue}if(se===Z){B.keepQuotes===!0&&(z+=se);break}z+=se}de({type:"text",value:z});continue}if(z===x){_e++;let Z=ne.value&&ne.value.slice(-1)==="$"||J.dollar===!0;J=de({type:"brace",open:!0,close:!1,dollar:Z,depth:_e,commas:0,ranges:0,nodes:[]}),te.push(J),de({type:"open",value:z});continue}if(z===_){if(J.type!=="brace"){de({type:"text",value:z});continue}let Z="close";J=te.pop(),J.close=!0,de({type:Z,value:z}),_e--,J=te[te.length-1];continue}if(z===R&&_e>0){if(J.ranges>0){J.ranges=0;let Z=J.nodes.shift();J.nodes=[Z,{type:"text",value:v(J)}]}de({type:"comma",value:z}),J.commas++;continue}if(z===T&&_e>0&&J.commas===0){let Z=J.nodes;if(_e===0||Z.length===0){de({type:"text",value:z});continue}if(ne.type==="dot"){if(J.range=[],ne.value+=z,ne.type="range",J.nodes.length!==3&&J.nodes.length!==5){J.invalid=!0,J.ranges=0,ne.type="text";continue}J.ranges++,J.args=[];continue}if(ne.type==="range"){Z.pop();let se=Z[Z.length-1];se.value+=ne.value+z,ne=se,J.ranges--;continue}de({type:"dot",value:z});continue}de({type:"text",value:z})}do if(J=te.pop(),J.type!=="root"){J.nodes.forEach(Te=>{Te.nodes||(Te.type==="open"&&(Te.isOpen=!0),Te.type==="close"&&(Te.isClose=!0),Te.nodes||(Te.type="text"),Te.invalid=!0)});let Z=te[te.length-1],se=Z.nodes.indexOf(J);Z.nodes.splice(se,1,...J.nodes)}while(te.length>0);return de({type:"eos"}),$},"parse");fe.exports=L},8641:(fe,c,E)=>{"use strict";const v=E(3596);fe.exports=(p,y={})=>{let w=a((R,T={})=>{let d=y.escapeInvalid&&v.isInvalidBrace(T),b=R.invalid===!0&&y.escapeInvalid===!0,x="";if(R.value)return(d||b)&&v.isOpenOrClose(R)?"\\"+R.value:R.value;if(R.value)return R.value;if(R.nodes)for(let _ of R.nodes)x+=w(_);return x},"stringify");return w(p)}},3596:(fe,c)=>{"use strict";c.isInteger=E=>typeof E=="number"?Number.isInteger(E):typeof E=="string"&&E.trim()!==""?Number.isInteger(Number(E)):!1,c.find=(E,v)=>E.nodes.find(p=>p.type===v),c.exceedsLimit=(E,v,p=1,y)=>y===!1||!c.isInteger(E)||!c.isInteger(v)?!1:(Number(v)-Number(E))/Number(p)>=y,c.escapeNode=(E,v=0,p)=>{let y=E.nodes[v];!y||(p&&y.type===p||y.type==="open"||y.type==="close")&&y.escaped!==!0&&(y.value="\\"+y.value,y.escaped=!0)},c.encloseBrace=E=>E.type!=="brace"?!1:E.commas>>0+E.ranges>>0==0?(E.invalid=!0,!0):!1,c.isInvalidBrace=E=>E.type!=="brace"?!1:E.invalid===!0||E.dollar?!0:E.commas>>0+E.ranges>>0==0||E.open!==!0||E.close!==!0?(E.invalid=!0,!0):!1,c.isOpenOrClose=E=>E.type==="open"||E.type==="close"?!0:E.open===!0||E.close===!0,c.reduce=E=>E.reduce((v,p)=>(p.type==="text"&&v.push(p.value),p.type==="range"&&(p.type="text"),v),[]),c.flatten=(...E)=>{const v=[],p=a(y=>{for(let w=0;w<y.length;w++){let R=y[w];Array.isArray(R)?p(R,v):R!==void 0&&v.push(R)}return v},"flat");return p(E),v}},1516:(fe,c,E)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const v=E(6529),p=E(2999),y=a(A=>A!==null&&typeof A=="object"&&!Array.isArray(A),"isObject"),w=a(A=>k=>A===!0?Number(k):String(k),"transform"),R=a(A=>typeof A=="number"||typeof A=="string"&&A!=="","isValidValue"),T=a(A=>Number.isInteger(+A),"isNumber"),d=a(A=>{let k=`${A}`,$=-1;if(k[0]==="-"&&(k=k.slice(1)),k==="0")return!1;for(;k[++$]==="0";);return $>0},"zeros"),b=a((A,k,$)=>typeof A=="string"||typeof k=="string"?!0:$.stringify===!0,"stringify"),x=a((A,k,$)=>{if(k>0){let te=A[0]==="-"?"-":"";te&&(A=A.slice(1)),A=te+A.padStart(te?k-1:k,"0")}return $===!1?String(A):A},"pad"),_=a((A,k)=>{let $=A[0]==="-"?"-":"";for($&&(A=A.slice(1),k--);A.length<k;)A="0"+A;return $?"-"+A:A},"toMaxLen"),S=a((A,k)=>{A.negatives.sort((ce,be)=>ce<be?-1:ce>be?1:0),A.positives.sort((ce,be)=>ce<be?-1:ce>be?1:0);let $=k.capture?"":"?:",te="",J="",ne;return A.positives.length&&(te=A.positives.join("|")),A.negatives.length&&(J=`-(${$}${A.negatives.join("|")})`),te&&J?ne=`${te}|${J}`:ne=te||J,k.wrap?`(${$}${ne})`:ne},"toSequence"),U=a((A,k,$,te)=>{if($)return p(A,k,{wrap:!1,...te});let J=String.fromCharCode(A);if(A===k)return J;let ne=String.fromCharCode(k);return`[${J}-${ne}]`},"toRange"),I=a((A,k,$)=>{if(Array.isArray(A)){let te=$.wrap===!0,J=$.capture?"":"?:";return te?`(${J}${A.join("|")})`:A.join("|")}return p(A,k,$)},"toRegex"),V=a((...A)=>new RangeError("Invalid range arguments: "+v.inspect(...A)),"rangeError"),j=a((A,k,$)=>{if($.strictRanges===!0)throw V([A,k]);return[]},"invalidRange"),le=a((A,k)=>{if(k.strictRanges===!0)throw new TypeError(`Expected step "${A}" to be a number`);return[]},"invalidStep"),L=a((A,k,$=1,te={})=>{let J=Number(A),ne=Number(k);if(!Number.isInteger(J)||!Number.isInteger(ne)){if(te.strictRanges===!0)throw V([A,k]);return[]}J===0&&(J=0),ne===0&&(ne=0);let ce=J>ne,be=String(A),ie=String(k),_e=String($);$=Math.max(Math.abs($),1);let z=d(be)||d(ie)||d(_e),Ve=z?Math.max(be.length,ie.length,_e.length):0,Se=z===!1&&b(A,k,te)===!1,de=te.transform||w(Se);if(te.toRegex&&$===1)return U(_(A,Ve),_(k,Ve),!0,te);let Z={negatives:[],positives:[]},se=a(re=>Z[re<0?"negatives":"positives"].push(Math.abs(re)),"push"),Te=[],Oe=0;for(;ce?J>=ne:J<=ne;)te.toRegex===!0&&$>1?se(J):Te.push(x(de(J,Oe),Ve,Se)),J=ce?J-$:J+$,Oe++;return te.toRegex===!0?$>1?S(Z,te):I(Te,null,{wrap:!1,...te}):Te},"fillNumbers"),H=a((A,k,$=1,te={})=>{if(!T(A)&&A.length>1||!T(k)&&k.length>1)return j(A,k,te);let J=te.transform||(Se=>String.fromCharCode(Se)),ne=`${A}`.charCodeAt(0),ce=`${k}`.charCodeAt(0),be=ne>ce,ie=Math.min(ne,ce),_e=Math.max(ne,ce);if(te.toRegex&&$===1)return U(ie,_e,!1,te);let z=[],Ve=0;for(;be?ne>=ce:ne<=ce;)z.push(J(ne,Ve)),ne=be?ne-$:ne+$,Ve++;return te.toRegex===!0?I(z,null,{wrap:!1,options:te}):z},"fillLetters"),B=a((A,k,$,te={})=>{if(k==null&&R(A))return[A];if(!R(A)||!R(k))return j(A,k,te);if(typeof $=="function")return B(A,k,1,{transform:$});if(y($))return B(A,k,0,$);let J={...te};return J.capture===!0&&(J.wrap=!0),$=$||J.step||1,T($)?T(A)&&T(k)?L(A,k,$,J):H(A,k,Math.max(Math.abs($),1),J):$!=null&&!y($)?le($,J):B(A,k,1,$)},"fill");fe.exports=B},3338:fe=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */fe.exports=function(c){return typeof c=="number"?c-c==0:typeof c=="string"&&c.trim()!==""?Number.isFinite?Number.isFinite(+c):isFinite(+c):!1}},5179:(fe,c,E)=>{fe=E.nmd(fe);var v=200,p="__lodash_hash_undefined__",y=1,w=2,R=9007199254740991,T="[object Arguments]",d="[object Array]",b="[object AsyncFunction]",x="[object Boolean]",_="[object Date]",S="[object Error]",U="[object Function]",I="[object GeneratorFunction]",V="[object Map]",j="[object Number]",le="[object Null]",L="[object Object]",H="[object Promise]",B="[object Proxy]",A="[object RegExp]",k="[object Set]",$="[object String]",te="[object Symbol]",J="[object Undefined]",ne="[object WeakMap]",ce="[object ArrayBuffer]",be="[object DataView]",ie="[object Float32Array]",_e="[object Float64Array]",z="[object Int8Array]",Ve="[object Int16Array]",Se="[object Int32Array]",de="[object Uint8Array]",Z="[object Uint8ClampedArray]",se="[object Uint16Array]",Te="[object Uint32Array]",Oe=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,Ge=/^(?:0|[1-9]\d*)$/,Xe={};Xe[ie]=Xe[_e]=Xe[z]=Xe[Ve]=Xe[Se]=Xe[de]=Xe[Z]=Xe[se]=Xe[Te]=!0,Xe[T]=Xe[d]=Xe[ce]=Xe[x]=Xe[be]=Xe[_]=Xe[S]=Xe[U]=Xe[V]=Xe[j]=Xe[L]=Xe[A]=Xe[k]=Xe[$]=Xe[ne]=!1;var st=typeof E.g=="object"&&E.g&&E.g.Object===Object&&E.g,G=typeof self=="object"&&self&&self.Object===Object&&self,ee=st||G||Function("return this")(),ae=c&&!c.nodeType&&c,we=ae&&!0&&fe&&!fe.nodeType&&fe,Me=we&&we.exports===ae,Be=Me&&st.process,pe=function(){try{return Be&&Be.binding&&Be.binding("util")}catch(K){}}(),De=pe&&pe.isTypedArray;function ke(K,ue){for(var Ee=-1,gt=K==null?0:K.length,Mt=0,Ht=[];++Ee<gt;){var pn=K[Ee];ue(pn,Ee,K)&&(Ht[Mt++]=pn)}return Ht}a(ke,"arrayFilter");function Ze(K,ue){for(var Ee=-1,gt=ue.length,Mt=K.length;++Ee<gt;)K[Mt+Ee]=ue[Ee];return K}a(Ze,"arrayPush");function Ne(K,ue){for(var Ee=-1,gt=K==null?0:K.length;++Ee<gt;)if(ue(K[Ee],Ee,K))return!0;return!1}a(Ne,"arraySome");function He(K,ue){for(var Ee=-1,gt=Array(K);++Ee<K;)gt[Ee]=ue(Ee);return gt}a(He,"baseTimes");function et(K){return function(ue){return K(ue)}}a(et,"baseUnary");function lt(K,ue){return K.has(ue)}a(lt,"cacheHas");function Ie(K,ue){return K==null?void 0:K[ue]}a(Ie,"getValue");function Q(K){var ue=-1,Ee=Array(K.size);return K.forEach(function(gt,Mt){Ee[++ue]=[Mt,gt]}),Ee}a(Q,"mapToArray");function X(K,ue){return function(Ee){return K(ue(Ee))}}a(X,"overArg");function tt(K){var ue=-1,Ee=Array(K.size);return K.forEach(function(gt){Ee[++ue]=gt}),Ee}a(tt,"setToArray");var Kt=Array.prototype,wn=Function.prototype,yn=Object.prototype,O=ee["__core-js_shared__"],g=wn.toString,m=yn.hasOwnProperty,q=function(){var K=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}(),ve=yn.toString,Fe=RegExp("^"+g.call(m).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=Me?ee.Buffer:void 0,pt=ee.Symbol,At=ee.Uint8Array,Ft=yn.propertyIsEnumerable,Nt=Kt.splice,Vt=pt?pt.toStringTag:void 0,zn=Object.getOwnPropertySymbols,ar=me?me.isBuffer:void 0,mr=X(Object.keys,Object),fr=Gr(ee,"DataView"),er=Gr(ee,"Map"),dr=Gr(ee,"Promise"),$r=Gr(ee,"Set"),Pr=Gr(ee,"WeakMap"),Cn=Gr(Object,"create"),qn=Lt(fr),br=Lt(er),Sr=Lt(dr),hi=Lt($r),Jr=Lt(Pr),or=pt?pt.prototype:void 0,W=or?or.valueOf:void 0;function ye(K){var ue=-1,Ee=K==null?0:K.length;for(this.clear();++ue<Ee;){var gt=K[ue];this.set(gt[0],gt[1])}}a(ye,"Hash");function Pe(){this.__data__=Cn?Cn(null):{},this.size=0}a(Pe,"hashClear");function ze(K){var ue=this.has(K)&&delete this.__data__[K];return this.size-=ue?1:0,ue}a(ze,"hashDelete");function ot(K){var ue=this.__data__;if(Cn){var Ee=ue[K];return Ee===p?void 0:Ee}return m.call(ue,K)?ue[K]:void 0}a(ot,"hashGet");function nt(K){var ue=this.__data__;return Cn?ue[K]!==void 0:m.call(ue,K)}a(nt,"hashHas");function wt(K,ue){var Ee=this.__data__;return this.size+=this.has(K)?0:1,Ee[K]=Cn&&ue===void 0?p:ue,this}a(wt,"hashSet"),ye.prototype.clear=Pe,ye.prototype.delete=ze,ye.prototype.get=ot,ye.prototype.has=nt,ye.prototype.set=wt;function Rt(K){var ue=-1,Ee=K==null?0:K.length;for(this.clear();++ue<Ee;){var gt=K[ue];this.set(gt[0],gt[1])}}a(Rt,"ListCache");function Ut(){this.__data__=[],this.size=0}a(Ut,"listCacheClear");function un(K){var ue=this.__data__,Ee=nr(ue,K);if(Ee<0)return!1;var gt=ue.length-1;return Ee==gt?ue.pop():Nt.call(ue,Ee,1),--this.size,!0}a(un,"listCacheDelete");function St(K){var ue=this.__data__,Ee=nr(ue,K);return Ee<0?void 0:ue[Ee][1]}a(St,"listCacheGet");function qt(K){return nr(this.__data__,K)>-1}a(qt,"listCacheHas");function Zt(K,ue){var Ee=this.__data__,gt=nr(Ee,K);return gt<0?(++this.size,Ee.push([K,ue])):Ee[gt][1]=ue,this}a(Zt,"listCacheSet"),Rt.prototype.clear=Ut,Rt.prototype.delete=un,Rt.prototype.get=St,Rt.prototype.has=qt,Rt.prototype.set=Zt;function Qt(K){var ue=-1,Ee=K==null?0:K.length;for(this.clear();++ue<Ee;){var gt=K[ue];this.set(gt[0],gt[1])}}a(Qt,"MapCache");function kt(){this.size=0,this.__data__={hash:new ye,map:new(er||Rt),string:new ye}}a(kt,"mapCacheClear");function In(K){var ue=ei(this,K).delete(K);return this.size-=ue?1:0,ue}a(In,"mapCacheDelete");function En(K){return ei(this,K).get(K)}a(En,"mapCacheGet");function hr(K){return ei(this,K).has(K)}a(hr,"mapCacheHas");function tr(K,ue){var Ee=ei(this,K),gt=Ee.size;return Ee.set(K,ue),this.size+=Ee.size==gt?0:1,this}a(tr,"mapCacheSet"),Qt.prototype.clear=kt,Qt.prototype.delete=In,Qt.prototype.get=En,Qt.prototype.has=hr,Qt.prototype.set=tr;function lr(K){var ue=-1,Ee=K==null?0:K.length;for(this.__data__=new Qt;++ue<Ee;)this.add(K[ue])}a(lr,"SetCache");function Kr(K){return this.__data__.set(K,p),this}a(Kr,"setCacheAdd");function Hr(K){return this.__data__.has(K)}a(Hr,"setCacheHas"),lr.prototype.add=lr.prototype.push=Kr,lr.prototype.has=Hr;function jn(K){var ue=this.__data__=new Rt(K);this.size=ue.size}a(jn,"Stack");function gi(){this.__data__=new Rt,this.size=0}a(gi,"stackClear");function Xt(K){var ue=this.__data__,Ee=ue.delete(K);return this.size=ue.size,Ee}a(Xt,"stackDelete");function Zn(K){return this.__data__.get(K)}a(Zn,"stackGet");function Rn(K){return this.__data__.has(K)}a(Rn,"stackHas");function bn(K,ue){var Ee=this.__data__;if(Ee instanceof Rt){var gt=Ee.__data__;if(!er||gt.length<v-1)return gt.push([K,ue]),this.size=++Ee.size,this;Ee=this.__data__=new Qt(gt)}return Ee.set(K,ue),this.size=Ee.size,this}a(bn,"stackSet"),jn.prototype.clear=gi,jn.prototype.delete=Xt,jn.prototype.get=Zn,jn.prototype.has=Rn,jn.prototype.set=bn;function Mn(K,ue){var Ee=on(K),gt=!Ee&&xt(K),Mt=!Ee&&!gt&&hn(K),Ht=!Ee&&!gt&&!Mt&&rn(K),pn=Ee||gt||Mt||Ht,cn=pn?He(K.length,String):[],sn=cn.length;for(var gn in K)(ue||m.call(K,gn))&&!(pn&&(gn=="length"||Mt&&(gn=="offset"||gn=="parent")||Ht&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||da(gn,sn)))&&cn.push(gn);return cn}a(Mn,"arrayLikeKeys");function nr(K,ue){for(var Ee=K.length;Ee--;)if(tn(K[Ee][0],ue))return Ee;return-1}a(nr,"assocIndexOf");function Fr(K,ue,Ee){var gt=ue(K);return on(K)?gt:Ze(gt,Ee(K))}a(Fr,"baseGetAllKeys");function qr(K){return K==null?K===void 0?J:le:Vt&&Vt in Object(K)?Qi(K):dt(K)}a(qr,"baseGetTag");function Ci(K){return Bn(K)&&qr(K)==T}a(Ci,"baseIsArguments");function Ti(K,ue,Ee,gt,Mt){return K===ue?!0:K==null||ue==null||!Bn(K)&&!Bn(ue)?K!==K&&ue!==ue:Li(K,ue,Ee,gt,Ti,Mt)}a(Ti,"baseIsEqual");function Li(K,ue,Ee,gt,Mt,Ht){var pn=on(K),cn=on(ue),sn=pn?d:oi(K),gn=cn?d:oi(ue);sn=sn==T?L:sn,gn=gn==T?L:gn;var _n=sn==L,Gt=gn==L,Ct=sn==gn;if(Ct&&hn(K)){if(!hn(ue))return!1;pn=!0,_n=!1}if(Ct&&!_n)return Ht||(Ht=new jn),pn||rn(K)?Zi(K,ue,Ee,gt,Mt,Ht):Mi(K,ue,sn,Ee,gt,Mt,Ht);if(!(Ee&y)){var Fn=_n&&m.call(K,"__wrapped__"),Dn=Gt&&m.call(ue,"__wrapped__");if(Fn||Dn){var Un=Fn?K.value():K,Vn=Dn?ue.value():ue;return Ht||(Ht=new jn),Mt(Un,Vn,Ee,gt,Ht)}}return Ct?(Ht||(Ht=new jn),xr(K,ue,Ee,gt,Mt,Ht)):!1}a(Li,"baseIsEqualDeep");function fa(K){if(!Xn(K)||ut(K))return!1;var ue=Qn(K)?Fe:re;return ue.test(Lt(K))}a(fa,"baseIsNative");function qi(K){return Bn(K)&&Kn(K.length)&&!!Xe[qr(K)]}a(qi,"baseIsTypedArray");function ht(K){if(!Et(K))return mr(K);var ue=[];for(var Ee in Object(K))m.call(K,Ee)&&Ee!="constructor"&&ue.push(Ee);return ue}a(ht,"baseKeys");function Zi(K,ue,Ee,gt,Mt,Ht){var pn=Ee&y,cn=K.length,sn=ue.length;if(cn!=sn&&!(pn&&sn>cn))return!1;var gn=Ht.get(K);if(gn&&Ht.get(ue))return gn==ue;var _n=-1,Gt=!0,Ct=Ee&w?new lr:void 0;for(Ht.set(K,ue),Ht.set(ue,K);++_n<cn;){var Fn=K[_n],Dn=ue[_n];if(gt)var Un=pn?gt(Dn,Fn,_n,ue,K,Ht):gt(Fn,Dn,_n,K,ue,Ht);if(Un!==void 0){if(Un)continue;Gt=!1;break}if(Ct){if(!Ne(ue,function(Vn,en){if(!lt(Ct,en)&&(Fn===Vn||Mt(Fn,Vn,Ee,gt,Ht)))return Ct.push(en)})){Gt=!1;break}}else if(!(Fn===Dn||Mt(Fn,Dn,Ee,gt,Ht))){Gt=!1;break}}return Ht.delete(K),Ht.delete(ue),Gt}a(Zi,"equalArrays");function Mi(K,ue,Ee,gt,Mt,Ht,pn){switch(Ee){case be:if(K.byteLength!=ue.byteLength||K.byteOffset!=ue.byteOffset)return!1;K=K.buffer,ue=ue.buffer;case ce:return!(K.byteLength!=ue.byteLength||!Ht(new At(K),new At(ue)));case x:case _:case j:return tn(+K,+ue);case S:return K.name==ue.name&&K.message==ue.message;case A:case $:return K==ue+"";case V:var cn=Q;case k:var sn=gt&y;if(cn||(cn=tt),K.size!=ue.size&&!sn)return!1;var gn=pn.get(K);if(gn)return gn==ue;gt|=w,pn.set(K,ue);var _n=Zi(cn(K),cn(ue),gt,Mt,Ht,pn);return pn.delete(K),_n;case te:if(W)return W.call(K)==W.call(ue)}return!1}a(Mi,"equalByTag");function xr(K,ue,Ee,gt,Mt,Ht){var pn=Ee&y,cn=Nr(K),sn=cn.length,gn=Nr(ue),_n=gn.length;if(sn!=_n&&!pn)return!1;for(var Gt=sn;Gt--;){var Ct=cn[Gt];if(!(pn?Ct in ue:m.call(ue,Ct)))return!1}var Fn=Ht.get(K);if(Fn&&Ht.get(ue))return Fn==ue;var Dn=!0;Ht.set(K,ue),Ht.set(ue,K);for(var Un=pn;++Gt<sn;){Ct=cn[Gt];var Vn=K[Ct],en=ue[Ct];if(gt)var kr=pn?gt(en,Vn,Ct,ue,K,Ht):gt(Vn,en,Ct,K,ue,Ht);if(!(kr===void 0?Vn===en||Mt(Vn,en,Ee,gt,Ht):kr)){Dn=!1;break}Un||(Un=Ct=="constructor")}if(Dn&&!Un){var _r=K.constructor,On=ue.constructor;_r!=On&&"constructor"in K&&"constructor"in ue&&!(typeof _r=="function"&&_r instanceof _r&&typeof On=="function"&&On instanceof On)&&(Dn=!1)}return Ht.delete(K),Ht.delete(ue),Dn}a(xr,"equalObjects");function Nr(K){return Fr(K,Jt,pi)}a(Nr,"getAllKeys");function ei(K,ue){var Ee=K.__data__;return We(ue)?Ee[typeof ue=="string"?"string":"hash"]:Ee.map}a(ei,"getMapData");function Gr(K,ue){var Ee=Ie(K,ue);return fa(Ee)?Ee:void 0}a(Gr,"getNative");function Qi(K){var ue=m.call(K,Vt),Ee=K[Vt];try{K[Vt]=void 0;var gt=!0}catch(Ht){}var Mt=ve.call(K);return gt&&(ue?K[Vt]=Ee:delete K[Vt]),Mt}a(Qi,"getRawTag");var pi=zn?function(K){return K==null?[]:(K=Object(K),ke(zn(K),function(ue){return Ft.call(K,ue)}))}:vn,oi=qr;(fr&&oi(new fr(new ArrayBuffer(1)))!=be||er&&oi(new er)!=V||dr&&oi(dr.resolve())!=H||$r&&oi(new $r)!=k||Pr&&oi(new Pr)!=ne)&&(oi=a(function(K){var ue=qr(K),Ee=ue==L?K.constructor:void 0,gt=Ee?Lt(Ee):"";if(gt)switch(gt){case qn:return be;case br:return V;case Sr:return H;case hi:return k;case Jr:return ne}return ue},"getTag"));function da(K,ue){return ue=ue==null?R:ue,!!ue&&(typeof K=="number"||Ge.test(K))&&K>-1&&K%1==0&&K<ue}a(da,"isIndex");function We(K){var ue=typeof K;return ue=="string"||ue=="number"||ue=="symbol"||ue=="boolean"?K!=="__proto__":K===null}a(We,"isKeyable");function ut(K){return!!q&&q in K}a(ut,"isMasked");function Et(K){var ue=K&&K.constructor,Ee=typeof ue=="function"&&ue.prototype||yn;return K===Ee}a(Et,"isPrototype");function dt(K){return ve.call(K)}a(dt,"objectToString");function Lt(K){if(K!=null){try{return g.call(K)}catch(ue){}try{return K+""}catch(ue){}}return""}a(Lt,"toSource");function tn(K,ue){return K===ue||K!==K&&ue!==ue}a(tn,"eq");var xt=Ci(function(){return arguments}())?Ci:function(K){return Bn(K)&&m.call(K,"callee")&&!Ft.call(K,"callee")},on=Array.isArray;function Yt(K){return K!=null&&Kn(K.length)&&!Qn(K)}a(Yt,"isArrayLike");var hn=ar||mn;function Tn(K,ue){return Ti(K,ue)}a(Tn,"isEqual");function Qn(K){if(!Xn(K))return!1;var ue=qr(K);return ue==U||ue==I||ue==b||ue==B}a(Qn,"isFunction");function Kn(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=R}a(Kn,"isLength");function Xn(K){var ue=typeof K;return K!=null&&(ue=="object"||ue=="function")}a(Xn,"isObject");function Bn(K){return K!=null&&typeof K=="object"}a(Bn,"isObjectLike");var rn=De?et(De):qi;function Jt(K){return Yt(K)?Mn(K):ht(K)}a(Jt,"keys");function vn(){return[]}a(vn,"stubArray");function mn(){return!1}a(mn,"stubFalse"),fe.exports=Tn},919:(fe,c,E)=>{"use strict";const v=E(6391),p=E(6232),y=E(6796),w=E(292),R=a(d=>d===""||d==="./","isEmptyString"),T=a((d,b,x)=>{b=[].concat(b),d=[].concat(d);let _=new Set,S=new Set,U=new Set,I=0,V=a(L=>{U.add(L.output),x&&x.onResult&&x.onResult(L)},"onResult");for(let L=0;L<b.length;L++){let H=y(String(b[L]),{...x,onResult:V},!0),B=H.state.negated||H.state.negatedExtglob;B&&I++;for(let A of d){let k=H(A,!0);!(B?!k.isMatch:k.isMatch)||(B?_.add(k.output):(_.delete(k.output),S.add(k.output)))}}let le=(I===b.length?[...U]:[...S]).filter(L=>!_.has(L));if(x&&le.length===0){if(x.failglob===!0)throw new Error(`No matches found for "${b.join(", ")}"`);if(x.nonull===!0||x.nullglob===!0)return x.unescape?b.map(L=>L.replace(/\\/g,"")):b}return le},"micromatch");T.match=T,T.matcher=(d,b)=>y(d,b),T.isMatch=(d,b,x)=>y(b,x)(d),T.any=T.isMatch,T.not=(d,b,x={})=>{b=[].concat(b).map(String);let _=new Set,S=[],U=a(V=>{x.onResult&&x.onResult(V),S.push(V.output)},"onResult"),I=new Set(T(d,b,{...x,onResult:U}));for(let V of S)I.has(V)||_.add(V);return[..._]},T.contains=(d,b,x)=>{if(typeof d!="string")throw new TypeError(`Expected a string: "${v.inspect(d)}"`);if(Array.isArray(b))return b.some(_=>T.contains(d,_,x));if(typeof b=="string"){if(R(d)||R(b))return!1;if(d.includes(b)||d.startsWith("./")&&d.slice(2).includes(b))return!0}return T.isMatch(d,b,{...x,contains:!0})},T.matchKeys=(d,b,x)=>{if(!w.isObject(d))throw new TypeError("Expected the first argument to be an object");let _=T(Object.keys(d),b,x),S={};for(let U of _)S[U]=d[U];return S},T.some=(d,b,x)=>{let _=[].concat(d);for(let S of[].concat(b)){let U=y(String(S),x);if(_.some(I=>U(I)))return!0}return!1},T.every=(d,b,x)=>{let _=[].concat(d);for(let S of[].concat(b)){let U=y(String(S),x);if(!_.every(I=>U(I)))return!1}return!0},T.all=(d,b,x)=>{if(typeof d!="string")throw new TypeError(`Expected a string: "${v.inspect(d)}"`);return[].concat(b).every(_=>y(_,x)(d))},T.capture=(d,b,x)=>{let _=w.isWindows(x),U=y.makeRe(String(d),{...x,capture:!0}).exec(_?w.toPosixSlashes(b):b);if(U)return U.slice(1).map(I=>I===void 0?"":I)},T.makeRe=(...d)=>y.makeRe(...d),T.scan=(...d)=>y.scan(...d),T.parse=(d,b)=>{let x=[];for(let _ of[].concat(d||[]))for(let S of p(String(_),b))x.push(y.parse(S,b));return x},T.braces=(d,b)=>{if(typeof d!="string")throw new TypeError("Expected a string");return b&&b.nobrace===!0||!/\{.*\}/.test(d)?[d]:p(d,b)},T.braceExpand=(d,b)=>{if(typeof d!="string")throw new TypeError("Expected a string");return T.braces(d,{...b,expand:!0})},fe.exports=T},6796:(fe,c,E)=>{"use strict";fe.exports=E(5761)},3889:(fe,c,E)=>{"use strict";const v=E(6470),p="\\\\/",y=`[^${p}]`,w="\\.",R="\\+",T="\\?",d="\\/",b="(?=.)",x="[^/]",_=`(?:${d}|$)`,S=`(?:^|${d})`,U=`${w}{1,2}${_}`,I=`(?!${w})`,V=`(?!${S}${U})`,j=`(?!${w}{0,1}${_})`,le=`(?!${U})`,L=`[^.${d}]`,H=`${x}*?`,B={DOT_LITERAL:w,PLUS_LITERAL:R,QMARK_LITERAL:T,SLASH_LITERAL:d,ONE_CHAR:b,QMARK:x,END_ANCHOR:_,DOTS_SLASH:U,NO_DOT:I,NO_DOTS:V,NO_DOT_SLASH:j,NO_DOTS_SLASH:le,QMARK_NO_DOT:L,STAR:H,START_ANCHOR:S},A={...B,SLASH_LITERAL:`[${p}]`,QMARK:y,STAR:`${y}*?`,DOTS_SLASH:`${w}{1,2}(?:[${p}]|$)`,NO_DOT:`(?!${w})`,NO_DOTS:`(?!(?:^|[${p}])${w}{1,2}(?:[${p}]|$))`,NO_DOT_SLASH:`(?!${w}{0,1}(?:[${p}]|$))`,NO_DOTS_SLASH:`(?!${w}{1,2}(?:[${p}]|$))`,QMARK_NO_DOT:`[^.${p}]`,START_ANCHOR:`(?:^|[${p}])`,END_ANCHOR:`(?:[${p}]|$)`},k={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};fe.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:k,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:v.sep,extglobChars($){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${$.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars($){return $===!0?A:B}}},3969:(fe,c,E)=>{"use strict";const v=E(3889),p=E(292),{MAX_LENGTH:y,POSIX_REGEX_SOURCE:w,REGEX_NON_SPECIAL_CHARS:R,REGEX_SPECIAL_CHARS_BACKREF:T,REPLACEMENTS:d}=v,b=a((S,U)=>{if(typeof U.expandRange=="function")return U.expandRange(...S,U);S.sort();const I=`[${S.join("-")}]`;try{new RegExp(I)}catch(V){return S.map(j=>p.escapeRegex(j)).join("..")}return I},"expandRange"),x=a((S,U)=>`Missing ${S}: "${U}" - use "\\\\${U}" to match literal characters`,"syntaxError"),_=a((S,U)=>{if(typeof S!="string")throw new TypeError("Expected a string");S=d[S]||S;const I={...U},V=typeof I.maxLength=="number"?Math.min(y,I.maxLength):y;let j=S.length;if(j>V)throw new SyntaxError(`Input length: ${j}, exceeds maximum allowed length: ${V}`);const le={type:"bos",value:"",output:I.prepend||""},L=[le],H=I.capture?"":"?:",B=p.isWindows(U),A=v.globChars(B),k=v.extglobChars(A),{DOT_LITERAL:$,PLUS_LITERAL:te,SLASH_LITERAL:J,ONE_CHAR:ne,DOTS_SLASH:ce,NO_DOT:be,NO_DOT_SLASH:ie,NO_DOTS_SLASH:_e,QMARK:z,QMARK_NO_DOT:Ve,STAR:Se,START_ANCHOR:de}=A,Z=a(Ie=>`(${H}(?:(?!${de}${Ie.dot?ce:$}).)*?)`,"globstar"),se=I.dot?"":be,Te=I.dot?z:Ve;let Oe=I.bash===!0?Z(I):Se;I.capture&&(Oe=`(${Oe})`),typeof I.noext=="boolean"&&(I.noextglob=I.noext);const re={input:S,index:-1,start:0,dot:I.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:L};S=p.removePrefix(S,re),j=S.length;const Ge=[],Xe=[],st=[];let G=le,ee;const ae=a(()=>re.index===j-1,"eos"),we=re.peek=(Ie=1)=>S[re.index+Ie],Me=re.advance=()=>S[++re.index]||"",Be=a(()=>S.slice(re.index+1),"remaining"),pe=a((Ie="",Q=0)=>{re.consumed+=Ie,re.index+=Q},"consume"),De=a(Ie=>{re.output+=Ie.output!=null?Ie.output:Ie.value,pe(Ie.value)},"append"),ke=a(()=>{let Ie=1;for(;we()==="!"&&(we(2)!=="("||we(3)==="?");)Me(),re.start++,Ie++;return Ie%2==0?!1:(re.negated=!0,re.start++,!0)},"negate"),Ze=a(Ie=>{re[Ie]++,st.push(Ie)},"increment"),Ne=a(Ie=>{re[Ie]--,st.pop()},"decrement"),He=a(Ie=>{if(G.type==="globstar"){const Q=re.braces>0&&(Ie.type==="comma"||Ie.type==="brace"),X=Ie.extglob===!0||Ge.length&&(Ie.type==="pipe"||Ie.type==="paren");Ie.type!=="slash"&&Ie.type!=="paren"&&!Q&&!X&&(re.output=re.output.slice(0,-G.output.length),G.type="star",G.value="*",G.output=Oe,re.output+=G.output)}if(Ge.length&&Ie.type!=="paren"&&(Ge[Ge.length-1].inner+=Ie.value),(Ie.value||Ie.output)&&De(Ie),G&&G.type==="text"&&Ie.type==="text"){G.value+=Ie.value,G.output=(G.output||"")+Ie.value;return}Ie.prev=G,L.push(Ie),G=Ie},"push"),et=a((Ie,Q)=>{const X={...k[Q],conditions:1,inner:""};X.prev=G,X.parens=re.parens,X.output=re.output;const tt=(I.capture?"(":"")+X.open;Ze("parens"),He({type:Ie,value:Q,output:re.output?"":ne}),He({type:"paren",extglob:!0,value:Me(),output:tt}),Ge.push(X)},"extglobOpen"),lt=a(Ie=>{let Q=Ie.close+(I.capture?")":""),X;if(Ie.type==="negate"){let tt=Oe;if(Ie.inner&&Ie.inner.length>1&&Ie.inner.includes("/")&&(tt=Z(I)),(tt!==Oe||ae()||/^\)+$/.test(Be()))&&(Q=Ie.close=`)$))${tt}`),Ie.inner.includes("*")&&(X=Be())&&/^\.[^\\/.]+$/.test(X)){const Kt=_(X,{...U,fastpaths:!1}).output;Q=Ie.close=`)${Kt})${tt})`}Ie.prev.type==="bos"&&(re.negatedExtglob=!0)}He({type:"paren",extglob:!0,value:ee,output:Q}),Ne("parens")},"extglobClose");if(I.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(S)){let Ie=!1,Q=S.replace(T,(X,tt,Kt,wn,yn,O)=>wn==="\\"?(Ie=!0,X):wn==="?"?tt?tt+wn+(yn?z.repeat(yn.length):""):O===0?Te+(yn?z.repeat(yn.length):""):z.repeat(Kt.length):wn==="."?$.repeat(Kt.length):wn==="*"?tt?tt+wn+(yn?Oe:""):Oe:tt?X:`\\${X}`);return Ie===!0&&(I.unescape===!0?Q=Q.replace(/\\/g,""):Q=Q.replace(/\\+/g,X=>X.length%2==0?"\\\\":X?"\\":"")),Q===S&&I.contains===!0?(re.output=S,re):(re.output=p.wrapOutput(Q,re,U),re)}for(;!ae();){if(ee=Me(),ee==="\0")continue;if(ee==="\\"){const X=we();if(X==="/"&&I.bash!==!0||X==="."||X===";")continue;if(!X){ee+="\\",He({type:"text",value:ee});continue}const tt=/^\\+/.exec(Be());let Kt=0;if(tt&&tt[0].length>2&&(Kt=tt[0].length,re.index+=Kt,Kt%2!=0&&(ee+="\\")),I.unescape===!0?ee=Me():ee+=Me(),re.brackets===0){He({type:"text",value:ee});continue}}if(re.brackets>0&&(ee!=="]"||G.value==="["||G.value==="[^")){if(I.posix!==!1&&ee===":"){const X=G.value.slice(1);if(X.includes("[")&&(G.posix=!0,X.includes(":"))){const tt=G.value.lastIndexOf("["),Kt=G.value.slice(0,tt),wn=G.value.slice(tt+2),yn=w[wn];if(yn){G.value=Kt+yn,re.backtrack=!0,Me(),!le.output&&L.indexOf(G)===1&&(le.output=ne);continue}}}(ee==="["&&we()!==":"||ee==="-"&&we()==="]")&&(ee=`\\${ee}`),ee==="]"&&(G.value==="["||G.value==="[^")&&(ee=`\\${ee}`),I.posix===!0&&ee==="!"&&G.value==="["&&(ee="^"),G.value+=ee,De({value:ee});continue}if(re.quotes===1&&ee!=='"'){ee=p.escapeRegex(ee),G.value+=ee,De({value:ee});continue}if(ee==='"'){re.quotes=re.quotes===1?0:1,I.keepQuotes===!0&&He({type:"text",value:ee});continue}if(ee==="("){Ze("parens"),He({type:"paren",value:ee});continue}if(ee===")"){if(re.parens===0&&I.strictBrackets===!0)throw new SyntaxError(x("opening","("));const X=Ge[Ge.length-1];if(X&&re.parens===X.parens+1){lt(Ge.pop());continue}He({type:"paren",value:ee,output:re.parens?")":"\\)"}),Ne("parens");continue}if(ee==="["){if(I.nobracket===!0||!Be().includes("]")){if(I.nobracket!==!0&&I.strictBrackets===!0)throw new SyntaxError(x("closing","]"));ee=`\\${ee}`}else Ze("brackets");He({type:"bracket",value:ee});continue}if(ee==="]"){if(I.nobracket===!0||G&&G.type==="bracket"&&G.value.length===1){He({type:"text",value:ee,output:`\\${ee}`});continue}if(re.brackets===0){if(I.strictBrackets===!0)throw new SyntaxError(x("opening","["));He({type:"text",value:ee,output:`\\${ee}`});continue}Ne("brackets");const X=G.value.slice(1);if(G.posix!==!0&&X[0]==="^"&&!X.includes("/")&&(ee=`/${ee}`),G.value+=ee,De({value:ee}),I.literalBrackets===!1||p.hasRegexChars(X))continue;const tt=p.escapeRegex(G.value);if(re.output=re.output.slice(0,-G.value.length),I.literalBrackets===!0){re.output+=tt,G.value=tt;continue}G.value=`(${H}${tt}|${G.value})`,re.output+=G.value;continue}if(ee==="{"&&I.nobrace!==!0){Ze("braces");const X={type:"brace",value:ee,output:"(",outputIndex:re.output.length,tokensIndex:re.tokens.length};Xe.push(X),He(X);continue}if(ee==="}"){const X=Xe[Xe.length-1];if(I.nobrace===!0||!X){He({type:"text",value:ee,output:ee});continue}let tt=")";if(X.dots===!0){const Kt=L.slice(),wn=[];for(let yn=Kt.length-1;yn>=0&&(L.pop(),Kt[yn].type!=="brace");yn--)Kt[yn].type!=="dots"&&wn.unshift(Kt[yn].value);tt=b(wn,I),re.backtrack=!0}if(X.comma!==!0&&X.dots!==!0){const Kt=re.output.slice(0,X.outputIndex),wn=re.tokens.slice(X.tokensIndex);X.value=X.output="\\{",ee=tt="\\}",re.output=Kt;for(const yn of wn)re.output+=yn.output||yn.value}He({type:"brace",value:ee,output:tt}),Ne("braces"),Xe.pop();continue}if(ee==="|"){Ge.length>0&&Ge[Ge.length-1].conditions++,He({type:"text",value:ee});continue}if(ee===","){let X=ee;const tt=Xe[Xe.length-1];tt&&st[st.length-1]==="braces"&&(tt.comma=!0,X="|"),He({type:"comma",value:ee,output:X});continue}if(ee==="/"){if(G.type==="dot"&&re.index===re.start+1){re.start=re.index+1,re.consumed="",re.output="",L.pop(),G=le;continue}He({type:"slash",value:ee,output:J});continue}if(ee==="."){if(re.braces>0&&G.type==="dot"){G.value==="."&&(G.output=$);const X=Xe[Xe.length-1];G.type="dots",G.output+=ee,G.value+=ee,X.dots=!0;continue}if(re.braces+re.parens===0&&G.type!=="bos"&&G.type!=="slash"){He({type:"text",value:ee,output:$});continue}He({type:"dot",value:ee,output:$});continue}if(ee==="?"){if(!(G&&G.value==="(")&&I.noextglob!==!0&&we()==="("&&we(2)!=="?"){et("qmark",ee);continue}if(G&&G.type==="paren"){const tt=we();let Kt=ee;if(tt==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(G.value==="("&&!/[!=<:]/.test(tt)||tt==="<"&&!/<([!=]|\w+>)/.test(Be()))&&(Kt=`\\${ee}`),He({type:"text",value:ee,output:Kt});continue}if(I.dot!==!0&&(G.type==="slash"||G.type==="bos")){He({type:"qmark",value:ee,output:Ve});continue}He({type:"qmark",value:ee,output:z});continue}if(ee==="!"){if(I.noextglob!==!0&&we()==="("&&(we(2)!=="?"||!/[!=<:]/.test(we(3)))){et("negate",ee);continue}if(I.nonegate!==!0&&re.index===0){ke();continue}}if(ee==="+"){if(I.noextglob!==!0&&we()==="("&&we(2)!=="?"){et("plus",ee);continue}if(G&&G.value==="("||I.regex===!1){He({type:"plus",value:ee,output:te});continue}if(G&&(G.type==="bracket"||G.type==="paren"||G.type==="brace")||re.parens>0){He({type:"plus",value:ee});continue}He({type:"plus",value:te});continue}if(ee==="@"){if(I.noextglob!==!0&&we()==="("&&we(2)!=="?"){He({type:"at",extglob:!0,value:ee,output:""});continue}He({type:"text",value:ee});continue}if(ee!=="*"){(ee==="$"||ee==="^")&&(ee=`\\${ee}`);const X=R.exec(Be());X&&(ee+=X[0],re.index+=X[0].length),He({type:"text",value:ee});continue}if(G&&(G.type==="globstar"||G.star===!0)){G.type="star",G.star=!0,G.value+=ee,G.output=Oe,re.backtrack=!0,re.globstar=!0,pe(ee);continue}let Ie=Be();if(I.noextglob!==!0&&/^\([^?]/.test(Ie)){et("star",ee);continue}if(G.type==="star"){if(I.noglobstar===!0){pe(ee);continue}const X=G.prev,tt=X.prev,Kt=X.type==="slash"||X.type==="bos",wn=tt&&(tt.type==="star"||tt.type==="globstar");if(I.bash===!0&&(!Kt||Ie[0]&&Ie[0]!=="/")){He({type:"star",value:ee,output:""});continue}const yn=re.braces>0&&(X.type==="comma"||X.type==="brace"),O=Ge.length&&(X.type==="pipe"||X.type==="paren");if(!Kt&&X.type!=="paren"&&!yn&&!O){He({type:"star",value:ee,output:""});continue}for(;Ie.slice(0,3)==="/**";){const g=S[re.index+4];if(g&&g!=="/")break;Ie=Ie.slice(3),pe("/**",3)}if(X.type==="bos"&&ae()){G.type="globstar",G.value+=ee,G.output=Z(I),re.output=G.output,re.globstar=!0,pe(ee);continue}if(X.type==="slash"&&X.prev.type!=="bos"&&!wn&&ae()){re.output=re.output.slice(0,-(X.output+G.output).length),X.output=`(?:${X.output}`,G.type="globstar",G.output=Z(I)+(I.strictSlashes?")":"|$)"),G.value+=ee,re.globstar=!0,re.output+=X.output+G.output,pe(ee);continue}if(X.type==="slash"&&X.prev.type!=="bos"&&Ie[0]==="/"){const g=Ie[1]!==void 0?"|$":"";re.output=re.output.slice(0,-(X.output+G.output).length),X.output=`(?:${X.output}`,G.type="globstar",G.output=`${Z(I)}${J}|${J}${g})`,G.value+=ee,re.output+=X.output+G.output,re.globstar=!0,pe(ee+Me()),He({type:"slash",value:"/",output:""});continue}if(X.type==="bos"&&Ie[0]==="/"){G.type="globstar",G.value+=ee,G.output=`(?:^|${J}|${Z(I)}${J})`,re.output=G.output,re.globstar=!0,pe(ee+Me()),He({type:"slash",value:"/",output:""});continue}re.output=re.output.slice(0,-G.output.length),G.type="globstar",G.output=Z(I),G.value+=ee,re.output+=G.output,re.globstar=!0,pe(ee);continue}const Q={type:"star",value:ee,output:Oe};if(I.bash===!0){Q.output=".*?",(G.type==="bos"||G.type==="slash")&&(Q.output=se+Q.output),He(Q);continue}if(G&&(G.type==="bracket"||G.type==="paren")&&I.regex===!0){Q.output=ee,He(Q);continue}(re.index===re.start||G.type==="slash"||G.type==="dot")&&(G.type==="dot"?(re.output+=ie,G.output+=ie):I.dot===!0?(re.output+=_e,G.output+=_e):(re.output+=se,G.output+=se),we()!=="*"&&(re.output+=ne,G.output+=ne)),He(Q)}for(;re.brackets>0;){if(I.strictBrackets===!0)throw new SyntaxError(x("closing","]"));re.output=p.escapeLast(re.output,"["),Ne("brackets")}for(;re.parens>0;){if(I.strictBrackets===!0)throw new SyntaxError(x("closing",")"));re.output=p.escapeLast(re.output,"("),Ne("parens")}for(;re.braces>0;){if(I.strictBrackets===!0)throw new SyntaxError(x("closing","}"));re.output=p.escapeLast(re.output,"{"),Ne("braces")}if(I.strictSlashes!==!0&&(G.type==="star"||G.type==="bracket")&&He({type:"maybe_slash",value:"",output:`${J}?`}),re.backtrack===!0){re.output="";for(const Ie of re.tokens)re.output+=Ie.output!=null?Ie.output:Ie.value,Ie.suffix&&(re.output+=Ie.suffix)}return re},"parse");_.fastpaths=(S,U)=>{const I={...U},V=typeof I.maxLength=="number"?Math.min(y,I.maxLength):y,j=S.length;if(j>V)throw new SyntaxError(`Input length: ${j}, exceeds maximum allowed length: ${V}`);S=d[S]||S;const le=p.isWindows(U),{DOT_LITERAL:L,SLASH_LITERAL:H,ONE_CHAR:B,DOTS_SLASH:A,NO_DOT:k,NO_DOTS:$,NO_DOTS_SLASH:te,STAR:J,START_ANCHOR:ne}=v.globChars(le),ce=I.dot?$:k,be=I.dot?te:k,ie=I.capture?"":"?:",_e={negated:!1,prefix:""};let z=I.bash===!0?".*?":J;I.capture&&(z=`(${z})`);const Ve=a(se=>se.noglobstar===!0?z:`(${ie}(?:(?!${ne}${se.dot?A:L}).)*?)`,"globstar"),Se=a(se=>{switch(se){case"*":return`${ce}${B}${z}`;case".*":return`${L}${B}${z}`;case"*.*":return`${ce}${z}${L}${B}${z}`;case"*/*":return`${ce}${z}${H}${B}${be}${z}`;case"**":return ce+Ve(I);case"**/*":return`(?:${ce}${Ve(I)}${H})?${be}${B}${z}`;case"**/*.*":return`(?:${ce}${Ve(I)}${H})?${be}${z}${L}${B}${z}`;case"**/.*":return`(?:${ce}${Ve(I)}${H})?${L}${B}${z}`;default:{const Te=/^(.*?)\.(\w+)$/.exec(se);if(!Te)return;const Oe=Se(Te[1]);return Oe?Oe+L+Te[2]:void 0}}},"create"),de=p.removePrefix(S,_e);let Z=Se(de);return Z&&I.strictSlashes!==!0&&(Z+=`${H}?`),Z},fe.exports=_},5761:(fe,c,E)=>{"use strict";const v=E(6470),p=E(9826),y=E(3969),w=E(292),R=E(3889),T=a(b=>b&&typeof b=="object"&&!Array.isArray(b),"isObject"),d=a((b,x,_=!1)=>{if(Array.isArray(b)){const H=b.map(A=>d(A,x,_));return a(A=>{for(const k of H){const $=k(A);if($)return $}return!1},"arrayMatcher")}const S=T(b)&&b.tokens&&b.input;if(b===""||typeof b!="string"&&!S)throw new TypeError("Expected pattern to be a non-empty string");const U=x||{},I=w.isWindows(x),V=S?d.compileRe(b,x):d.makeRe(b,x,!1,!0),j=V.state;delete V.state;let le=a(()=>!1,"isIgnored");if(U.ignore){const H={...x,ignore:null,onMatch:null,onResult:null};le=d(U.ignore,H,_)}const L=a((H,B=!1)=>{const{isMatch:A,match:k,output:$}=d.test(H,V,x,{glob:b,posix:I}),te={glob:b,state:j,regex:V,posix:I,input:H,output:$,match:k,isMatch:A};return typeof U.onResult=="function"&&U.onResult(te),A===!1?(te.isMatch=!1,B?te:!1):le(H)?(typeof U.onIgnore=="function"&&U.onIgnore(te),te.isMatch=!1,B?te:!1):(typeof U.onMatch=="function"&&U.onMatch(te),B?te:!0)},"matcher");return _&&(L.state=j),L},"picomatch");d.test=(b,x,_,{glob:S,posix:U}={})=>{if(typeof b!="string")throw new TypeError("Expected input to be a string");if(b==="")return{isMatch:!1,output:""};const I=_||{},V=I.format||(U?w.toPosixSlashes:null);let j=b===S,le=j&&V?V(b):b;return j===!1&&(le=V?V(b):b,j=le===S),(j===!1||I.capture===!0)&&(I.matchBase===!0||I.basename===!0?j=d.matchBase(b,x,_,U):j=x.exec(le)),{isMatch:Boolean(j),match:j,output:le}},d.matchBase=(b,x,_,S=w.isWindows(_))=>(x instanceof RegExp?x:d.makeRe(x,_)).test(v.basename(b)),d.isMatch=(b,x,_)=>d(x,_)(b),d.parse=(b,x)=>Array.isArray(b)?b.map(_=>d.parse(_,x)):y(b,{...x,fastpaths:!1}),d.scan=(b,x)=>p(b,x),d.compileRe=(b,x,_=!1,S=!1)=>{if(_===!0)return b.output;const U=x||{},I=U.contains?"":"^",V=U.contains?"":"$";let j=`${I}(?:${b.output})${V}`;b&&b.negated===!0&&(j=`^(?!${j}).*$`);const le=d.toRegex(j,x);return S===!0&&(le.state=b),le},d.makeRe=(b,x={},_=!1,S=!1)=>{if(!b||typeof b!="string")throw new TypeError("Expected a non-empty string");let U={negated:!1,fastpaths:!0};return x.fastpaths!==!1&&(b[0]==="."||b[0]==="*")&&(U.output=y.fastpaths(b,x)),U.output||(U=y(b,x)),d.compileRe(U,x,_,S)},d.toRegex=(b,x)=>{try{const _=x||{};return new RegExp(b,_.flags||(_.nocase?"i":""))}catch(_){if(x&&x.debug===!0)throw _;return/$^/}},d.constants=R,fe.exports=d},9826:(fe,c,E)=>{"use strict";const v=E(292),{CHAR_ASTERISK:p,CHAR_AT:y,CHAR_BACKWARD_SLASH:w,CHAR_COMMA:R,CHAR_DOT:T,CHAR_EXCLAMATION_MARK:d,CHAR_FORWARD_SLASH:b,CHAR_LEFT_CURLY_BRACE:x,CHAR_LEFT_PARENTHESES:_,CHAR_LEFT_SQUARE_BRACKET:S,CHAR_PLUS:U,CHAR_QUESTION_MARK:I,CHAR_RIGHT_CURLY_BRACE:V,CHAR_RIGHT_PARENTHESES:j,CHAR_RIGHT_SQUARE_BRACKET:le}=E(3889),L=a(A=>A===b||A===w,"isPathSeparator"),H=a(A=>{A.isPrefix!==!0&&(A.depth=A.isGlobstar?1/0:1)},"depth"),B=a((A,k)=>{const $=k||{},te=A.length-1,J=$.parts===!0||$.scanToEnd===!0,ne=[],ce=[],be=[];let ie=A,_e=-1,z=0,Ve=0,Se=!1,de=!1,Z=!1,se=!1,Te=!1,Oe=!1,re=!1,Ge=!1,Xe=!1,st=!1,G=0,ee,ae,we={value:"",depth:0,isGlob:!1};const Me=a(()=>_e>=te,"eos"),Be=a(()=>ie.charCodeAt(_e+1),"peek"),pe=a(()=>(ee=ae,ie.charCodeAt(++_e)),"advance");for(;_e<te;){ae=pe();let He;if(ae===w){re=we.backslashes=!0,ae=pe(),ae===x&&(Oe=!0);continue}if(Oe===!0||ae===x){for(G++;Me()!==!0&&(ae=pe());){if(ae===w){re=we.backslashes=!0,pe();continue}if(ae===x){G++;continue}if(Oe!==!0&&ae===T&&(ae=pe())===T){if(Se=we.isBrace=!0,Z=we.isGlob=!0,st=!0,J===!0)continue;break}if(Oe!==!0&&ae===R){if(Se=we.isBrace=!0,Z=we.isGlob=!0,st=!0,J===!0)continue;break}if(ae===V&&(G--,G===0)){Oe=!1,Se=we.isBrace=!0,st=!0;break}}if(J===!0)continue;break}if(ae===b){if(ne.push(_e),ce.push(we),we={value:"",depth:0,isGlob:!1},st===!0)continue;if(ee===T&&_e===z+1){z+=2;continue}Ve=_e+1;continue}if($.noext!==!0&&(ae===U||ae===y||ae===p||ae===I||ae===d)===!0&&Be()===_){if(Z=we.isGlob=!0,se=we.isExtglob=!0,st=!0,ae===d&&_e===z&&(Xe=!0),J===!0){for(;Me()!==!0&&(ae=pe());){if(ae===w){re=we.backslashes=!0,ae=pe();continue}if(ae===j){Z=we.isGlob=!0,st=!0;break}}continue}break}if(ae===p){if(ee===p&&(Te=we.isGlobstar=!0),Z=we.isGlob=!0,st=!0,J===!0)continue;break}if(ae===I){if(Z=we.isGlob=!0,st=!0,J===!0)continue;break}if(ae===S){for(;Me()!==!0&&(He=pe());){if(He===w){re=we.backslashes=!0,pe();continue}if(He===le){de=we.isBracket=!0,Z=we.isGlob=!0,st=!0;break}}if(J===!0)continue;break}if($.nonegate!==!0&&ae===d&&_e===z){Ge=we.negated=!0,z++;continue}if($.noparen!==!0&&ae===_){if(Z=we.isGlob=!0,J===!0){for(;Me()!==!0&&(ae=pe());){if(ae===_){re=we.backslashes=!0,ae=pe();continue}if(ae===j){st=!0;break}}continue}break}if(Z===!0){if(st=!0,J===!0)continue;break}}$.noext===!0&&(se=!1,Z=!1);let De=ie,ke="",Ze="";z>0&&(ke=ie.slice(0,z),ie=ie.slice(z),Ve-=z),De&&Z===!0&&Ve>0?(De=ie.slice(0,Ve),Ze=ie.slice(Ve)):Z===!0?(De="",Ze=ie):De=ie,De&&De!==""&&De!=="/"&&De!==ie&&L(De.charCodeAt(De.length-1))&&(De=De.slice(0,-1)),$.unescape===!0&&(Ze&&(Ze=v.removeBackslashes(Ze)),De&&re===!0&&(De=v.removeBackslashes(De)));const Ne={prefix:ke,input:A,start:z,base:De,glob:Ze,isBrace:Se,isBracket:de,isGlob:Z,isExtglob:se,isGlobstar:Te,negated:Ge,negatedExtglob:Xe};if($.tokens===!0&&(Ne.maxDepth=0,L(ae)||ce.push(we),Ne.tokens=ce),$.parts===!0||$.tokens===!0){let He;for(let et=0;et<ne.length;et++){const lt=He?He+1:z,Ie=ne[et],Q=A.slice(lt,Ie);$.tokens&&(et===0&&z!==0?(ce[et].isPrefix=!0,ce[et].value=ke):ce[et].value=Q,H(ce[et]),Ne.maxDepth+=ce[et].depth),(et!==0||Q!=="")&&be.push(Q),He=Ie}if(He&&He+1<A.length){const et=A.slice(He+1);be.push(et),$.tokens&&(ce[ce.length-1].value=et,H(ce[ce.length-1]),Ne.maxDepth+=ce[ce.length-1].depth)}Ne.slashes=ne,Ne.parts=be}return Ne},"scan");fe.exports=B},292:(fe,c,E)=>{"use strict";var v=E(6038);const p=E(6470),y=v.platform==="win32",{REGEX_BACKSLASH:w,REGEX_REMOVE_BACKSLASH:R,REGEX_SPECIAL_CHARS:T,REGEX_SPECIAL_CHARS_GLOBAL:d}=E(3889);c.isObject=b=>b!==null&&typeof b=="object"&&!Array.isArray(b),c.hasRegexChars=b=>T.test(b),c.isRegexChar=b=>b.length===1&&c.hasRegexChars(b),c.escapeRegex=b=>b.replace(d,"\\$1"),c.toPosixSlashes=b=>b.replace(w,"/"),c.removeBackslashes=b=>b.replace(R,x=>x==="\\"?"":x),c.supportsLookbehinds=()=>{const b=v.version.slice(1).split(".").map(Number);return b.length===3&&b[0]>=9||b[0]===8&&b[1]>=10},c.isWindows=b=>b&&typeof b.windows=="boolean"?b.windows:y===!0||p.sep==="\\",c.escapeLast=(b,x,_)=>{const S=b.lastIndexOf(x,_);return S===-1?b:b[S-1]==="\\"?c.escapeLast(b,x,S-1):`${b.slice(0,S)}\\${b.slice(S)}`},c.removePrefix=(b,x={})=>{let _=b;return _.startsWith("./")&&(_=_.slice(2),x.prefix="./"),_},c.wrapOutput=(b,x={},_={})=>{const S=_.contains?"":"^",U=_.contains?"":"$";let I=`${S}(?:${b})${U}`;return x.negated===!0&&(I=`(?:^(?!${I}).*$)`),I}},6038:fe=>{var c=fe.exports={},E,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function y(){throw new Error("clearTimeout has not been defined")}a(y,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=p}catch(V){E=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=y}catch(V){v=y}}();function w(V){if(E===setTimeout)return setTimeout(V,0);if((E===p||!E)&&setTimeout)return E=setTimeout,setTimeout(V,0);try{return E(V,0)}catch(j){try{return E.call(null,V,0)}catch(le){return E.call(this,V,0)}}}a(w,"runTimeout");function R(V){if(v===clearTimeout)return clearTimeout(V);if((v===y||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(V);try{return v(V)}catch(j){try{return v.call(null,V)}catch(le){return v.call(this,V)}}}a(R,"runClearTimeout");var T=[],d=!1,b,x=-1;function _(){!d||!b||(d=!1,b.length?T=b.concat(T):x=-1,T.length&&S())}a(_,"cleanUpNextTick");function S(){if(!d){var V=w(_);d=!0;for(var j=T.length;j;){for(b=T,T=[];++x<j;)b&&b[x].run();x=-1,j=T.length}b=null,d=!1,R(V)}}a(S,"drainQueue"),c.nextTick=function(V){var j=new Array(arguments.length-1);if(arguments.length>1)for(var le=1;le<arguments.length;le++)j[le-1]=arguments[le];T.push(new U(V,j)),T.length===1&&!d&&w(S)};function U(V,j){this.fun=V,this.array=j}a(U,"Item"),U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={};function I(){}a(I,"noop"),c.on=I,c.addListener=I,c.once=I,c.off=I,c.removeListener=I,c.removeAllListeners=I,c.emit=I,c.prependListener=I,c.prependOnceListener=I,c.listeners=function(V){return[]},c.binding=function(V){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(V){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},5431:(fe,c,E)=>{"use strict";fe.exports=E(7905)},7905:(fe,c,E)=>{"use strict";var v=E(1417);function p(){return!0}a(p,"_toTrue");function y(){return!1}a(y,"_toFalse");function w(j){return j.then(p,y)}a(w,"pSuccess");function R(j){return j}a(R,"_pass");function T(j){throw j}a(T,"_throw");function d(j){return j.then(R,T)}a(d,"ensurePromise");function b(j,le){return{result:j,args:le,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(b,"createCacheObj");function x(j,le){!j[le]||(clearTimeout(j[le].expire_id),clearTimeout(j[le].prefetch_id),delete j[le])}a(x,"destroyCacheObj");function _(j,le){!j[le]||(j[le].need_prefetch=!0)}a(_,"askPrefetch");function S(j){var le=j[0],L=j[1],H=j[2],B=j[3];if(!!L[H]){if(le){if(!B.maxAge)return;L[H].expire_id=setTimeout(x,B.maxAge,L,H),L[H].prefetch_id=setTimeout(_,B.maxAge*.7,L,H),L[H].expire_id.unref&&L[H].expire_id.unref(),L[H].prefetch_id.unref&&L[H].prefetch_id.unref();return}if(!B.maxErrorAge){x(L,H);return}L[H].expire_id=setTimeout(x,B.maxErrorAge,L,H),L[H].expire_id.unref&&L[H].expire_id.unref()}}a(S,"_track_proceed");function U(j,le,L){var H=j[le].result.constructor;H.all([w(j[le].result),j,le,L]).then(S)}a(U,"trackCacheObj");function I(j){var le=j[0],L=j[1],H=j[2],B=j[3],A=j[4][0];!L[H]||!le||(L[H].result=A,clearTimeout(L[H].expire_id),U(L,H,B))}a(I,"_prefetch_proceed");function V(j,le,L){var H=d(L.fn.apply(null,j[le].args)),B=H.constructor;j[le].need_prefetch=!1,B.all([w(H),j,le,L,[H]]).then(I)}a(V,"doPrefetch"),fe.exports=a(function(le,L){var H={},B=L||{},A=v(B.resolve),k={fn:le,maxAge:B.maxAge||0,maxErrorAge:B.maxErrorAge||0};function $(){for(var te=new Array(arguments.length),J=0;J<te.length;J++)te[J]=arguments[J];var ne=A(te);return H[ne]?H[ne].need_prefetch&&V(H,ne,k):(H[ne]=b(d(k.fn.apply(null,te)),k.maxAge||k.maxErrorAge?te:null),U(H,ne,k)),H[ne].result}return a($,"memoizedFn"),$.clear=function(){var te=Object.keys(H);return te.forEach(function(J){x(H,J)}),te.length},$},"promiseMemoize")},1417:fe=>{"use strict";var c={simple:function(v){return v.length?v.join(""):""},json:function(v){if(!v.length)return"";for(var p=[],y=v.length-1;y>=0;y--)p.push(JSON.stringify(v[y]));return p.join("")}};function E(v){return v.forEach(function(p){if(typeof p=="string"&&!c.hasOwnProperty(p))throw new Error('promise-memoize: unknown value "'+p+'" in resolve option')}),function(p){var y=Math.min(v.length,p.length);if(!y)return"";for(var w=[],R=0;R<y;R++)typeof v[R]=="string"?w.push(c[v[R]]([p[R]])):w.push(v[R](p[R]));return w.join("")}}a(E,"createFlexResolver"),fe.exports=a(function(p){if(typeof p=="undefined")return c.simple;if(typeof p=="string"&&c.hasOwnProperty(p))return c[p];if(Array.isArray(p))return E(p);if(Object.prototype.toString.call(p)==="[object Function]")return p;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(fe,c,E)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const v=E(3338),p=a((L,H,B)=>{if(v(L)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(H===void 0||L===H)return String(L);if(v(H)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let A={relaxZeros:!0,...B};typeof A.strictZeros=="boolean"&&(A.relaxZeros=A.strictZeros===!1);let k=String(A.relaxZeros),$=String(A.shorthand),te=String(A.capture),J=String(A.wrap),ne=L+":"+H+"="+k+$+te+J;if(p.cache.hasOwnProperty(ne))return p.cache[ne].result;let ce=Math.min(L,H),be=Math.max(L,H);if(Math.abs(ce-be)===1){let Se=L+"|"+H;return A.capture?`(${Se})`:A.wrap===!1?Se:`(?:${Se})`}let ie=j(L)||j(H),_e={min:L,max:H,a:ce,b:be},z=[],Ve=[];if(ie&&(_e.isPadded=ie,_e.maxLen=String(_e.max).length),ce<0){let Se=be<0?Math.abs(be):1;Ve=T(Se,Math.abs(ce),_e,A),ce=_e.a=0}return be>=0&&(z=T(ce,be,_e,A)),_e.negatives=Ve,_e.positives=z,_e.result=y(Ve,z,A),A.capture===!0?_e.result=`(${_e.result})`:A.wrap!==!1&&z.length+Ve.length>1&&(_e.result=`(?:${_e.result})`),p.cache[ne]=_e,_e.result},"toRegexRange");function y(L,H,B){let A=d(L,H,"-",!1,B)||[],k=d(H,L,"",!1,B)||[],$=d(L,H,"-?",!0,B)||[];return A.concat($).concat(k).join("|")}a(y,"collatePatterns");function w(L,H){let B=1,A=1,k=S(L,B),$=new Set([H]);for(;L<=k&&k<=H;)$.add(k),B+=1,k=S(L,B);for(k=U(H+1,A)-1;L<k&&k<=H;)$.add(k),A+=1,k=U(H+1,A)-1;return $=[...$],$.sort(x),$}a(w,"splitToRanges");function R(L,H,B){if(L===H)return{pattern:L,count:[],digits:0};let A=b(L,H),k=A.length,$="",te=0;for(let J=0;J<k;J++){let[ne,ce]=A[J];ne===ce?$+=ne:ne!=="0"||ce!=="9"?$+=V(ne,ce,B):te++}return te&&($+=B.shorthand===!0?"\\d":"[0-9]"),{pattern:$,count:[te],digits:k}}a(R,"rangeToPattern");function T(L,H,B,A){let k=w(L,H),$=[],te=L,J;for(let ne=0;ne<k.length;ne++){let ce=k[ne],be=R(String(te),String(ce),A),ie="";if(!B.isPadded&&J&&J.pattern===be.pattern){J.count.length>1&&J.count.pop(),J.count.push(be.count[0]),J.string=J.pattern+I(J.count),te=ce+1;continue}B.isPadded&&(ie=le(ce,B,A)),be.string=ie+be.pattern+I(be.count),$.push(be),te=ce+1,J=be}return $}a(T,"splitToPatterns");function d(L,H,B,A,k){let $=[];for(let te of L){let{string:J}=te;!A&&!_(H,"string",J)&&$.push(B+J),A&&_(H,"string",J)&&$.push(B+J)}return $}a(d,"filterPatterns");function b(L,H){let B=[];for(let A=0;A<L.length;A++)B.push([L[A],H[A]]);return B}a(b,"zip");function x(L,H){return L>H?1:H>L?-1:0}a(x,"compare");function _(L,H,B){return L.some(A=>A[H]===B)}a(_,"contains");function S(L,H){return Number(String(L).slice(0,-H)+"9".repeat(H))}a(S,"countNines");function U(L,H){return L-L%Math.pow(10,H)}a(U,"countZeros");function I(L){let[H=0,B=""]=L;return B||H>1?`{${H+(B?","+B:"")}}`:""}a(I,"toQuantifier");function V(L,H,B){return`[${L}${H-L==1?"":"-"}${H}]`}a(V,"toCharacterClass");function j(L){return/^-?(0+)\d/.test(L)}a(j,"hasPadding");function le(L,H,B){if(!H.isPadded)return L;let A=Math.abs(H.maxLen-String(L).length),k=B.relaxZeros!==!1;switch(A){case 0:return"";case 1:return k?"0?":"0";case 2:return k?"0{0,2}":"00";default:return k?`0{0,${A}}`:`0{${A}}`}}a(le,"padZeros"),p.cache={},p.clearCache=()=>p.cache={},fe.exports=p},9742:(fe,c)=>{"use strict";c.byteLength=d,c.toByteArray=x,c.fromByteArray=U;for(var E=[],v=[],p=typeof Uint8Array!="undefined"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,R=y.length;w<R;++w)E[w]=y[w],v[y.charCodeAt(w)]=w;v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63;function T(I){var V=I.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var j=I.indexOf("=");j===-1&&(j=V);var le=j===V?0:4-j%4;return[j,le]}a(T,"getLens");function d(I){var V=T(I),j=V[0],le=V[1];return(j+le)*3/4-le}a(d,"byteLength");function b(I,V,j){return(V+j)*3/4-j}a(b,"_byteLength");function x(I){var V,j=T(I),le=j[0],L=j[1],H=new p(b(I,le,L)),B=0,A=L>0?le-4:le,k;for(k=0;k<A;k+=4)V=v[I.charCodeAt(k)]<<18|v[I.charCodeAt(k+1)]<<12|v[I.charCodeAt(k+2)]<<6|v[I.charCodeAt(k+3)],H[B++]=V>>16&255,H[B++]=V>>8&255,H[B++]=V&255;return L===2&&(V=v[I.charCodeAt(k)]<<2|v[I.charCodeAt(k+1)]>>4,H[B++]=V&255),L===1&&(V=v[I.charCodeAt(k)]<<10|v[I.charCodeAt(k+1)]<<4|v[I.charCodeAt(k+2)]>>2,H[B++]=V>>8&255,H[B++]=V&255),H}a(x,"toByteArray");function _(I){return E[I>>18&63]+E[I>>12&63]+E[I>>6&63]+E[I&63]}a(_,"tripletToBase64");function S(I,V,j){for(var le,L=[],H=V;H<j;H+=3)le=(I[H]<<16&16711680)+(I[H+1]<<8&65280)+(I[H+2]&255),L.push(_(le));return L.join("")}a(S,"encodeChunk");function U(I){for(var V,j=I.length,le=j%3,L=[],H=16383,B=0,A=j-le;B<A;B+=H)L.push(S(I,B,B+H>A?A:B+H));return le===1?(V=I[j-1],L.push(E[V>>2]+E[V<<4&63]+"==")):le===2&&(V=(I[j-2]<<8)+I[j-1],L.push(E[V>>10]+E[V>>4&63]+E[V<<2&63]+"=")),L.join("")}a(U,"fromByteArray")},5186:(fe,c,E)=>{var v=E(3698),p=E(2505),y=E(6417),w=Function.bind,R=w.bind(w);function T(S,U,I){var V=R(y,null).apply(null,I?[U,I]:[U]);S.api={remove:V},S.remove=V,["before","error","after","wrap"].forEach(function(j){var le=I?[U,j,I]:[U,j];S[j]=S.api[j]=R(p,null).apply(null,le)})}a(T,"bindApi");function d(){var S="h",U={registry:{}},I=v.bind(null,U,S);return T(I,U,S),I}a(d,"HookSingular");function b(){var S={registry:{}},U=v.bind(null,S);return T(U,S),U}a(b,"HookCollection");var x=!1;function _(){return x||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),x=!0),b()}a(_,"Hook"),_.Singular=d.bind(),_.Collection=b.bind(),fe.exports=_,fe.exports.Hook=_,fe.exports.Singular=_.Singular,fe.exports.Collection=_.Collection},2505:fe=>{fe.exports=c;function c(E,v,p,y){var w=y;E.registry[p]||(E.registry[p]=[]),v==="before"&&(y=a(function(R,T){return Promise.resolve().then(w.bind(null,T)).then(R.bind(null,T))},"hook")),v==="after"&&(y=a(function(R,T){var d;return Promise.resolve().then(R.bind(null,T)).then(function(b){return d=b,w(d,T)}).then(function(){return d})},"hook")),v==="error"&&(y=a(function(R,T){return Promise.resolve().then(R.bind(null,T)).catch(function(d){return w(d,T)})},"hook")),E.registry[p].push({hook:y,orig:w})}a(c,"addHook")},3698:fe=>{fe.exports=c;function c(E,v,p,y){if(typeof p!="function")throw new Error("method for before hook must be a function");return y||(y={}),Array.isArray(v)?v.reverse().reduce(function(w,R){return c.bind(null,E,R,w,y)},p)():Promise.resolve().then(function(){return E.registry[v]?E.registry[v].reduce(function(w,R){return R.hook.bind(null,w,y)},p)():p(y)})}a(c,"register")},6417:fe=>{fe.exports=c;function c(E,v,p){if(!!E.registry[v]){var y=E.registry[v].map(function(w){return w.orig}).indexOf(p);y!==-1&&E.registry[v].splice(y,1)}}a(c,"removeHook")},8764:(fe,c,E)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const v=E(9742),p=E(645),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c.Buffer=d,c.SlowBuffer=H,c.INSPECT_MAX_BYTES=50;const w=2147483647;c.kMaxLength=w,d.TYPED_ARRAY_SUPPORT=R(),!d.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function R(){try{const O=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(O,g),O.foo()===42}catch(O){return!1}}a(R,"typedArraySupport"),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.byteOffset}});function T(O){if(O>w)throw new RangeError('The value "'+O+'" is invalid for option "size"');const g=new Uint8Array(O);return Object.setPrototypeOf(g,d.prototype),g}a(T,"createBuffer");function d(O,g,m){if(typeof O=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(O)}return b(O,g,m)}a(d,"Buffer"),d.poolSize=8192;function b(O,g,m){if(typeof O=="string")return U(O,g);if(ArrayBuffer.isView(O))return V(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(X(O,ArrayBuffer)||O&&X(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(X(O,SharedArrayBuffer)||O&&X(O.buffer,SharedArrayBuffer)))return j(O,g,m);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=O.valueOf&&O.valueOf();if(q!=null&&q!==O)return d.from(q,g,m);const ve=le(O);if(ve)return ve;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return d.from(O[Symbol.toPrimitive]("string"),g,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}a(b,"from"),d.from=function(O,g,m){return b(O,g,m)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function x(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}a(x,"assertSize");function _(O,g,m){return x(O),O<=0?T(O):g!==void 0?typeof m=="string"?T(O).fill(g,m):T(O).fill(g):T(O)}a(_,"alloc"),d.alloc=function(O,g,m){return _(O,g,m)};function S(O){return x(O),T(O<0?0:L(O)|0)}a(S,"allocUnsafe"),d.allocUnsafe=function(O){return S(O)},d.allocUnsafeSlow=function(O){return S(O)};function U(O,g){if((typeof g!="string"||g==="")&&(g="utf8"),!d.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const m=B(O,g)|0;let q=T(m);const ve=q.write(O,g);return ve!==m&&(q=q.slice(0,ve)),q}a(U,"fromString");function I(O){const g=O.length<0?0:L(O.length)|0,m=T(g);for(let q=0;q<g;q+=1)m[q]=O[q]&255;return m}a(I,"fromArrayLike");function V(O){if(X(O,Uint8Array)){const g=new Uint8Array(O);return j(g.buffer,g.byteOffset,g.byteLength)}return I(O)}a(V,"fromArrayView");function j(O,g,m){if(g<0||O.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<g+(m||0))throw new RangeError('"length" is outside of buffer bounds');let q;return g===void 0&&m===void 0?q=new Uint8Array(O):m===void 0?q=new Uint8Array(O,g):q=new Uint8Array(O,g,m),Object.setPrototypeOf(q,d.prototype),q}a(j,"fromArrayBuffer");function le(O){if(d.isBuffer(O)){const g=L(O.length)|0,m=T(g);return m.length===0||O.copy(m,0,0,g),m}if(O.length!==void 0)return typeof O.length!="number"||tt(O.length)?T(0):I(O);if(O.type==="Buffer"&&Array.isArray(O.data))return I(O.data)}a(le,"fromObject");function L(O){if(O>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return O|0}a(L,"checked");function H(O){return+O!=O&&(O=0),d.alloc(+O)}a(H,"SlowBuffer"),d.isBuffer=a(function(g){return g!=null&&g._isBuffer===!0&&g!==d.prototype},"isBuffer"),d.compare=a(function(g,m){if(X(g,Uint8Array)&&(g=d.from(g,g.offset,g.byteLength)),X(m,Uint8Array)&&(m=d.from(m,m.offset,m.byteLength)),!d.isBuffer(g)||!d.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===m)return 0;let q=g.length,ve=m.length;for(let Fe=0,me=Math.min(q,ve);Fe<me;++Fe)if(g[Fe]!==m[Fe]){q=g[Fe],ve=m[Fe];break}return q<ve?-1:ve<q?1:0},"compare"),d.isEncoding=a(function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),d.concat=a(function(g,m){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return d.alloc(0);let q;if(m===void 0)for(m=0,q=0;q<g.length;++q)m+=g[q].length;const ve=d.allocUnsafe(m);let Fe=0;for(q=0;q<g.length;++q){let me=g[q];if(X(me,Uint8Array))Fe+me.length>ve.length?(d.isBuffer(me)||(me=d.from(me)),me.copy(ve,Fe)):Uint8Array.prototype.set.call(ve,me,Fe);else if(d.isBuffer(me))me.copy(ve,Fe);else throw new TypeError('"list" argument must be an Array of Buffers');Fe+=me.length}return ve},"concat");function B(O,g){if(d.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||X(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const m=O.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&m===0)return 0;let ve=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return He(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Ie(O).length;default:if(ve)return q?-1:He(O).length;g=(""+g).toLowerCase(),ve=!0}}a(B,"byteLength"),d.byteLength=B;function A(O,g,m){let q=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,g>>>=0,m<=g))return"";for(O||(O="utf8");;)switch(O){case"hex":return se(this,g,m);case"utf8":case"utf-8":return z(this,g,m);case"ascii":return de(this,g,m);case"latin1":case"binary":return Z(this,g,m);case"base64":return _e(this,g,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,g,m);default:if(q)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),q=!0}}a(A,"slowToString"),d.prototype._isBuffer=!0;function k(O,g,m){const q=O[g];O[g]=O[m],O[m]=q}a(k,"swap"),d.prototype.swap16=a(function(){const g=this.length;if(g%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<g;m+=2)k(this,m,m+1);return this},"swap16"),d.prototype.swap32=a(function(){const g=this.length;if(g%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<g;m+=4)k(this,m,m+3),k(this,m+1,m+2);return this},"swap32"),d.prototype.swap64=a(function(){const g=this.length;if(g%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<g;m+=8)k(this,m,m+7),k(this,m+1,m+6),k(this,m+2,m+5),k(this,m+3,m+4);return this},"swap64"),d.prototype.toString=a(function(){const g=this.length;return g===0?"":arguments.length===0?z(this,0,g):A.apply(this,arguments)},"toString"),d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=a(function(g){if(!d.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:d.compare(this,g)===0},"equals"),d.prototype.inspect=a(function(){let g="";const m=c.INSPECT_MAX_BYTES;return g=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(g+=" ... "),"<Buffer "+g+">"},"inspect"),y&&(d.prototype[y]=d.prototype.inspect),d.prototype.compare=a(function(g,m,q,ve,Fe){if(X(g,Uint8Array)&&(g=d.from(g,g.offset,g.byteLength)),!d.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(m===void 0&&(m=0),q===void 0&&(q=g?g.length:0),ve===void 0&&(ve=0),Fe===void 0&&(Fe=this.length),m<0||q>g.length||ve<0||Fe>this.length)throw new RangeError("out of range index");if(ve>=Fe&&m>=q)return 0;if(ve>=Fe)return-1;if(m>=q)return 1;if(m>>>=0,q>>>=0,ve>>>=0,Fe>>>=0,this===g)return 0;let me=Fe-ve,pt=q-m;const At=Math.min(me,pt),Ft=this.slice(ve,Fe),Nt=g.slice(m,q);for(let Vt=0;Vt<At;++Vt)if(Ft[Vt]!==Nt[Vt]){me=Ft[Vt],pt=Nt[Vt];break}return me<pt?-1:pt<me?1:0},"compare");function $(O,g,m,q,ve){if(O.length===0)return-1;if(typeof m=="string"?(q=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,tt(m)&&(m=ve?0:O.length-1),m<0&&(m=O.length+m),m>=O.length){if(ve)return-1;m=O.length-1}else if(m<0)if(ve)m=0;else return-1;if(typeof g=="string"&&(g=d.from(g,q)),d.isBuffer(g))return g.length===0?-1:te(O,g,m,q,ve);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(O,g,m):Uint8Array.prototype.lastIndexOf.call(O,g,m):te(O,[g],m,q,ve);throw new TypeError("val must be string, number or Buffer")}a($,"bidirectionalIndexOf");function te(O,g,m,q,ve){let Fe=1,me=O.length,pt=g.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(O.length<2||g.length<2)return-1;Fe=2,me/=2,pt/=2,m/=2}function At(Nt,Vt){return Fe===1?Nt[Vt]:Nt.readUInt16BE(Vt*Fe)}a(At,"read");let Ft;if(ve){let Nt=-1;for(Ft=m;Ft<me;Ft++)if(At(O,Ft)===At(g,Nt===-1?0:Ft-Nt)){if(Nt===-1&&(Nt=Ft),Ft-Nt+1===pt)return Nt*Fe}else Nt!==-1&&(Ft-=Ft-Nt),Nt=-1}else for(m+pt>me&&(m=me-pt),Ft=m;Ft>=0;Ft--){let Nt=!0;for(let Vt=0;Vt<pt;Vt++)if(At(O,Ft+Vt)!==At(g,Vt)){Nt=!1;break}if(Nt)return Ft}return-1}a(te,"arrayIndexOf"),d.prototype.includes=a(function(g,m,q){return this.indexOf(g,m,q)!==-1},"includes"),d.prototype.indexOf=a(function(g,m,q){return $(this,g,m,q,!0)},"indexOf"),d.prototype.lastIndexOf=a(function(g,m,q){return $(this,g,m,q,!1)},"lastIndexOf");function J(O,g,m,q){m=Number(m)||0;const ve=O.length-m;q?(q=Number(q),q>ve&&(q=ve)):q=ve;const Fe=g.length;q>Fe/2&&(q=Fe/2);let me;for(me=0;me<q;++me){const pt=parseInt(g.substr(me*2,2),16);if(tt(pt))return me;O[m+me]=pt}return me}a(J,"hexWrite");function ne(O,g,m,q){return Q(He(g,O.length-m),O,m,q)}a(ne,"utf8Write");function ce(O,g,m,q){return Q(et(g),O,m,q)}a(ce,"asciiWrite");function be(O,g,m,q){return Q(Ie(g),O,m,q)}a(be,"base64Write");function ie(O,g,m,q){return Q(lt(g,O.length-m),O,m,q)}a(ie,"ucs2Write"),d.prototype.write=a(function(g,m,q,ve){if(m===void 0)ve="utf8",q=this.length,m=0;else if(q===void 0&&typeof m=="string")ve=m,q=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(q)?(q=q>>>0,ve===void 0&&(ve="utf8")):(ve=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Fe=this.length-m;if((q===void 0||q>Fe)&&(q=Fe),g.length>0&&(q<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let me=!1;for(;;)switch(ve){case"hex":return J(this,g,m,q);case"utf8":case"utf-8":return ne(this,g,m,q);case"ascii":case"latin1":case"binary":return ce(this,g,m,q);case"base64":return be(this,g,m,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,g,m,q);default:if(me)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),me=!0}},"write"),d.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function _e(O,g,m){return g===0&&m===O.length?v.fromByteArray(O):v.fromByteArray(O.slice(g,m))}a(_e,"base64Slice");function z(O,g,m){m=Math.min(O.length,m);const q=[];let ve=g;for(;ve<m;){const Fe=O[ve];let me=null,pt=Fe>239?4:Fe>223?3:Fe>191?2:1;if(ve+pt<=m){let At,Ft,Nt,Vt;switch(pt){case 1:Fe<128&&(me=Fe);break;case 2:At=O[ve+1],(At&192)==128&&(Vt=(Fe&31)<<6|At&63,Vt>127&&(me=Vt));break;case 3:At=O[ve+1],Ft=O[ve+2],(At&192)==128&&(Ft&192)==128&&(Vt=(Fe&15)<<12|(At&63)<<6|Ft&63,Vt>2047&&(Vt<55296||Vt>57343)&&(me=Vt));break;case 4:At=O[ve+1],Ft=O[ve+2],Nt=O[ve+3],(At&192)==128&&(Ft&192)==128&&(Nt&192)==128&&(Vt=(Fe&15)<<18|(At&63)<<12|(Ft&63)<<6|Nt&63,Vt>65535&&Vt<1114112&&(me=Vt))}}me===null?(me=65533,pt=1):me>65535&&(me-=65536,q.push(me>>>10&1023|55296),me=56320|me&1023),q.push(me),ve+=pt}return Se(q)}a(z,"utf8Slice");const Ve=4096;function Se(O){const g=O.length;if(g<=Ve)return String.fromCharCode.apply(String,O);let m="",q=0;for(;q<g;)m+=String.fromCharCode.apply(String,O.slice(q,q+=Ve));return m}a(Se,"decodeCodePointsArray");function de(O,g,m){let q="";m=Math.min(O.length,m);for(let ve=g;ve<m;++ve)q+=String.fromCharCode(O[ve]&127);return q}a(de,"asciiSlice");function Z(O,g,m){let q="";m=Math.min(O.length,m);for(let ve=g;ve<m;++ve)q+=String.fromCharCode(O[ve]);return q}a(Z,"latin1Slice");function se(O,g,m){const q=O.length;(!g||g<0)&&(g=0),(!m||m<0||m>q)&&(m=q);let ve="";for(let Fe=g;Fe<m;++Fe)ve+=Kt[O[Fe]];return ve}a(se,"hexSlice");function Te(O,g,m){const q=O.slice(g,m);let ve="";for(let Fe=0;Fe<q.length-1;Fe+=2)ve+=String.fromCharCode(q[Fe]+q[Fe+1]*256);return ve}a(Te,"utf16leSlice"),d.prototype.slice=a(function(g,m){const q=this.length;g=~~g,m=m===void 0?q:~~m,g<0?(g+=q,g<0&&(g=0)):g>q&&(g=q),m<0?(m+=q,m<0&&(m=0)):m>q&&(m=q),m<g&&(m=g);const ve=this.subarray(g,m);return Object.setPrototypeOf(ve,d.prototype),ve},"slice");function Oe(O,g,m){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+g>m)throw new RangeError("Trying to access beyond buffer length")}a(Oe,"checkOffset"),d.prototype.readUintLE=d.prototype.readUIntLE=a(function(g,m,q){g=g>>>0,m=m>>>0,q||Oe(g,m,this.length);let ve=this[g],Fe=1,me=0;for(;++me<m&&(Fe*=256);)ve+=this[g+me]*Fe;return ve},"readUIntLE"),d.prototype.readUintBE=d.prototype.readUIntBE=a(function(g,m,q){g=g>>>0,m=m>>>0,q||Oe(g,m,this.length);let ve=this[g+--m],Fe=1;for(;m>0&&(Fe*=256);)ve+=this[g+--m]*Fe;return ve},"readUIntBE"),d.prototype.readUint8=d.prototype.readUInt8=a(function(g,m){return g=g>>>0,m||Oe(g,1,this.length),this[g]},"readUInt8"),d.prototype.readUint16LE=d.prototype.readUInt16LE=a(function(g,m){return g=g>>>0,m||Oe(g,2,this.length),this[g]|this[g+1]<<8},"readUInt16LE"),d.prototype.readUint16BE=d.prototype.readUInt16BE=a(function(g,m){return g=g>>>0,m||Oe(g,2,this.length),this[g]<<8|this[g+1]},"readUInt16BE"),d.prototype.readUint32LE=d.prototype.readUInt32LE=a(function(g,m){return g=g>>>0,m||Oe(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},"readUInt32LE"),d.prototype.readUint32BE=d.prototype.readUInt32BE=a(function(g,m){return g=g>>>0,m||Oe(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},"readUInt32BE"),d.prototype.readBigUInt64LE=wn(a(function(g){g=g>>>0,De(g,"offset");const m=this[g],q=this[g+7];(m===void 0||q===void 0)&&ke(g,this.length-8);const ve=m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,Fe=this[++g]+this[++g]*2**8+this[++g]*2**16+q*2**24;return BigInt(ve)+(BigInt(Fe)<<BigInt(32))},"readBigUInt64LE")),d.prototype.readBigUInt64BE=wn(a(function(g){g=g>>>0,De(g,"offset");const m=this[g],q=this[g+7];(m===void 0||q===void 0)&&ke(g,this.length-8);const ve=m*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],Fe=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+q;return(BigInt(ve)<<BigInt(32))+BigInt(Fe)},"readBigUInt64BE")),d.prototype.readIntLE=a(function(g,m,q){g=g>>>0,m=m>>>0,q||Oe(g,m,this.length);let ve=this[g],Fe=1,me=0;for(;++me<m&&(Fe*=256);)ve+=this[g+me]*Fe;return Fe*=128,ve>=Fe&&(ve-=Math.pow(2,8*m)),ve},"readIntLE"),d.prototype.readIntBE=a(function(g,m,q){g=g>>>0,m=m>>>0,q||Oe(g,m,this.length);let ve=m,Fe=1,me=this[g+--ve];for(;ve>0&&(Fe*=256);)me+=this[g+--ve]*Fe;return Fe*=128,me>=Fe&&(me-=Math.pow(2,8*m)),me},"readIntBE"),d.prototype.readInt8=a(function(g,m){return g=g>>>0,m||Oe(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},"readInt8"),d.prototype.readInt16LE=a(function(g,m){g=g>>>0,m||Oe(g,2,this.length);const q=this[g]|this[g+1]<<8;return q&32768?q|4294901760:q},"readInt16LE"),d.prototype.readInt16BE=a(function(g,m){g=g>>>0,m||Oe(g,2,this.length);const q=this[g+1]|this[g]<<8;return q&32768?q|4294901760:q},"readInt16BE"),d.prototype.readInt32LE=a(function(g,m){return g=g>>>0,m||Oe(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},"readInt32LE"),d.prototype.readInt32BE=a(function(g,m){return g=g>>>0,m||Oe(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},"readInt32BE"),d.prototype.readBigInt64LE=wn(a(function(g){g=g>>>0,De(g,"offset");const m=this[g],q=this[g+7];(m===void 0||q===void 0)&&ke(g,this.length-8);const ve=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(q<<24);return(BigInt(ve)<<BigInt(32))+BigInt(m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)},"readBigInt64LE")),d.prototype.readBigInt64BE=wn(a(function(g){g=g>>>0,De(g,"offset");const m=this[g],q=this[g+7];(m===void 0||q===void 0)&&ke(g,this.length-8);const ve=(m<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(ve)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+q)},"readBigInt64BE")),d.prototype.readFloatLE=a(function(g,m){return g=g>>>0,m||Oe(g,4,this.length),p.read(this,g,!0,23,4)},"readFloatLE"),d.prototype.readFloatBE=a(function(g,m){return g=g>>>0,m||Oe(g,4,this.length),p.read(this,g,!1,23,4)},"readFloatBE"),d.prototype.readDoubleLE=a(function(g,m){return g=g>>>0,m||Oe(g,8,this.length),p.read(this,g,!0,52,8)},"readDoubleLE"),d.prototype.readDoubleBE=a(function(g,m){return g=g>>>0,m||Oe(g,8,this.length),p.read(this,g,!1,52,8)},"readDoubleBE");function re(O,g,m,q,ve,Fe){if(!d.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>ve||g<Fe)throw new RangeError('"value" argument is out of bounds');if(m+q>O.length)throw new RangeError("Index out of range")}a(re,"checkInt"),d.prototype.writeUintLE=d.prototype.writeUIntLE=a(function(g,m,q,ve){if(g=+g,m=m>>>0,q=q>>>0,!ve){const pt=Math.pow(2,8*q)-1;re(this,g,m,q,pt,0)}let Fe=1,me=0;for(this[m]=g&255;++me<q&&(Fe*=256);)this[m+me]=g/Fe&255;return m+q},"writeUIntLE"),d.prototype.writeUintBE=d.prototype.writeUIntBE=a(function(g,m,q,ve){if(g=+g,m=m>>>0,q=q>>>0,!ve){const pt=Math.pow(2,8*q)-1;re(this,g,m,q,pt,0)}let Fe=q-1,me=1;for(this[m+Fe]=g&255;--Fe>=0&&(me*=256);)this[m+Fe]=g/me&255;return m+q},"writeUIntBE"),d.prototype.writeUint8=d.prototype.writeUInt8=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,1,255,0),this[m]=g&255,m+1},"writeUInt8"),d.prototype.writeUint16LE=d.prototype.writeUInt16LE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,2,65535,0),this[m]=g&255,this[m+1]=g>>>8,m+2},"writeUInt16LE"),d.prototype.writeUint16BE=d.prototype.writeUInt16BE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,2,65535,0),this[m]=g>>>8,this[m+1]=g&255,m+2},"writeUInt16BE"),d.prototype.writeUint32LE=d.prototype.writeUInt32LE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,4,4294967295,0),this[m+3]=g>>>24,this[m+2]=g>>>16,this[m+1]=g>>>8,this[m]=g&255,m+4},"writeUInt32LE"),d.prototype.writeUint32BE=d.prototype.writeUInt32BE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,4,4294967295,0),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4},"writeUInt32BE");function Ge(O,g,m,q,ve){pe(g,q,ve,O,m,7);let Fe=Number(g&BigInt(4294967295));O[m++]=Fe,Fe=Fe>>8,O[m++]=Fe,Fe=Fe>>8,O[m++]=Fe,Fe=Fe>>8,O[m++]=Fe;let me=Number(g>>BigInt(32)&BigInt(4294967295));return O[m++]=me,me=me>>8,O[m++]=me,me=me>>8,O[m++]=me,me=me>>8,O[m++]=me,m}a(Ge,"wrtBigUInt64LE");function Xe(O,g,m,q,ve){pe(g,q,ve,O,m,7);let Fe=Number(g&BigInt(4294967295));O[m+7]=Fe,Fe=Fe>>8,O[m+6]=Fe,Fe=Fe>>8,O[m+5]=Fe,Fe=Fe>>8,O[m+4]=Fe;let me=Number(g>>BigInt(32)&BigInt(4294967295));return O[m+3]=me,me=me>>8,O[m+2]=me,me=me>>8,O[m+1]=me,me=me>>8,O[m]=me,m+8}a(Xe,"wrtBigUInt64BE"),d.prototype.writeBigUInt64LE=wn(a(function(g,m=0){return Ge(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),d.prototype.writeBigUInt64BE=wn(a(function(g,m=0){return Xe(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),d.prototype.writeIntLE=a(function(g,m,q,ve){if(g=+g,m=m>>>0,!ve){const At=Math.pow(2,8*q-1);re(this,g,m,q,At-1,-At)}let Fe=0,me=1,pt=0;for(this[m]=g&255;++Fe<q&&(me*=256);)g<0&&pt===0&&this[m+Fe-1]!==0&&(pt=1),this[m+Fe]=(g/me>>0)-pt&255;return m+q},"writeIntLE"),d.prototype.writeIntBE=a(function(g,m,q,ve){if(g=+g,m=m>>>0,!ve){const At=Math.pow(2,8*q-1);re(this,g,m,q,At-1,-At)}let Fe=q-1,me=1,pt=0;for(this[m+Fe]=g&255;--Fe>=0&&(me*=256);)g<0&&pt===0&&this[m+Fe+1]!==0&&(pt=1),this[m+Fe]=(g/me>>0)-pt&255;return m+q},"writeIntBE"),d.prototype.writeInt8=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,1,127,-128),g<0&&(g=255+g+1),this[m]=g&255,m+1},"writeInt8"),d.prototype.writeInt16LE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,2,32767,-32768),this[m]=g&255,this[m+1]=g>>>8,m+2},"writeInt16LE"),d.prototype.writeInt16BE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,2,32767,-32768),this[m]=g>>>8,this[m+1]=g&255,m+2},"writeInt16BE"),d.prototype.writeInt32LE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,4,2147483647,-2147483648),this[m]=g&255,this[m+1]=g>>>8,this[m+2]=g>>>16,this[m+3]=g>>>24,m+4},"writeInt32LE"),d.prototype.writeInt32BE=a(function(g,m,q){return g=+g,m=m>>>0,q||re(this,g,m,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4},"writeInt32BE"),d.prototype.writeBigInt64LE=wn(a(function(g,m=0){return Ge(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),d.prototype.writeBigInt64BE=wn(a(function(g,m=0){return Xe(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function st(O,g,m,q,ve,Fe){if(m+q>O.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}a(st,"checkIEEE754");function G(O,g,m,q,ve){return g=+g,m=m>>>0,ve||st(O,g,m,4,34028234663852886e22,-34028234663852886e22),p.write(O,g,m,q,23,4),m+4}a(G,"writeFloat"),d.prototype.writeFloatLE=a(function(g,m,q){return G(this,g,m,!0,q)},"writeFloatLE"),d.prototype.writeFloatBE=a(function(g,m,q){return G(this,g,m,!1,q)},"writeFloatBE");function ee(O,g,m,q,ve){return g=+g,m=m>>>0,ve||st(O,g,m,8,17976931348623157e292,-17976931348623157e292),p.write(O,g,m,q,52,8),m+8}a(ee,"writeDouble"),d.prototype.writeDoubleLE=a(function(g,m,q){return ee(this,g,m,!0,q)},"writeDoubleLE"),d.prototype.writeDoubleBE=a(function(g,m,q){return ee(this,g,m,!1,q)},"writeDoubleBE"),d.prototype.copy=a(function(g,m,q,ve){if(!d.isBuffer(g))throw new TypeError("argument should be a Buffer");if(q||(q=0),!ve&&ve!==0&&(ve=this.length),m>=g.length&&(m=g.length),m||(m=0),ve>0&&ve<q&&(ve=q),ve===q||g.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),g.length-m<ve-q&&(ve=g.length-m+q);const Fe=ve-q;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,q,ve):Uint8Array.prototype.set.call(g,this.subarray(q,ve),m),Fe},"copy"),d.prototype.fill=a(function(g,m,q,ve){if(typeof g=="string"){if(typeof m=="string"?(ve=m,m=0,q=this.length):typeof q=="string"&&(ve=q,q=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!d.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(g.length===1){const me=g.charCodeAt(0);(ve==="utf8"&&me<128||ve==="latin1")&&(g=me)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(m<0||this.length<m||this.length<q)throw new RangeError("Out of range index");if(q<=m)return this;m=m>>>0,q=q===void 0?this.length:q>>>0,g||(g=0);let Fe;if(typeof g=="number")for(Fe=m;Fe<q;++Fe)this[Fe]=g;else{const me=d.isBuffer(g)?g:d.from(g,ve),pt=me.length;if(pt===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(Fe=0;Fe<q-m;++Fe)this[Fe+m]=me[Fe%pt]}return this},"fill");const ae={};function we(O,g,m){ae[O]=a(class extends m{constructor(){super();Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}},"NodeError")}a(we,"E"),we("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(O,g){return`The "${O}" argument must be of type number. Received type ${typeof g}`},TypeError),we("ERR_OUT_OF_RANGE",function(O,g,m){let q=`The value of "${O}" is out of range.`,ve=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ve=Me(String(m)):typeof m=="bigint"&&(ve=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ve=Me(ve)),ve+="n"),q+=` It must be ${g}. Received ${ve}`,q},RangeError);function Me(O){let g="",m=O.length;const q=O[0]==="-"?1:0;for(;m>=q+4;m-=3)g=`_${O.slice(m-3,m)}${g}`;return`${O.slice(0,m)}${g}`}a(Me,"addNumericalSeparator");function Be(O,g,m){De(g,"offset"),(O[g]===void 0||O[g+m]===void 0)&&ke(g,O.length-(m+1))}a(Be,"checkBounds");function pe(O,g,m,q,ve,Fe){if(O>m||O<g){const me=typeof g=="bigint"?"n":"";let pt;throw Fe>3?g===0||g===BigInt(0)?pt=`>= 0${me} and < 2${me} ** ${(Fe+1)*8}${me}`:pt=`>= -(2${me} ** ${(Fe+1)*8-1}${me}) and < 2 ** ${(Fe+1)*8-1}${me}`:pt=`>= ${g}${me} and <= ${m}${me}`,new ae.ERR_OUT_OF_RANGE("value",pt,O)}Be(q,ve,Fe)}a(pe,"checkIntBI");function De(O,g){if(typeof O!="number")throw new ae.ERR_INVALID_ARG_TYPE(g,"number",O)}a(De,"validateNumber");function ke(O,g,m){throw Math.floor(O)!==O?(De(O,m),new ae.ERR_OUT_OF_RANGE(m||"offset","an integer",O)):g<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${g}`,O)}a(ke,"boundsError");const Ze=/[^+/0-9A-Za-z-_]/g;function Ne(O){if(O=O.split("=")[0],O=O.trim().replace(Ze,""),O.length<2)return"";for(;O.length%4!=0;)O=O+"=";return O}a(Ne,"base64clean");function He(O,g){g=g||1/0;let m;const q=O.length;let ve=null;const Fe=[];for(let me=0;me<q;++me){if(m=O.charCodeAt(me),m>55295&&m<57344){if(!ve){if(m>56319){(g-=3)>-1&&Fe.push(239,191,189);continue}else if(me+1===q){(g-=3)>-1&&Fe.push(239,191,189);continue}ve=m;continue}if(m<56320){(g-=3)>-1&&Fe.push(239,191,189),ve=m;continue}m=(ve-55296<<10|m-56320)+65536}else ve&&(g-=3)>-1&&Fe.push(239,191,189);if(ve=null,m<128){if((g-=1)<0)break;Fe.push(m)}else if(m<2048){if((g-=2)<0)break;Fe.push(m>>6|192,m&63|128)}else if(m<65536){if((g-=3)<0)break;Fe.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((g-=4)<0)break;Fe.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return Fe}a(He,"utf8ToBytes");function et(O){const g=[];for(let m=0;m<O.length;++m)g.push(O.charCodeAt(m)&255);return g}a(et,"asciiToBytes");function lt(O,g){let m,q,ve;const Fe=[];for(let me=0;me<O.length&&!((g-=2)<0);++me)m=O.charCodeAt(me),q=m>>8,ve=m%256,Fe.push(ve),Fe.push(q);return Fe}a(lt,"utf16leToBytes");function Ie(O){return v.toByteArray(Ne(O))}a(Ie,"base64ToBytes");function Q(O,g,m,q){let ve;for(ve=0;ve<q&&!(ve+m>=g.length||ve>=O.length);++ve)g[ve+m]=O[ve];return ve}a(Q,"blitBuffer");function X(O,g){return O instanceof g||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===g.name}a(X,"isInstance");function tt(O){return O!==O}a(tt,"numberIsNaN");const Kt=function(){const O="0123456789abcdef",g=new Array(256);for(let m=0;m<16;++m){const q=m*16;for(let ve=0;ve<16;++ve)g[q+ve]=O[m]+O[ve]}return g}();function wn(O){return typeof BigInt=="undefined"?yn:O}a(wn,"defineBigIntMethod");function yn(){throw new Error("BigInt not supported")}a(yn,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(fe){const c=await strtok3.fromStream(fe);try{return await fromTokenizer(c)}finally{await c.close()}}a(fromStream,"fromStream");async function fromBuffer(fe){if(!(fe instanceof Uint8Array||fe instanceof ArrayBuffer||Buffer.isBuffer(fe)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof fe}\``);const c=fe instanceof Buffer?fe:Buffer.from(fe);if(!(c&&c.length>1))return;const E=strtok3.fromBuffer(c);return fromTokenizer(E)}a(fromBuffer,"fromBuffer");function _check(fe,c,E){E={offset:0,...E};for(const[v,p]of c.entries())if(E.mask){if(p!==(E.mask[v]&fe[v+E.offset]))return!1}else if(p!==fe[v+E.offset])return!1;return!0}a(_check,"_check");async function fromTokenizer(fe){try{return _fromTokenizer(fe)}catch(c){if(!(c instanceof strtok3.EndOfStreamError))throw c}}a(fromTokenizer,"fromTokenizer");async function _fromTokenizer(fe){let c=Buffer.alloc(minimumBytes);const E=12,v=a((y,w)=>_check(c,y,w),"check"),p=a((y,w)=>v(stringToBytes(y),w),"checkString");if(fe.fileInfo.size||(fe.fileInfo.size=Number.MAX_SAFE_INTEGER),await fe.peekBuffer(c,{length:E,mayBeLess:!0}),v([66,77]))return{ext:"bmp",mime:"image/bmp"};if(v([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(v([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(v([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(v([37,33]))return await fe.peekBuffer(c,{length:24,mayBeLess:!0}),p("PS-Adobe-",{offset:2})&&p(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(v([31,160])||v([31,157]))return{ext:"Z",mime:"application/x-compress"};if(v([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(v([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(v([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(v([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(p("ID3")){await fe.ignore(6);const y=await fe.readToken(uint32SyncSafeToken);return fe.position+y>fe.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await fe.ignore(y),fromTokenizer(fe))}if(p("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((c[0]===67||c[0]===70)&&v([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(v([71,73,70]))return{ext:"gif",mime:"image/gif"};if(p("FLIF"))return{ext:"flif",mime:"image/flif"};if(p("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(p("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(p("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(p("FORM"))return{ext:"aif",mime:"audio/aiff"};if(p("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(v([80,75,3,4])){try{for(;fe.position+30<fe.fileInfo.size;){await fe.readBuffer(c,{length:30});const y={compressedSize:c.readUInt32LE(18),uncompressedSize:c.readUInt32LE(22),filenameLength:c.readUInt16LE(26),extraFieldLength:c.readUInt16LE(28)};if(y.filename=await fe.readToken(new Token.StringType(y.filenameLength,"utf-8")),await fe.ignore(y.extraFieldLength),y.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(y.filename.endsWith(".rels")||y.filename.endsWith(".xml"))switch(y.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(y.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(y.filename.startsWith("3D/")&&y.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(y.filename==="mimetype"&&y.compressedSize===y.uncompressedSize)switch(await fe.readToken(new Token.StringType(y.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(y.compressedSize===0){let w=-1;for(;w<0&&fe.position<fe.fileInfo.size;)await fe.peekBuffer(c,{mayBeLess:!0}),w=c.indexOf("504B0304",0,"hex"),await fe.ignore(w>=0?w:c.length)}else await fe.ignore(y.compressedSize)}}catch(y){if(!(y instanceof strtok3.EndOfStreamError))throw y}return{ext:"zip",mime:"application/zip"}}if(p("OggS")){await fe.ignore(28);const y=Buffer.alloc(8);return await fe.readBuffer(y),_check(y,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(y,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(y,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(y,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(y,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(y,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(v([80,75])&&(c[2]===3||c[2]===5||c[2]===7)&&(c[3]===4||c[3]===6||c[3]===8))return{ext:"zip",mime:"application/zip"};if(p("ftyp",{offset:4})&&(c[8]&96)!=0){const y=c.toString("binary",8,12).replace("\0"," ").trim();switch(y){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return y.startsWith("3g")?y.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(p("MThd"))return{ext:"mid",mime:"audio/midi"};if(p("wOFF")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(p("wOF2")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(v([212,195,178,161])||v([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(p("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(p("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(p("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(v([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(p("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(p("%PDF")){await fe.ignore(1350);const y=10*1024*1024,w=Buffer.alloc(Math.min(y,fe.fileInfo.size));return await fe.readBuffer(w,{mayBeLess:!0}),w.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(v([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(v([73,73,42,0]))return p("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:v([28,0,254,0],{offset:8})||v([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:v([8,0,0,0],{offset:4})&&(v([45,0,254,0],{offset:8})||v([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(c=Buffer.alloc(24),await fe.peekBuffer(c),(v([16,251,134,1],{offset:4})||v([8,0,0,0],{offset:4}))&&v([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(v([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(p("MAC "))return{ext:"ape",mime:"audio/ape"};if(v([26,69,223,163])){async function y(){const b=await fe.peekNumber(Token.UINT8);let x=128,_=0;for(;(b&x)==0&&x!==0;)++_,x>>=1;const S=Buffer.alloc(_+1);return await fe.readBuffer(S),S}a(y,"readField");async function w(){const b=await y(),x=await y();x[0]^=128>>x.length-1;const _=Math.min(6,x.length);return{id:b.readUIntBE(0,b.length),len:x.readUIntBE(x.length-_,_)}}a(w,"readElement");async function R(b,x){for(;x>0;){const _=await w();if(_.id===17026)return fe.readToken(new Token.StringType(_.len,"utf-8"));await fe.ignore(_.len),--x}}a(R,"readChildren");const T=await w();switch(await R(1,T.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(v([82,73,70,70])){if(v([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(v([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(v([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(p("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(v([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(p("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(p("MSCF")||p("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(v([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(v([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(v([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(v([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(p("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(p("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(v([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(p("IMPM"))return{ext:"it",mime:"audio/x-it"};if(p("-lh0-",{offset:2})||p("-lh1-",{offset:2})||p("-lh2-",{offset:2})||p("-lh3-",{offset:2})||p("-lh4-",{offset:2})||p("-lh5-",{offset:2})||p("-lh6-",{offset:2})||p("-lh7-",{offset:2})||p("-lzs-",{offset:2})||p("-lz4-",{offset:2})||p("-lz5-",{offset:2})||p("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(v([0,0,1,186])){if(v([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(v([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(p("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(v([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(p("<?xml "))return{ext:"xml",mime:"application/xml"};if(v([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(v([82,97,114,33,26,7])&&(c[6]===0||c[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(p("solid "))return{ext:"stl",mime:"model/stl"};if(p("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(p("!<arch>"))return await fe.ignore(8),await fe.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(v([137,80,78,71,13,10,26,10])){await fe.ignore(8);async function y(){return{length:await fe.readToken(Token.INT32_BE),type:await fe.readToken(new Token.StringType(4,"binary"))}}a(y,"readChunkHeader");do{const w=await y();if(w.length<0)return;switch(w.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await fe.ignore(w.length+4)}}while(fe.position+8<fe.fileInfo.size);return{ext:"png",mime:"image/png"}}if(v([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(v([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(v([102,114,101,101],{offset:4})||v([109,100,97,116],{offset:4})||v([109,111,111,118],{offset:4})||v([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(v([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(p("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(v([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(v([48,38,178,117,142,102,207,17,166,217])){async function y(){const w=Buffer.alloc(16);return await fe.readBuffer(w),{id:w,size:Number(await fe.readToken(Token.UINT64_LE))}}for(a(y,"readHeader"),await fe.ignore(30);fe.position+24<fe.fileInfo.size;){const w=await y();let R=w.size-24;if(_check(w.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const T=Buffer.alloc(16);if(R-=await fe.readBuffer(T),_check(T,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(T,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await fe.ignore(R)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(v([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((v([126,16,4])||v([126,24,4]))&&v([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(v([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(v([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await fe.ignore(20),await fe.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(v([255,10])||v([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(v([0,0,1,186])||v([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(v([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(v([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(v([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(v([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await fe.peekBuffer(c,{length:Math.min(256,fe.fileInfo.size),mayBeLess:!0}),p("BEGIN:")){if(p("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(p("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(p("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(p("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(p("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(v([4,0,0,0])&&c.length>=16){const y=c.readUInt32LE(12);if(y>12&&c.length>=y+16)try{const w=c.slice(16,y+16).toString();if(JSON.parse(w).files)return{ext:"asar",mime:"application/x-asar"}}catch(w){}}if(v([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(p("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(v([71],{offset:4})&&(v([71],{offset:192})||v([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(v([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(v([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(v([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(v([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(v([76,80],{offset:34})&&(v([0,0,1],{offset:8})||v([1,0,2],{offset:8})||v([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(v([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await fe.peekBuffer(c,{length:Math.min(512,fe.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(c))return{ext:"tar",mime:"application/x-tar"};if(v([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(p("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(c.length>=2&&v([255,224],{offset:0,mask:[255,224]})){if(v([16],{offset:1,mask:[22]}))return v([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(v([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(v([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(v([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}a(_fromTokenizer,"_fromTokenizer");const stream=a(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const fe=new stream.PassThrough;let c;stream.pipeline?c=stream.pipeline(readableStream,fe,()=>{}):c=readableStream.pipe(fe);const E=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const v=await fromBuffer(E);fe.fileType=v}catch(v){reject(v)}resolve(c)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(fe,c,E)=>{"use strict";const v=E(6597),p=E(1);async function y(R){const T=await v.fromFile(R);try{return await p.fromTokenizer(T)}finally{await T.close()}}a(y,"fromFile");const w={fromFile:y};Object.assign(w,p),Object.defineProperty(w,"extensions",{get(){return p.extensions}}),Object.defineProperty(w,"mimeTypes",{get(){return p.mimeTypes}}),fe.exports=w},9898:fe=>{"use strict";fe.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(fe,c)=>{"use strict";c.stringToBytes=E=>[...E].map(v=>v.charCodeAt(0)),c.tarHeaderChecksumMatches=(E,v=0)=>{const p=parseInt(E.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(p))return!1;let y=8*32;for(let w=v;w<v+148;w++)y+=E[w];for(let w=v+156;w<v+512;w++)y+=E[w];return p===y},c.uint32SyncSafeToken={get:(E,v)=>E[v+3]&127|E[v+2]<<7|E[v+1]<<14|E[v]<<21,len:4}},7360:function(fe,c){var E,v,p;(function(y,w){v=[],E=w,p=typeof E=="function"?E.apply(c,v):E,p!==void 0&&(fe.exports=p)})(this,a(function(){function w(L){var H={single:function(B,A,k){if(!B||(V(B)||(B=H.getPreparedSearch(B)),!A))return null;V(A)||(A=H.getPrepared(A));var $=k&&k.allowTypo!==void 0?k.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,te=$?H.algorithm:H.algorithmNoTypo;return te(B,A,B[0])},go:function(B,A,k){if(!B)return b;B=H.prepareSearch(B);var $=B[0],te=k&&k.threshold||L&&L.threshold||-9007199254740991,J=k&&k.limit||L&&L.limit||9007199254740991,ne=k&&k.allowTypo!==void 0?k.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,ce=ne?H.algorithm:H.algorithmNoTypo,be=0,ie=0,_e=A.length;if(k&&k.keys)for(var z=k.scoreFn||U,Ve=k.keys,Se=Ve.length,de=_e-1;de>=0;--de){for(var Z=A[de],se=new Array(Se),Te=Se-1;Te>=0;--Te){var Oe=Ve[Te],re=I(Z,Oe);if(!re){se[Te]=null;continue}V(re)||(re=H.getPrepared(re)),se[Te]=ce(B,re,$)}se.obj=Z;var Ge=z(se);Ge!==null&&(Ge<te||(se.score=Ge,be<J?(le.add(se),++be):(++ie,Ge>le.peek().score&&le.replaceTop(se))))}else if(k&&k.key)for(var Oe=k.key,de=_e-1;de>=0;--de){var Z=A[de],re=I(Z,Oe);if(!!re){V(re)||(re=H.getPrepared(re));var Xe=ce(B,re,$);Xe!==null&&(Xe.score<te||(Xe={target:Xe.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Xe.score,indexes:Xe.indexes,obj:Z},be<J?(le.add(Xe),++be):(++ie,Xe.score>le.peek().score&&le.replaceTop(Xe))))}}else for(var de=_e-1;de>=0;--de){var re=A[de];if(!!re){V(re)||(re=H.getPrepared(re));var Xe=ce(B,re,$);Xe!==null&&(Xe.score<te||(be<J?(le.add(Xe),++be):(++ie,Xe.score>le.peek().score&&le.replaceTop(Xe))))}}if(be===0)return b;for(var st=new Array(be),de=be-1;de>=0;--de)st[de]=le.poll();return st.total=be+ie,st},goAsync:function(B,A,k){var $=!1,te=new Promise(function(J,ne){if(!B)return J(b);B=H.prepareSearch(B);var ce=B[0],be=j(),ie=A.length-1,_e=k&&k.threshold||L&&L.threshold||-9007199254740991,z=k&&k.limit||L&&L.limit||9007199254740991,Ve=k&&k.allowTypo!==void 0?k.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,Se=Ve?H.algorithm:H.algorithmNoTypo,de=0,Z=0;function se(){if($)return ne("canceled");var Te=Date.now();if(k&&k.keys)for(var Oe=k.scoreFn||U,re=k.keys,Ge=re.length;ie>=0;--ie){for(var Xe=A[ie],st=new Array(Ge),G=Ge-1;G>=0;--G){var ee=re[G],ae=I(Xe,ee);if(!ae){st[G]=null;continue}V(ae)||(ae=H.getPrepared(ae)),st[G]=Se(B,ae,ce)}st.obj=Xe;var we=Oe(st);if(we!==null&&!(we<_e)&&(st.score=we,de<z?(be.add(st),++de):(++Z,we>be.peek().score&&be.replaceTop(st)),ie%1e3==0&&Date.now()-Te>=10)){R?setImmediate(se):setTimeout(se);return}}else if(k&&k.key)for(var ee=k.key;ie>=0;--ie){var Xe=A[ie],ae=I(Xe,ee);if(!!ae){V(ae)||(ae=H.getPrepared(ae));var Me=Se(B,ae,ce);if(Me!==null&&!(Me.score<_e)&&(Me={target:Me.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Me.score,indexes:Me.indexes,obj:Xe},de<z?(be.add(Me),++de):(++Z,Me.score>be.peek().score&&be.replaceTop(Me)),ie%1e3==0&&Date.now()-Te>=10)){R?setImmediate(se):setTimeout(se);return}}}else for(;ie>=0;--ie){var ae=A[ie];if(!!ae){V(ae)||(ae=H.getPrepared(ae));var Me=Se(B,ae,ce);if(Me!==null&&!(Me.score<_e)&&(de<z?(be.add(Me),++de):(++Z,Me.score>be.peek().score&&be.replaceTop(Me)),ie%1e3==0&&Date.now()-Te>=10)){R?setImmediate(se):setTimeout(se);return}}}if(de===0)return J(b);for(var Be=new Array(de),pe=de-1;pe>=0;--pe)Be[pe]=be.poll();Be.total=de+Z,J(Be)}a(se,"step"),R?setImmediate(se):se()});return te.cancel=function(){$=!0},te},highlight:function(B,A,k){if(B===null)return null;A===void 0&&(A="<b>"),k===void 0&&(k="</b>");for(var $="",te=0,J=!1,ne=B.target,ce=ne.length,be=B.indexes,ie=0;ie<ce;++ie){var _e=ne[ie];if(be[te]===ie){if(++te,J||(J=!0,$+=A),te===be.length){$+=_e+k+ne.substr(ie+1);break}}else J&&(J=!1,$+=k);$+=_e}return $},prepare:function(B){if(!!B)return{target:B,_targetLowerCodes:H.prepareLowerCodes(B),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(B){if(!!B)return{target:B,_targetLowerCodes:H.prepareLowerCodes(B),_nextBeginningIndexes:H.prepareNextBeginningIndexes(B),score:null,indexes:null,obj:null}},prepareSearch:function(B){if(!!B)return H.prepareLowerCodes(B)},getPrepared:function(B){if(B.length>999)return H.prepare(B);var A=T.get(B);return A!==void 0||(A=H.prepare(B),T.set(B,A)),A},getPreparedSearch:function(B){if(B.length>999)return H.prepareSearch(B);var A=d.get(B);return A!==void 0||(A=H.prepareSearch(B),d.set(B,A)),A},algorithm:function(B,A,k){for(var $=A._targetLowerCodes,te=B.length,J=$.length,ne=0,ce=0,be=0,ie=0;;){var _e=k===$[ce];if(_e){if(x[ie++]=ce,++ne,ne===te)break;k=B[be===0?ne:be===ne?ne+1:be===ne-1?ne-1:ne]}if(++ce,ce>=J)for(;;){if(ne<=1)return null;if(be===0){--ne;var z=B[ne];if(k===z)continue;be=ne}else{if(be===1)return null;--be,ne=be,k=B[ne+1];var z=B[ne];if(k===z)continue}ie=ne,ce=x[ie-1]+1;break}}var ne=0,Ve=0,Se=!1,de=0,Z=A._nextBeginningIndexes;Z===null&&(Z=A._nextBeginningIndexes=H.prepareNextBeginningIndexes(A.target));var se=ce=x[0]===0?0:Z[x[0]-1];if(ce!==J)for(;;)if(ce>=J){if(ne<=0){if(++Ve,Ve>te-2)break;if(B[Ve]===B[Ve+1])continue;ce=se;continue}--ne;var Te=_[--de];ce=Z[Te]}else{var _e=B[Ve===0?ne:Ve===ne?ne+1:Ve===ne-1?ne-1:ne]===$[ce];if(_e){if(_[de++]=ce,++ne,ne===te){Se=!0;break}++ce}else ce=Z[ce]}{if(Se)var Oe=_,re=de;else var Oe=x,re=ie;for(var Ge=0,Xe=-1,st=0;st<te;++st){var ce=Oe[st];Xe!==ce-1&&(Ge-=ce),Xe=ce}Se?Ve!==0&&(Ge+=-20):(Ge*=1e3,be!==0&&(Ge+=-20)),Ge-=J-te,A.score=Ge,A.indexes=new Array(re);for(var st=re-1;st>=0;--st)A.indexes[st]=Oe[st];return A}},algorithmNoTypo:function(B,A,k){for(var $=A._targetLowerCodes,te=B.length,J=$.length,ne=0,ce=0,be=0;;){var ie=k===$[ce];if(ie){if(x[be++]=ce,++ne,ne===te)break;k=B[ne]}if(++ce,ce>=J)return null}var ne=0,_e=!1,z=0,Ve=A._nextBeginningIndexes;Ve===null&&(Ve=A._nextBeginningIndexes=H.prepareNextBeginningIndexes(A.target));var Se=ce=x[0]===0?0:Ve[x[0]-1];if(ce!==J)for(;;)if(ce>=J){if(ne<=0)break;--ne;var de=_[--z];ce=Ve[de]}else{var ie=B[ne]===$[ce];if(ie){if(_[z++]=ce,++ne,ne===te){_e=!0;break}++ce}else ce=Ve[ce]}{if(_e)var Z=_,se=z;else var Z=x,se=be;for(var Te=0,Oe=-1,re=0;re<te;++re){var ce=Z[re];Oe!==ce-1&&(Te-=ce),Oe=ce}_e||(Te*=1e3),Te-=J-te,A.score=Te,A.indexes=new Array(se);for(var re=se-1;re>=0;--re)A.indexes[re]=Z[re];return A}},prepareLowerCodes:function(B){for(var A=B.length,k=[],$=B.toLowerCase(),te=0;te<A;++te)k[te]=$.charCodeAt(te);return k},prepareBeginningIndexes:function(B){for(var A=B.length,k=[],$=0,te=!1,J=!1,ne=0;ne<A;++ne){var ce=B.charCodeAt(ne),be=ce>=65&&ce<=90,ie=be||ce>=97&&ce<=122||ce>=48&&ce<=57,_e=be&&!te||!J||!ie;te=be,J=ie,_e&&(k[$++]=ne)}return k},prepareNextBeginningIndexes:function(B){for(var A=B.length,k=H.prepareBeginningIndexes(B),$=[],te=k[0],J=0,ne=0;ne<A;++ne)te>ne?$[ne]=te:(te=k[++J],$[ne]=te===void 0?A:te);return $},cleanup:S,new:w};return H}a(w,"fuzzysortNew");var R=typeof window=="undefined",T=new Map,d=new Map,b=[];b.total=0;var x=[],_=[];function S(){T.clear(),d.clear(),x=[],_=[]}a(S,"cleanup");function U(L){for(var H=-9007199254740991,B=L.length-1;B>=0;--B){var A=L[B];if(A!==null){var k=A.score;k>H&&(H=k)}}return H===-9007199254740991?null:H}a(U,"defaultScoreFn");function I(L,H){var B=L[H];if(B!==void 0)return B;var A=H;Array.isArray(H)||(A=H.split("."));for(var k=A.length,$=-1;L&&++$<k;)L=L[A[$]];return L}a(I,"getValue");function V(L){return typeof L=="object"}a(V,"isObj");var j=a(function(){var L=[],H=0,B={};function A(){for(var k=0,$=L[k],te=1;te<H;){var J=te+1;k=te,J<H&&L[J].score<L[te].score&&(k=J),L[k-1>>1]=L[k],te=1+(k<<1)}for(var ne=k-1>>1;k>0&&$.score<L[ne].score;ne=(k=ne)-1>>1)L[k]=L[ne];L[k]=$}return a(A,"n"),B.add=function(k){var $=H;L[H++]=k;for(var te=$-1>>1;$>0&&k.score<L[te].score;te=($=te)-1>>1)L[$]=L[te];L[$]=k},B.poll=function(){if(H!==0){var k=L[0];return L[0]=L[--H],A(),k}},B.peek=function(k){if(H!==0)return L[0]},B.replaceTop=function(k){L[0]=k,A()},B},"fastpriorityqueue"),le=j();return w()},"UMD"))},645:(fe,c)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */c.read=function(E,v,p,y,w){var R,T,d=w*8-y-1,b=(1<<d)-1,x=b>>1,_=-7,S=p?w-1:0,U=p?-1:1,I=E[v+S];for(S+=U,R=I&(1<<-_)-1,I>>=-_,_+=d;_>0;R=R*256+E[v+S],S+=U,_-=8);for(T=R&(1<<-_)-1,R>>=-_,_+=y;_>0;T=T*256+E[v+S],S+=U,_-=8);if(R===0)R=1-x;else{if(R===b)return T?NaN:(I?-1:1)*(1/0);T=T+Math.pow(2,y),R=R-x}return(I?-1:1)*T*Math.pow(2,R-y)},c.write=function(E,v,p,y,w,R){var T,d,b,x=R*8-w-1,_=(1<<x)-1,S=_>>1,U=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=y?0:R-1,V=y?1:-1,j=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(d=isNaN(v)?1:0,T=_):(T=Math.floor(Math.log(v)/Math.LN2),v*(b=Math.pow(2,-T))<1&&(T--,b*=2),T+S>=1?v+=U/b:v+=U*Math.pow(2,1-S),v*b>=2&&(T++,b/=2),T+S>=_?(d=0,T=_):T+S>=1?(d=(v*b-1)*Math.pow(2,w),T=T+S):(d=v*Math.pow(2,S-1)*Math.pow(2,w),T=0));w>=8;E[p+I]=d&255,I+=V,d/=256,w-=8);for(T=T<<w|d,x+=w;x>0;E[p+I]=T&255,I+=V,T/=256,x-=8);E[p+I-V]|=j*128}},3300:(fe,c)=>{"use strict";var E=a(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof v!="undefined")return v;throw new Error("unable to locate global object")},"getGlobal"),v=E();fe.exports=c=v.fetch,v.fetch&&(c.default=v.fetch.bind(v)),c.Headers=v.Headers,c.Request=v.Request,c.Response=v.Response},447:(fe,c,E)=>{var v=E(2479);fe.exports=v(p),fe.exports.strict=v(y),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return y(this)},configurable:!0})});function p(w){var R=a(function(){return R.called?R.value:(R.called=!0,R.value=w.apply(this,arguments))},"f");return R.called=!1,R}a(p,"once");function y(w){var R=a(function(){if(R.called)throw new Error(R.onceError);return R.called=!0,R.value=w.apply(this,arguments)},"f"),T=w.name||"Function wrapped with `once`";return R.onceError=T+" shouldn't be called more than once",R.called=!1,R}a(y,"onceStrict")},6470:(fe,c,E)=>{"use strict";var v=E(4155);function p(T){if(typeof T!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}a(p,"assertPath");function y(T,d){for(var b="",x=0,_=-1,S=0,U,I=0;I<=T.length;++I){if(I<T.length)U=T.charCodeAt(I);else{if(U===47)break;U=47}if(U===47){if(!(_===I-1||S===1))if(_!==I-1&&S===2){if(b.length<2||x!==2||b.charCodeAt(b.length-1)!==46||b.charCodeAt(b.length-2)!==46){if(b.length>2){var V=b.lastIndexOf("/");if(V!==b.length-1){V===-1?(b="",x=0):(b=b.slice(0,V),x=b.length-1-b.lastIndexOf("/")),_=I,S=0;continue}}else if(b.length===2||b.length===1){b="",x=0,_=I,S=0;continue}}d&&(b.length>0?b+="/..":b="..",x=2)}else b.length>0?b+="/"+T.slice(_+1,I):b=T.slice(_+1,I),x=I-_-1;_=I,S=0}else U===46&&S!==-1?++S:S=-1}return b}a(y,"normalizeStringPosix");function w(T,d){var b=d.dir||d.root,x=d.base||(d.name||"")+(d.ext||"");return b?b===d.root?b+x:b+T+x:x}a(w,"_format");var R={resolve:a(function(){for(var d="",b=!1,x,_=arguments.length-1;_>=-1&&!b;_--){var S;_>=0?S=arguments[_]:(x===void 0&&(x=v.cwd()),S=x),p(S),S.length!==0&&(d=S+"/"+d,b=S.charCodeAt(0)===47)}return d=y(d,!b),b?d.length>0?"/"+d:"/":d.length>0?d:"."},"resolve"),normalize:a(function(d){if(p(d),d.length===0)return".";var b=d.charCodeAt(0)===47,x=d.charCodeAt(d.length-1)===47;return d=y(d,!b),d.length===0&&!b&&(d="."),d.length>0&&x&&(d+="/"),b?"/"+d:d},"normalize"),isAbsolute:a(function(d){return p(d),d.length>0&&d.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var d,b=0;b<arguments.length;++b){var x=arguments[b];p(x),x.length>0&&(d===void 0?d=x:d+="/"+x)}return d===void 0?".":R.normalize(d)},"join"),relative:a(function(d,b){if(p(d),p(b),d===b||(d=R.resolve(d),b=R.resolve(b),d===b))return"";for(var x=1;x<d.length&&d.charCodeAt(x)===47;++x);for(var _=d.length,S=_-x,U=1;U<b.length&&b.charCodeAt(U)===47;++U);for(var I=b.length,V=I-U,j=S<V?S:V,le=-1,L=0;L<=j;++L){if(L===j){if(V>j){if(b.charCodeAt(U+L)===47)return b.slice(U+L+1);if(L===0)return b.slice(U+L)}else S>j&&(d.charCodeAt(x+L)===47?le=L:L===0&&(le=0));break}var H=d.charCodeAt(x+L),B=b.charCodeAt(U+L);if(H!==B)break;H===47&&(le=L)}var A="";for(L=x+le+1;L<=_;++L)(L===_||d.charCodeAt(L)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+b.slice(U+le):(U+=le,b.charCodeAt(U)===47&&++U,b.slice(U))},"relative"),_makeLong:a(function(d){return d},"_makeLong"),dirname:a(function(d){if(p(d),d.length===0)return".";for(var b=d.charCodeAt(0),x=b===47,_=-1,S=!0,U=d.length-1;U>=1;--U)if(b=d.charCodeAt(U),b===47){if(!S){_=U;break}}else S=!1;return _===-1?x?"/":".":x&&_===1?"//":d.slice(0,_)},"dirname"),basename:a(function(d,b){if(b!==void 0&&typeof b!="string")throw new TypeError('"ext" argument must be a string');p(d);var x=0,_=-1,S=!0,U;if(b!==void 0&&b.length>0&&b.length<=d.length){if(b.length===d.length&&b===d)return"";var I=b.length-1,V=-1;for(U=d.length-1;U>=0;--U){var j=d.charCodeAt(U);if(j===47){if(!S){x=U+1;break}}else V===-1&&(S=!1,V=U+1),I>=0&&(j===b.charCodeAt(I)?--I==-1&&(_=U):(I=-1,_=V))}return x===_?_=V:_===-1&&(_=d.length),d.slice(x,_)}else{for(U=d.length-1;U>=0;--U)if(d.charCodeAt(U)===47){if(!S){x=U+1;break}}else _===-1&&(S=!1,_=U+1);return _===-1?"":d.slice(x,_)}},"basename"),extname:a(function(d){p(d);for(var b=-1,x=0,_=-1,S=!0,U=0,I=d.length-1;I>=0;--I){var V=d.charCodeAt(I);if(V===47){if(!S){x=I+1;break}continue}_===-1&&(S=!1,_=I+1),V===46?b===-1?b=I:U!==1&&(U=1):b!==-1&&(U=-1)}return b===-1||_===-1||U===0||U===1&&b===_-1&&b===x+1?"":d.slice(b,_)},"extname"),format:a(function(d){if(d===null||typeof d!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof d);return w("/",d)},"format"),parse:a(function(d){p(d);var b={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return b;var x=d.charCodeAt(0),_=x===47,S;_?(b.root="/",S=1):S=0;for(var U=-1,I=0,V=-1,j=!0,le=d.length-1,L=0;le>=S;--le){if(x=d.charCodeAt(le),x===47){if(!j){I=le+1;break}continue}V===-1&&(j=!1,V=le+1),x===46?U===-1?U=le:L!==1&&(L=1):U!==-1&&(L=-1)}return U===-1||V===-1||L===0||L===1&&U===V-1&&U===I+1?V!==-1&&(I===0&&_?b.base=b.name=d.slice(1,V):b.base=b.name=d.slice(I,V)):(I===0&&_?(b.name=d.slice(1,U),b.base=d.slice(1,V)):(b.name=d.slice(I,U),b.base=d.slice(I,V)),b.ext=d.slice(U,V)),I>0?b.dir=d.slice(0,I-1):_&&(b.dir="/"),b},"parse"),sep:"/",delimiter:":",win32:null,posix:null};R.posix=R,fe.exports=R},8985:(fe,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Deferred=void 0;class E{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((p,y)=>{this.reject=y,this.resolve=p})}}a(E,"Deferred"),c.Deferred=E},7279:(fe,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EndOfStreamError=c.defaultMessages=void 0,c.defaultMessages="End-Of-Stream";class E extends Error{constructor(){super(c.defaultMessages)}}a(E,"EndOfStreamError"),c.EndOfStreamError=E},6654:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StreamReader=c.EndOfStreamError=void 0;const v=E(7279),p=E(8985);var y=E(7279);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return y.EndOfStreamError}});const w=1*1024*1024;class R{constructor(d){if(this.s=d,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!d.read||!d.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new v.EndOfStreamError)),this.s.once("error",b=>this.reject(b)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(d,b,x){const _=await this.read(d,b,x);return this.peekQueue.push(d.subarray(b,b+_)),_}async read(d,b,x){if(x===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new v.EndOfStreamError;let _=x,S=0;for(;this.peekQueue.length>0&&_>0;){const U=this.peekQueue.pop();if(!U)throw new Error("peekData should be defined");const I=Math.min(U.length,_);d.set(U.subarray(0,I),b+S),S+=I,_-=I,I<U.length&&this.peekQueue.push(U.subarray(I))}for(;_>0&&!this.endOfStream;){const U=Math.min(_,w),I=await this.readFromStream(d,b+S,U);if(S+=I,I<U)break;_-=I}return S}async readFromStream(d,b,x){const _=this.s.read(x);if(_)return d.set(_,b),_.length;{const S={buffer:d,offset:b,length:x,deferred:new p.Deferred};return this.deferred=S.deferred,this.s.once("readable",()=>{this.readDeferred(S)}),S.deferred.promise}}readDeferred(d){const b=this.s.read(d.length);b?(d.buffer.set(b,d.offset),d.deferred.resolve(b.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(d)})}reject(d){this.endOfStream=!0,this.deferred&&(this.deferred.reject(d),this.deferred=null)}}a(R,"StreamReader"),c.StreamReader=R},5167:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StreamReader=c.EndOfStreamError=void 0;var v=E(7279);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return v.EndOfStreamError}});var p=E(6654);Object.defineProperty(c,"StreamReader",{enumerable:!0,get:function(){return p.StreamReader}})},4155:fe=>{var c=fe.exports={},E,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function y(){throw new Error("clearTimeout has not been defined")}a(y,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=p}catch(V){E=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=y}catch(V){v=y}}();function w(V){if(E===setTimeout)return setTimeout(V,0);if((E===p||!E)&&setTimeout)return E=setTimeout,setTimeout(V,0);try{return E(V,0)}catch(j){try{return E.call(null,V,0)}catch(le){return E.call(this,V,0)}}}a(w,"runTimeout");function R(V){if(v===clearTimeout)return clearTimeout(V);if((v===y||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(V);try{return v(V)}catch(j){try{return v.call(null,V)}catch(le){return v.call(this,V)}}}a(R,"runClearTimeout");var T=[],d=!1,b,x=-1;function _(){!d||!b||(d=!1,b.length?T=b.concat(T):x=-1,T.length&&S())}a(_,"cleanUpNextTick");function S(){if(!d){var V=w(_);d=!0;for(var j=T.length;j;){for(b=T,T=[];++x<j;)b&&b[x].run();x=-1,j=T.length}b=null,d=!1,R(V)}}a(S,"drainQueue"),c.nextTick=function(V){var j=new Array(arguments.length-1);if(arguments.length>1)for(var le=1;le<arguments.length;le++)j[le-1]=arguments[le];T.push(new U(V,j)),T.length===1&&!d&&w(S)};function U(V,j){this.fun=V,this.array=j}a(U,"Item"),U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={};function I(){}a(I,"noop"),c.on=I,c.addListener=I,c.once=I,c.off=I,c.removeListener=I,c.removeAllListeners=I,c.emit=I,c.prependListener=I,c.prependOnceListener=I,c.listeners=function(V){return[]},c.binding=function(V){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(V){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},842:(fe,c,E)=>{"use strict";var v=E(8764).Buffer;Object.defineProperty(c,"__esModule",{value:!0}),c.AbstractTokenizer=void 0;const p=E(5167);class y{constructor(R){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=R||{}}async readToken(R,T=this.position){const d=v.alloc(R.len);if(await this.readBuffer(d,{position:T})<R.len)throw new p.EndOfStreamError;return R.get(d,0)}async peekToken(R,T=this.position){const d=v.alloc(R.len);if(await this.peekBuffer(d,{position:T})<R.len)throw new p.EndOfStreamError;return R.get(d,0)}async readNumber(R){if(await this.readBuffer(this.numBuffer,{length:R.len})<R.len)throw new p.EndOfStreamError;return R.get(this.numBuffer,0)}async peekNumber(R){if(await this.peekBuffer(this.numBuffer,{length:R.len})<R.len)throw new p.EndOfStreamError;return R.get(this.numBuffer,0)}async ignore(R){if(this.fileInfo.size!==void 0){const T=this.fileInfo.size-this.position;if(R>T)return this.position+=T,T}return this.position+=R,R}async close(){}normalizeOptions(R,T){if(T&&T.position!==void 0&&T.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return T?{mayBeLess:T.mayBeLess===!0,offset:T.offset?T.offset:0,length:T.length?T.length:R.length-(T.offset?T.offset:0),position:T.position?T.position:this.position}:{mayBeLess:!1,offset:0,length:R.length,position:this.position}}}a(y,"AbstractTokenizer"),c.AbstractTokenizer=y},778:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BufferTokenizer=void 0;const v=E(5167),p=E(842);class y extends p.AbstractTokenizer{constructor(R,T){super(T);this.uint8Array=R,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:R.length}async readBuffer(R,T){if(T&&T.position){if(T.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=T.position}const d=await this.peekBuffer(R,T);return this.position+=d,d}async peekBuffer(R,T){const d=this.normalizeOptions(R,T),b=Math.min(this.uint8Array.length-d.position,d.length);if(!d.mayBeLess&&b<d.length)throw new v.EndOfStreamError;return R.set(this.uint8Array.subarray(d.position,d.position+b),d.offset),b}async close(){}}a(y,"BufferTokenizer"),c.BufferTokenizer=y},7859:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromFile=c.FileTokenizer=void 0;const v=E(842),p=E(5167),y=E(7209);class w extends v.AbstractTokenizer{constructor(d,b){super(b);this.fd=d}async readBuffer(d,b){const x=this.normalizeOptions(d,b);this.position=x.position;const _=await y.read(this.fd,d,x.offset,x.length,x.position);if(this.position+=_.bytesRead,_.bytesRead<x.length&&(!b||!b.mayBeLess))throw new p.EndOfStreamError;return _.bytesRead}async peekBuffer(d,b){const x=this.normalizeOptions(d,b),_=await y.read(this.fd,d,x.offset,x.length,x.position);if(!x.mayBeLess&&_.bytesRead<x.length)throw new p.EndOfStreamError;return _.bytesRead}async close(){return y.close(this.fd)}}a(w,"FileTokenizer"),c.FileTokenizer=w;async function R(T){const d=await y.stat(T);if(!d.isFile)throw new Error(`File not a file: ${T}`);const b=await y.open(T,"r");return new w(b,{path:T,size:d.size})}a(R,"fromFile"),c.fromFile=R},7209:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.readFile=c.writeFileSync=c.writeFile=c.read=c.open=c.close=c.stat=c.createReadStream=c.pathExists=void 0;const v=E(4059);c.pathExists=v.existsSync,c.createReadStream=v.createReadStream;async function p(x){return new Promise((_,S)=>{v.stat(x,(U,I)=>{U?S(U):_(I)})})}a(p,"stat"),c.stat=p;async function y(x){return new Promise((_,S)=>{v.close(x,U=>{U?S(U):_()})})}a(y,"close"),c.close=y;async function w(x,_){return new Promise((S,U)=>{v.open(x,_,(I,V)=>{I?U(I):S(V)})})}a(w,"open"),c.open=w;async function R(x,_,S,U,I){return new Promise((V,j)=>{v.read(x,_,S,U,I,(le,L,H)=>{le?j(le):V({bytesRead:L,buffer:H})})})}a(R,"read"),c.read=R;async function T(x,_){return new Promise((S,U)=>{v.writeFile(x,_,I=>{I?U(I):S()})})}a(T,"writeFile"),c.writeFile=T;function d(x,_){v.writeFileSync(x,_)}a(d,"writeFileSync"),c.writeFileSync=d;async function b(x){return new Promise((_,S)=>{v.readFile(x,(U,I)=>{U?S(U):_(I)})})}a(b,"readFile"),c.readFile=b},599:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ReadStreamTokenizer=void 0;const v=E(842),p=E(5167),y=256e3;class w extends v.AbstractTokenizer{constructor(T,d){super(d);this.streamReader=new p.StreamReader(T)}async getFileInfo(){return this.fileInfo}async readBuffer(T,d){const b=this.normalizeOptions(T,d),x=b.position-this.position;if(x>0)return await this.ignore(x),this.readBuffer(T,d);if(x<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(b.length===0)return 0;const _=await this.streamReader.read(T,b.offset,b.length);if(this.position+=_,(!d||!d.mayBeLess)&&_<b.length)throw new p.EndOfStreamError;return _}async peekBuffer(T,d){const b=this.normalizeOptions(T,d);let x=0;if(b.position){const _=b.position-this.position;if(_>0){const S=new Uint8Array(b.length+_);return x=await this.peekBuffer(S,{mayBeLess:b.mayBeLess}),T.set(S.subarray(_),b.offset),x-_}else if(_<0)throw new Error("Cannot peek from a negative offset in a stream")}if(b.length>0){try{x=await this.streamReader.peek(T,b.offset,b.length)}catch(_){if(d&&d.mayBeLess&&_ instanceof p.EndOfStreamError)return 0;throw _}if(!b.mayBeLess&&x<b.length)throw new p.EndOfStreamError}return x}async ignore(T){const d=Math.min(y,T),b=new Uint8Array(d);let x=0;for(;x<T;){const _=T-x,S=await this.readBuffer(b,{length:Math.min(d,_)});if(S<0)return S;x+=S}return x}}a(w,"ReadStreamTokenizer"),c.ReadStreamTokenizer=w},5849:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromBuffer=c.fromStream=c.EndOfStreamError=void 0;const v=E(599),p=E(778);var y=E(5167);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return y.EndOfStreamError}});function w(T,d){return d=d||{},new v.ReadStreamTokenizer(T,d)}a(w,"fromStream"),c.fromStream=w;function R(T,d){return new p.BufferTokenizer(T,d)}a(R,"fromBuffer"),c.fromBuffer=R},6597:(fe,c,E)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromStream=c.fromBuffer=c.EndOfStreamError=c.fromFile=void 0;const v=E(7209),p=E(5849);var y=E(7859);Object.defineProperty(c,"fromFile",{enumerable:!0,get:function(){return y.fromFile}});var w=E(5849);Object.defineProperty(c,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),Object.defineProperty(c,"fromBuffer",{enumerable:!0,get:function(){return w.fromBuffer}});async function R(T,d){if(d=d||{},T.path){const b=await v.stat(T.path);d.path=T.path,d.size=b.size}return p.fromStream(T,d)}a(R,"fromStream"),c.fromStream=R},3416:(fe,c,E)=>{"use strict";var v=E(8764).Buffer;Object.defineProperty(c,"__esModule",{value:!0}),c.AnsiStringType=c.StringType=c.BufferType=c.Uint8ArrayType=c.IgnoreType=c.Float80_LE=c.Float80_BE=c.Float64_LE=c.Float64_BE=c.Float32_LE=c.Float32_BE=c.Float16_LE=c.Float16_BE=c.INT64_BE=c.UINT64_BE=c.INT64_LE=c.UINT64_LE=c.INT32_LE=c.INT32_BE=c.INT24_BE=c.INT24_LE=c.INT16_LE=c.INT16_BE=c.INT8=c.UINT32_BE=c.UINT32_LE=c.UINT24_BE=c.UINT24_LE=c.UINT16_BE=c.UINT16_LE=c.UINT8=void 0;const p=E(645);function y(x){return new DataView(x.buffer,x.byteOffset)}a(y,"dv"),c.UINT8={len:1,get(x,_){return y(x).getUint8(_)},put(x,_,S){return y(x).setUint8(_,S),_+1}},c.UINT16_LE={len:2,get(x,_){return y(x).getUint16(_,!0)},put(x,_,S){return y(x).setUint16(_,S,!0),_+2}},c.UINT16_BE={len:2,get(x,_){return y(x).getUint16(_)},put(x,_,S){return y(x).setUint16(_,S),_+2}},c.UINT24_LE={len:3,get(x,_){const S=y(x);return S.getUint8(_)+(S.getUint16(_+1,!0)<<8)},put(x,_,S){const U=y(x);return U.setUint8(_,S&255),U.setUint16(_+1,S>>8,!0),_+3}},c.UINT24_BE={len:3,get(x,_){const S=y(x);return(S.getUint16(_)<<8)+S.getUint8(_+2)},put(x,_,S){const U=y(x);return U.setUint16(_,S>>8),U.setUint8(_+2,S&255),_+3}},c.UINT32_LE={len:4,get(x,_){return y(x).getUint32(_,!0)},put(x,_,S){return y(x).setUint32(_,S,!0),_+4}},c.UINT32_BE={len:4,get(x,_){return y(x).getUint32(_)},put(x,_,S){return y(x).setUint32(_,S),_+4}},c.INT8={len:1,get(x,_){return y(x).getInt8(_)},put(x,_,S){return y(x).setInt8(_,S),_+2}},c.INT16_BE={len:2,get(x,_){return y(x).getInt16(_)},put(x,_,S){return y(x).setInt16(_,S),_+2}},c.INT16_LE={len:2,get(x,_){return y(x).getInt16(_,!0)},put(x,_,S){return y(x).setInt16(_,S,!0),_+2}},c.INT24_LE={len:3,get(x,_){const S=c.UINT24_LE.get(x,_);return S>8388607?S-16777216:S},put(x,_,S){const U=y(x);return U.setUint8(_,S&255),U.setUint16(_+1,S>>8,!0),_+3}},c.INT24_BE={len:3,get(x,_){const S=c.UINT24_BE.get(x,_);return S>8388607?S-16777216:S},put(x,_,S){const U=y(x);return U.setUint16(_,S>>8),U.setUint8(_+2,S&255),_+3}},c.INT32_BE={len:4,get(x,_){return y(x).getInt32(_)},put(x,_,S){return y(x).setInt32(_,S),_+4}},c.INT32_LE={len:4,get(x,_){return y(x).getInt32(_,!0)},put(x,_,S){return y(x).setInt32(_,S,!0),_+4}},c.UINT64_LE={len:8,get(x,_){return y(x).getBigUint64(_,!0)},put(x,_,S){return y(x).setBigUint64(_,S,!0),_+8}},c.INT64_LE={len:8,get(x,_){return y(x).getBigInt64(_,!0)},put(x,_,S){return y(x).setBigInt64(_,S,!0),_+8}},c.UINT64_BE={len:8,get(x,_){return y(x).getBigUint64(_)},put(x,_,S){return y(x).setBigUint64(_,S),_+8}},c.INT64_BE={len:8,get(x,_){return y(x).getBigInt64(_)},put(x,_,S){return y(x).setBigInt64(_,S),_+8}},c.Float16_BE={len:2,get(x,_){return p.read(x,_,!1,10,this.len)},put(x,_,S){return p.write(x,S,_,!1,10,this.len),_+this.len}},c.Float16_LE={len:2,get(x,_){return p.read(x,_,!0,10,this.len)},put(x,_,S){return p.write(x,S,_,!0,10,this.len),_+this.len}},c.Float32_BE={len:4,get(x,_){return y(x).getFloat32(_)},put(x,_,S){return y(x).setFloat32(_,S),_+4}},c.Float32_LE={len:4,get(x,_){return y(x).getFloat32(_,!0)},put(x,_,S){return y(x).setFloat32(_,S,!0),_+4}},c.Float64_BE={len:8,get(x,_){return y(x).getFloat64(_)},put(x,_,S){return y(x).setFloat64(_,S),_+8}},c.Float64_LE={len:8,get(x,_){return y(x).getFloat64(_,!0)},put(x,_,S){return y(x).setFloat64(_,S,!0),_+8}},c.Float80_BE={len:10,get(x,_){return p.read(x,_,!1,63,this.len)},put(x,_,S){return p.write(x,S,_,!1,63,this.len),_+this.len}},c.Float80_LE={len:10,get(x,_){return p.read(x,_,!0,63,this.len)},put(x,_,S){return p.write(x,S,_,!0,63,this.len),_+this.len}};class w{constructor(_){this.len=_}get(_,S){}}a(w,"IgnoreType"),c.IgnoreType=w;class R{constructor(_){this.len=_}get(_,S){return _.subarray(S,S+this.len)}}a(R,"Uint8ArrayType"),c.Uint8ArrayType=R;class T{constructor(_){this.len=_}get(_,S){return v.from(_.subarray(S,S+this.len))}}a(T,"BufferType"),c.BufferType=T;class d{constructor(_,S){this.len=_,this.encoding=S}get(_,S){return v.from(_).toString(this.encoding,S,S+this.len)}}a(d,"StringType"),c.StringType=d;class b{constructor(_){this.len=_}static decode(_,S,U){let I="";for(let V=S;V<U;++V)I+=b.codePointToString(b.singleByteDecoder(_[V]));return I}static inRange(_,S,U){return S<=_&&_<=U}static codePointToString(_){return _<=65535?String.fromCharCode(_):(_-=65536,String.fromCharCode((_>>10)+55296,(_&1023)+56320))}static singleByteDecoder(_){if(b.inRange(_,0,127))return _;const S=b.windows1252[_-128];if(S===null)throw Error("invaliding encoding");return S}get(_,S=0){return b.decode(_,S,S+this.len)}}a(b,"AnsiStringType"),c.AnsiStringType=b,b.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},2479:fe=>{fe.exports=c;function c(E,v){if(E&&v)return c(E)(v);if(typeof E!="function")throw new TypeError("need wrapper function");return Object.keys(E).forEach(function(y){p[y]=E[y]}),p;function p(){for(var y=new Array(arguments.length),w=0;w<y.length;w++)y[w]=arguments[w];var R=E.apply(this,y),T=y[y.length-1];return typeof R=="function"&&R!==T&&Object.keys(T).forEach(function(d){R[d]=T[d]}),R}a(p,"wrapper")}a(c,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(fe){var c=__webpack_module_cache__[fe];if(c!==void 0)return c.exports;var E=__webpack_module_cache__[fe]={id:fe,loaded:!1,exports:{}};return __webpack_modules__[fe].call(E.exports,E,E.exports,__webpack_require__),E.loaded=!0,E.exports}a(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=fe=>{var c=fe&&fe.__esModule?()=>fe.default:()=>fe;return __webpack_require__.d(c,{a:c}),c}})(),(()=>{__webpack_require__.d=(fe,c)=>{for(var E in c)__webpack_require__.o(c,E)&&!__webpack_require__.o(fe,E)&&Object.defineProperty(fe,E,{enumerable:!0,get:c[E]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(fe){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(fe,c)=>Object.prototype.hasOwnProperty.call(fe,c)})(),(()=>{__webpack_require__.r=fe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fe,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=fe=>(fe.paths=[],fe.children||(fe.children=[]),fe)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{activate:()=>Yh});var fe={};__webpack_require__.r(fe),__webpack_require__.d(fe,{max:()=>Mi,min:()=>Zi});const c=require("vscode"),E=new TextDecoder,v=new TextEncoder,p=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function y(t){const e=v.encode(t),n=new Array(e.length);for(let r=0;r<e.length;++r)n[r]=p[e[r]];return n.join("")}a(y,"encodeUtf8Hex");function w(t){const e=t.match(/(\w{2})/g);if(e===null)return"";const n=new Uint8Array(e.map(r=>parseInt(r,16)));return E.decode(n)}a(w,"decodeUtf8Hex");const R=/^[0-9a-f]{40}$/i;function T(t){return t!==void 0&&R.test(t)}a(T,"isSha");const d=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function b(t){return d.test(t)}a(b,"isValidBranchName");function x(t){return t===""||t==="~"||t==="HEAD"?t:t.endsWith("^")?`${t.substr(0,7)}^`:t.substr(0,7)}a(x,"shortenRef");const _=47;function S(t){if(t===void 0)return;const e=t.path.endsWith("/");return!e&&!t.fragment?t.toString():t.with({path:e?t.path.slice(0,-1):t.path,fragment:""}).toString()}a(S,"asKey");function U(t){if(t===void 0)return;const e=t.path.endsWith("/");return!e&&!t.query&&!t.fragment?t.toString():t.with({path:e?t.path.slice(0,-1):t.path,query:"",fragment:""}).toString()}a(U,"asFileKey");function I(t,e){return`${(e==null?void 0:e.excludeScheme)?"":`${t.scheme}-`}${t.authority}${t.path.endsWith("/")?t.path.slice(0,-1):t.path}`}a(I,"asFileStorageKey");function V(t){const e=typeof t=="string"?t:t.path;let n=0,r=-1,i=!0;for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===_){if(!i){n=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":e.slice(n,r)}a(V,"uris_basename");function j(t){const e=t.path;if(e.length===1)return"/";let n,r=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),n===_){if(!i){r=o;break}}else i=!1;return r===-1?"/":e.slice(0,r)}a(j,"dirname");function le(t){const e=t.path.lastIndexOf("/");return e===-1?t.with({path:"/"}):t.with({path:t.path.substring(0,e)})}a(le,"getParent");function L(t,e){const n=typeof e=="string"?e:e.path;return n.startsWith(t.path)?c.Uri.joinPath(t,n.substr(t.path.length)):c.Uri.joinPath(t,n)}a(L,"joinRelativePath");function H(t,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),B(t,e)&&t.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):B(t,e)&&t.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(H,"isChild");function B(t,e){if(typeof t=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const n=typeof t=="string"?t:t.path;return e.length===1||n.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===t.scheme&&e.authority===t.authority&&(e.path.length===1||t.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a(B,"uris_isDescendent");function A(t){return t&&typeof t=="object"&&"scheme"in t}a(A,"isSerializedUri");function k(t){return t.split("/").map(e=>encodeURIComponent(e)).join("/")}a(k,"encodeURIComponentExceptSlashes");var $;(function(t){t.authoritySeparator="+",t.scheme="vscode-vfs",t.baseVirtualWorkspaceUri=c.Uri.parse(`${t.scheme}://`);function e(u){const{authority:h}=u,F=h.indexOf(t.authoritySeparator);return F!==-1?h.substr(0,F):h}a(e,"getProviderId"),t.getProviderId=e;function n(u){return u.scheme!==t.scheme?u:u.with({scheme:e(u)})}a(n,"getProviderUri"),t.getProviderUri=n;function r(u,h){const F=new Map,D=c.workspace.textDocuments;if(D.length===0)return F;for(const P of D)P.uri.scheme===u&&h.some(oe=>B(P.uri,oe))&&F.set(S(P.uri),P.uri);return F}a(r,"getOpenUris"),t.getOpenUris=r;function i(u){return u.scheme===t.scheme?u:u.with({scheme:t.scheme})}a(i,"getVirtualUri"),t.getVirtualUri=i;function o(u,h){const[F,D]=u.authority.split(t.authoritySeparator);let P;if(D)try{const oe=JSON.parse(w(D));P=h?h(oe):oe}catch{}return{scheme:F,metadata:P}}a(o,"decodeAuthority"),t.decodeAuthority=o;function s(u,h){const F=h?`${t.authoritySeparator}${y(JSON.stringify(h))}`:"";return`${u}${F}`}a(s,"encodeAuthority"),t.encodeAuthority=s;function l(u){return u.authority.indexOf(t.authoritySeparator)===-1}a(l,"isCanonicalUri"),t.isCanonicalUri=l;function f(){var u,h;return(h=(u=c.workspace.workspaceFolders)==null?void 0:u.every(F=>F.uri.scheme===t.scheme))!=null?h:!1}a(f,"isVirtualWorkspace"),t.isVirtualWorkspace=f})($||($={}));var te;(function(t){t[t.Admin=100]="Admin",t[t.Maintain=40]="Maintain",t[t.WriteToPullRequest=31]="WriteToPullRequest",t[t.Write=30]="Write",t[t.Triage=20]="Triage",t[t.Read=10]="Read",t[t.None=0]="None"})(te||(te={}));var J;(function(t){t[t.Branch=0]="Branch",t[t.RemoteBranch=1]="RemoteBranch",t[t.Tag=2]="Tag",t[t.Commit=3]="Commit"})(J||(J={}));var ne;(function(t){function e(n){return n!==void 0&&n.type===ie.Active}a(e,"isActive"),t.isActive=e})(ne||(ne={}));var ce;(function(t){function e(n){const r=$.decodeAuthority(n).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:be.Latest};if(T(r.idx))return{type:be.SHA,sha:r.idx}}}a(e,"decode"),t.decode=e})(ce||(ce={}));var be;(function(t){t[t.Latest=1]="Latest",t[t.SHA=2]="SHA"})(be||(be={}));var ie;(function(t){t[t.NotIndexed=0]="NotIndexed",t[t.Indexed=1]="Indexed",t[t.Match=2]="Match",t[t.Active=3]="Active"})(ie||(ie={})),function(t){function e(n){return n!==void 0&&(n===t.Indexed||n===t.Match||n===t.Active)}a(e,"hasIndex"),t.hasIndex=e}(ie||(ie={}));var _e;(function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed",t[t.Merged=2]="Merged"})(_e||(_e={}));var z;(function(t){t[t.Changed=1]="Changed",t[t.Created=2]="Created",t[t.Deleted=3]="Deleted"})(z||(z={}));var Ve;(function(t){t.CurrentWindow="currentWindow",t.NewWindow="newWindow",t.AddToWorkspace="addToWorkspace"})(Ve||(Ve={}));var Se;(function(t){t[t.Branch=0]="Branch",t[t.Tag=1]="Tag",t[t.Commit=2]="Commit",t[t.PullRequest=3]="PullRequest",t[t.Tree=4]="Tree"})(Se||(Se={}));var de;(function(t){t[t.Abort=0]="Abort",t[t.KeepCurrent=1]="KeepCurrent",t[t.DiscardCurrent=2]="DiscardCurrent",t[t.Merge=3]="Merge"})(de||(de={}));var Z;(function(t){t[t.Repository=0]="Repository",t[t.PullRequest=1]="PullRequest",t[t.Branch=2]="Branch",t[t.Commit=3]="Commit",t[t.File=4]="File",t[t.Tag=5]="Tag"})(Z||(Z={}));var se;(function(t){t.Branch="branch",t.RemoteBranch="remoteBranch",t.PullRequestBranch="pullRequestBranch",t.PullRequestRemoteBranch="pullRequestRemoteBranch",t.Tag="tag",t.Commit="commit"})(se||(se={}));var Te;(function(t){t.None="none",t.Latest="latest",t.Match="match",t.TipPlusLatest="tip+latest"})(Te||(Te={}));var Oe;(function(t){t.Browse="browse",t.Edit="edit"})(Oe||(Oe={}));var re;(function(t){t.CommitFailedError="CommitFailedError",t.DetachedHEADError="DetachedHEADError",t.CommitToProtectedBranchError="CommitToProtectedBranchError",t.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",t.InvalidBranchNameError="InvalidBranchNameError",t.InvalidCredentialsError="InvalidCredentialsError",t.MergeConflictError="MergeConflictError",t.NothingToCommitError="NothingToCommitError",t.SyncConflictsError="SyncConflictsError",t.SyncOrFetchError="SyncOrFetchError",t.UnresolvedConflictsError="UnresolvedConflictsError",t.InvalidRepositoryError="InvalidRepositoryError",t.Unknown="Unknown"})(re||(re={}));class Ge extends Error{constructor(e,n,r){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=n,this.action=r}static CommitFailedError(){return new Ge("Failed to create and push commit",re.CommitFailedError)}static DetachedHEADError(e){return new Ge(e,re.DetachedHEADError)}static CommitToProtectedBranchError(e){return new Ge(e,re.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new Ge(e,re.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,n=!1){const r=n?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new Ge(r,re.InvalidBranchNameError)}static InvalidCredentialsError(e,n){return new Ge(e,re.InvalidCredentialsError,n)}static MergeConflictError(e){return new Ge(e,re.MergeConflictError)}static NothingToCommitError(e){return new Ge(e,re.NothingToCommitError)}static SyncOrFetchError(e=!1){const n=e?"Unable to sync the repository":"Unable to fetch the repository";return new Ge(n,re.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new Ge(e,re.SyncConflictsError)}static UnresolvedConflictsError(){return new Ge("You have unresolved merge conflicts.",re.UnresolvedConflictsError)}static InvalidRepositoryError(){return new Ge("The current repository is invalid",re.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:re.Unknown}}a(Ge,"VirtualProviderError");const Xe=6;var st;(function(t){t.Off="off",t.Auto="auto",t.Always="always"})(st||(st={}));var G;(function(t){t.None="none",t.Latest="latest",t.Match="match",t.TipPlusLatest="tip+latest"})(G||(G={})),function(t){function e(n){return n===t.None||n===t.Latest||n===t.Match||n===t.TipPlusLatest?n:t.None}a(e,"sanitize"),t.sanitize=e}(G||(G={}));var ee;(function(t){t.Browse="browse",t.Edit="edit"})(ee||(ee={})),function(t){function e(r){return r===t.Browse||r===t.Edit?r:t.Edit}a(e,"sanitize"),t.sanitize=e;function n(r){return r===t.Browse?t.Edit:t.Browse}a(n,"toggle"),t.toggle=n}(ee||(ee={}));var ae;(function(t){function e(n,r){return n.display===r.display&&n.index===r.index}a(e,"equals"),t.equals=e})(ae||(ae={}));var we;(function(t){const e=new Map([[se.Branch,G.None],[se.RemoteBranch,G.None],[se.PullRequestBranch,G.Match],[se.PullRequestRemoteBranch,G.Match],[se.Commit,G.Match],[se.Tag,G.Match]]),n=new Map([[se.Branch,ee.Edit],[se.RemoteBranch,ee.Edit],[se.PullRequestBranch,ee.Browse],[se.PullRequestRemoteBranch,ee.Browse],[se.Commit,ee.Browse],[se.Tag,ee.Browse]]);function r(o){var s,l;return{display:(s=n.get(o))!=null?s:ee.Edit,index:(l=e.get(o))!=null?l:G.None}}a(r,"getDefault"),t.getDefault=r;function i(o){switch(o){case se.Branch:case se.RemoteBranch:return{display:ee.Browse,index:G.Latest};case se.PullRequestBranch:case se.PullRequestRemoteBranch:return{display:ee.Browse,index:G.Match};case se.Commit:case se.Tag:return{display:ee.Browse,index:G.Match};default:return{display:ee.Edit,index:G.None}}}a(i,"getIndexDefault"),t.getIndexDefault=i})(we||(we={}));const Me=null;var Be=__webpack_require__(5179),pe=__webpack_require__.n(Be);const De="modes",ke="indexMemento";class Ze{constructor(){this._onDidChange=new c.EventEmitter,this._onDidChangeAny=new c.EventEmitter,this.memoryState=new Map}static configure(e,n){Ne.configPrefix=e,Ne.state=n.workspaceState,n.subscriptions.push(c.workspace.onDidChangeConfiguration(Ne.onConfigurationChanged,Ne))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(De),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const n of this.memoryState.entries())this.modes[n[0]]=n[1];this._state.update(De,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(ke),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,n,r){const i=this.inspect(e,n);return i===void 0&&r!==void 0?r:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,n,r){return r===void 0?c.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,n).get(e===void 0?this.configPrefix:e):c.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,n).get(e===void 0?this.configPrefix:e,r)}getMode(e,n,r){var i;const o=e.toString();let s=this.modes!==void 0?this.modes[o]:void 0;if(s!==void 0)return{display:ee.sanitize(s.display),index:G.sanitize(s.index)};if(s=this.memoryState.get(o),s!==void 0)return s;if(n===se.Branch||n===se.RemoteBranch)switch((i=c.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:ee.Edit,index:G.None};case"latest":return{display:ee.Browse,index:G.Latest};case"tipPlusLatest":return{display:ee.Edit,index:G.TipPlusLatest}}if(!r)return we.getDefault(n)}setMode(e,n){const r=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,n),Promise.resolve()):(this.modes[r]=n,this._state.update(De,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,n){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=n,this._state.update(ke,this.indexMemento))}getAny(e,n,r){return r===void 0?c.workspace.getConfiguration(void 0,n).get(e):c.workspace.getConfiguration(void 0,n).get(e,r)}changed(e,n,r){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${n}`,r))!=null?i:!0}inspect(e,n){return c.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,n).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,n){return c.workspace.getConfiguration(void 0,n).inspect(e)}async migrate(e,n,r){const i=Ne.inspect(e);if(i===void 0)return!1;let o=!1;return i.globalValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,c.ConfigurationTarget.Global),o=!0),i.workspaceValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,c.ConfigurationTarget.Workspace),o=!0),i.workspaceFolderValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,c.ConfigurationTarget.WorkspaceFolder),o=!0),!o&&r.fallbackValue!==void 0&&(await this.update(n,r.fallbackValue,c.ConfigurationTarget.Global),o=!0),o}async migrateIfMissing(e,n,r){const i=Ne.inspect(e);if(i===void 0)return;const o=Ne.inspect(n);i.globalValue!==void 0&&(o===void 0||o.globalValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,c.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(o===void 0||o.workspaceValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,c.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(o===void 0||o.workspaceFolderValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,c.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,n,r){return c.workspace.getConfiguration(this.configPrefix).update(e,n,r)}updateAny(e,n,r,i){return c.workspace.getConfiguration(void 0,r===c.ConfigurationTarget.Global?void 0:i).update(e,n,r)}updateEffective(e,n){const r=Ne.inspect(e);return r.workspaceFolderValue!==void 0?n===r.workspaceFolderValue?Promise.resolve(void 0):Ne.update(e,n,c.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?n===r.workspaceValue?Promise.resolve(void 0):Ne.update(e,n,c.ConfigurationTarget.Workspace):r.globalValue===n||r.globalValue===void 0&&n===r.defaultValue?Promise.resolve(void 0):Ne.update(e,pe()(n,r.defaultValue)?void 0:n,c.ConfigurationTarget.Global)}}a(Ze,"Configuration");const Ne=new Ze,He="";var et;(function(t){t.Off="off",t.Error="error",t.Warn="warn",t.Info="info",t.Debug="debug"})(et||(et={}));var lt;(function(t){t[t.Off=0]="Off",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug"})(lt||(lt={}));const Ie="[RemoteHub]",Q=a(class{static configure(t,e,n){this._isDebugging=t.extensionMode===c.ExtensionMode.Development,this.outputChannelName=e,this.logLevel=n}static enabled(t){return this.level>=this.toOrderedLevel(t)}static get logLevel(){return this._logLevel}static set logLevel(t){var e,n;this._logLevel=t,this.level=this.toOrderedLevel(t),t===et.Off?((e=this.output)==null||e.dispose(),this.output=void 0):this.output=(n=this.output)!=null?n:c.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(t){switch(t){case et.Off:return 0;case et.Error:return 1;case et.Warn:return 2;case et.Info:return 3;case et.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(t,...e){Q.isDebugging&&console.log(this.timestamp,Ie,t!=null?t:He,...e),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:He}${this.toLoggableParams(!0,e)}`)}static error(t,e,...n){if(!(this.level<1&&!Q.isDebugging)){if(e===void 0){const r=t instanceof Error?t.stack:void 0;if(r){const i=/.*\s*?at\s(.+?)\s/.exec(r);i!==null&&(e=i[1])}}Q.isDebugging&&console.error(this.timestamp,Ie,e!=null?e:He,...n,t),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:He}${this.toLoggableParams(!1,n)}
${String(t)}`)}}static log(t,...e){Q.isDebugging&&console.log(this.timestamp,Ie,t!=null?t:He,...e),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:He}${this.toLoggableParams(!1,e)}`)}static warn(t,...e){Q.isDebugging&&console.warn(this.timestamp,Ie,t!=null?t:He,...e),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:He}${this.toLoggableParams(!1,e)}`)}static showOutputChannel(){var t;(t=this.output)==null||t.show()}static toLoggable(t,e){if(typeof t!="object")return String(t);if(t instanceof c.Uri)return`Uri(${t.toString(!0)})`;try{return JSON.stringify(t,e)}catch{return"<error>"}}static toLoggableName(t){var e,n,r;let i;if(typeof t=="function"){if(t.prototype===void 0||t.prototype.constructor===void 0)return t.name;i=(e=t.prototype.constructor.name)!=null?e:He}else i=(r=(n=t.constructor)==null?void 0:n.name)!=null?r:He;const o=i.indexOf("_");return o===-1?i:i.substr(o+1)}static get timestamp(){const t=new Date;return`[${t.toISOString().replace(/T/," ").replace(/\..+/,He)}:${`00${t.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(t,e){if(e.length===0||t&&this.level<4&&!Q.isDebugging)return He;const n=e.map(r=>this.toLoggable(r)).join(", ");return n.length!==0?` \u2014 ${n}`:He}},"_Logger");let X=Q;X.level=0,X._logLevel=et.Off;class tt{constructor(e){this.provider=e,this._timeout=0,this._disposable=Ne.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const n=Ne.get("autoFetch");this._config={enabled:(e=n.enabled)!=null?e:!0,interval:n.interval*1e3}}return this._config}onConfigurationChanged(e){!Ne.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await c.window.withProgress({location:c.ProgressLocation.SourceControl},async()=>{for(const n of e)try{await this.provider.fetch(n.uri)}catch(r){X.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(tt,"AutoFetchService");function Kt(){}a(Kt,"Diff"),Kt.prototype={diff:a(function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var o=this;function s(he){return i?(setTimeout(function(){i(void 0,he)},0),!0):he}a(s,"done"),e=this.castInput(e),n=this.castInput(n),e=this.removeEmpty(this.tokenize(e)),n=this.removeEmpty(this.tokenize(n));var l=n.length,f=e.length,u=1,h=l+f,F=[{newPos:-1,components:[]}],D=this.extractCommon(F[0],n,e,0);if(F[0].newPos+1>=l&&D+1>=f)return s([{value:this.join(n),count:n.length}]);function P(){for(var he=-1*u;he<=u;he+=2){var Le=void 0,Ae=F[he-1],Qe=F[he+1],it=(Qe?Qe.newPos:0)-he;Ae&&(F[he-1]=void 0);var $e=Ae&&Ae.newPos+1<l,ft=Qe&&0<=it&&it<f;if(!$e&&!ft){F[he]=void 0;continue}if(!$e||ft&&Ae.newPos<Qe.newPos?(Le=yn(Qe),o.pushComponent(Le.components,void 0,!0)):(Le=Ae,Le.newPos++,o.pushComponent(Le.components,!0,void 0)),it=o.extractCommon(Le,n,e,he),Le.newPos+1>=l&&it+1>=f)return s(wn(o,Le.components,n,e,o.useLongestToken));F[he]=Le}u++}if(a(P,"execEditLength"),i)a(function he(){setTimeout(function(){if(u>h)return i();P()||he()},0)},"exec")();else for(;u<=h;){var oe=P();if(oe)return oe}},"diff"),pushComponent:a(function(e,n,r){var i=e[e.length-1];i&&i.added===n&&i.removed===r?e[e.length-1]={count:i.count+1,added:n,removed:r}:e.push({count:1,added:n,removed:r})},"pushComponent"),extractCommon:a(function(e,n,r,i){for(var o=n.length,s=r.length,l=e.newPos,f=l-i,u=0;l+1<o&&f+1<s&&this.equals(n[l+1],r[f+1]);)l++,f++,u++;return u&&e.components.push({count:u}),e.newPos=l,f},"extractCommon"),equals:a(function(e,n){return this.options.comparator?this.options.comparator(e,n):e===n||this.options.ignoreCase&&e.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);return n},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function wn(t,e,n,r,i){for(var o=0,s=e.length,l=0,f=0;o<s;o++){var u=e[o];if(u.removed){if(u.value=t.join(r.slice(f,f+u.count)),f+=u.count,o&&e[o-1].added){var F=e[o-1];e[o-1]=e[o],e[o]=F}}else{if(!u.added&&i){var h=n.slice(l,l+u.count);h=h.map(function(P,oe){var he=r[f+oe];return he.length>P.length?he:P}),u.value=t.join(h)}else u.value=t.join(n.slice(l,l+u.count));l+=u.count,u.added||(f+=u.count)}}var D=e[s-1];return s>1&&typeof D.value=="string"&&(D.added||D.removed)&&t.equals("",D.value)&&(e[s-2].value+=D.value,e.pop()),e}a(wn,"buildValues");function yn(t){return{newPos:t.newPos,components:t.components.slice(0)}}a(yn,"clonePath");var O=new Kt;function g(t,e,n){return O.diff(t,e,n)}a(g,"diffChars");function m(t,e){if(typeof t=="function")e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}a(m,"generateOptions");var q=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ve=/\S/,Fe=new Kt;Fe.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!ve.test(t)&&!ve.test(e)},Fe.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&q.test(e[n])&&q.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};function me(t,e,n){return n=m(n,{ignoreWhitespace:!0}),Fe.diff(t,e,n)}a(me,"diffWords");function pt(t,e,n){return Fe.diff(t,e,n)}a(pt,"diffWordsWithSpace");var At=new Kt;At.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function Ft(t,e,n){return At.diff(t,e,n)}a(Ft,"diffLines");function Nt(t,e,n){var r=m(n,{ignoreWhitespace:!0});return At.diff(t,e,r)}a(Nt,"diffTrimmedLines");var Vt=new Kt;Vt.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};function zn(t,e,n){return Vt.diff(t,e,n)}a(zn,"diffSentences");var ar=new Kt;ar.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function mr(t,e,n){return ar.diff(t,e,n)}a(mr,"diffCss");function fr(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fr=a(function(e){return typeof e},"_typeof"):fr=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),fr(t)}a(fr,"_typeof");function er(t){return dr(t)||$r(t)||Pr(t)||qn()}a(er,"_toConsumableArray");function dr(t){if(Array.isArray(t))return Cn(t)}a(dr,"_arrayWithoutHoles");function $r(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}a($r,"_iterableToArray");function Pr(t,e){if(!!t){if(typeof t=="string")return Cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(t,e)}}a(Pr,"_unsupportedIterableToArray");function Cn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}a(Cn,"_arrayLikeToArray");function qn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(qn,"_nonIterableSpread");var br=Object.prototype.toString,Sr=new Kt;Sr.useLongestToken=!0,Sr.tokenize=At.tokenize,Sr.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(o,s){return typeof s=="undefined"?n:s}:r;return typeof t=="string"?t:JSON.stringify(Jr(t,null,null,i),i,"  ")},Sr.equals=function(t,e){return Kt.prototype.equals.call(Sr,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function hi(t,e,n){return Sr.diff(t,e,n)}a(hi,"diffJson");function Jr(t,e,n,r,i){e=e||[],n=n||[],r&&(t=r(i,t));var o;for(o=0;o<e.length;o+=1)if(e[o]===t)return n[o];var s;if(br.call(t)==="[object Array]"){for(e.push(t),s=new Array(t.length),n.push(s),o=0;o<t.length;o+=1)s[o]=Jr(t[o],e,n,r,i);return e.pop(),n.pop(),s}if(t&&t.toJSON&&(t=t.toJSON()),fr(t)==="object"&&t!==null){e.push(t),s={},n.push(s);var l=[],f;for(f in t)t.hasOwnProperty(f)&&l.push(f);for(l.sort(),o=0;o<l.length;o+=1)f=l[o],s[f]=Jr(t[f],e,n,r,f);e.pop(),n.pop()}else s=t;return s}a(Jr,"canonicalize");var or=new Kt;or.tokenize=function(t){return t.slice()},or.join=or.removeEmpty=function(t){return t};function W(t,e,n){return or.diff(t,e,n)}a(W,"diffArrays");function ye(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.split(/\r\n|[\n\v\f\r\x85]/),r=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var u={};for(i.push(u);o<n.length;){var h=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(h))break;var F=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(h);F&&(u.index=F[1]),o++}for(l(u),l(u),u.hunks=[];o<n.length;){var D=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(D))break;if(/^@@/.test(D))u.hunks.push(f());else{if(D&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(D));o++}}}a(s,"parseIndex");function l(u){var h=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(h){var F=h[1]==="---"?"old":"new",D=h[2].split("	",2),P=D[0].replace(/\\\\/g,"\\");/^".*"$/.test(P)&&(P=P.substr(1,P.length-2)),u[F+"FileName"]=P,u[F+"Header"]=(D[1]||"").trim(),o++}}a(l,"parseFileHeader");function f(){var u=o,h=n[o++],F=h.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),D={oldStart:+F[1],oldLines:typeof F[2]=="undefined"?1:+F[2],newStart:+F[3],newLines:typeof F[4]=="undefined"?1:+F[4],lines:[],linedelimiters:[]};D.oldLines===0&&(D.oldStart+=1),D.newLines===0&&(D.newStart+=1);for(var P=0,oe=0;o<n.length&&!(n[o].indexOf("--- ")===0&&o+2<n.length&&n[o+1].indexOf("+++ ")===0&&n[o+2].indexOf("@@")===0);o++){var he=n[o].length==0&&o!=n.length-1?" ":n[o][0];if(he==="+"||he==="-"||he===" "||he==="\\")D.lines.push(n[o]),D.linedelimiters.push(r[o]||`
`),he==="+"?P++:he==="-"?oe++:he===" "&&(P++,oe++);else break}if(!P&&D.newLines===1&&(D.newLines=0),!oe&&D.oldLines===1&&(D.oldLines=0),e.strict){if(P!==D.newLines)throw new Error("Added line count did not match for hunk at line "+(u+1));if(oe!==D.oldLines)throw new Error("Removed line count did not match for hunk at line "+(u+1))}return D}for(a(f,"parseHunk");o<n.length;)s();return i}a(ye,"parsePatch");function Pe(t,e,n){var r=!0,i=!1,o=!1,s=1;return a(function l(){if(r&&!o){if(i?s++:r=!1,t+s<=n)return s;o=!0}if(!i)return o||(r=!0),e<=t-s?-s++:(i=!0,l())},"iterator")}a(Pe,"distanceIterator");function ze(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=ye(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=t.split(/\r\n|[\n\v\f\r\x85]/),i=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=e.hunks,s=n.compareLine||function(Yi,di,Vi,Da){return di===Da},l=0,f=n.fuzzFactor||0,u=0,h=0,F,D;function P(Yi,di){for(var Vi=0;Vi<Yi.lines.length;Vi++){var Da=Yi.lines[Vi],ll=Da.length>0?Da[0]:" ",Vh=Da.length>0?Da.substr(1):Da;if(ll===" "||ll==="-"){if(!s(di+1,r[di],ll,Vh)&&(l++,l>f))return!1;di++}}return!0}a(P,"hunkFits");for(var oe=0;oe<o.length;oe++){for(var he=o[oe],Le=r.length-he.oldLines,Ae=0,Qe=h+he.oldStart-1,it=Pe(Qe,u,Le);Ae!==void 0;Ae=it())if(P(he,Qe+Ae)){he.offset=h+=Ae;break}if(Ae===void 0)return!1;u=he.offset+he.oldStart+he.oldLines}for(var $e=0,ft=0;ft<o.length;ft++){var It=o[ft],ct=It.oldStart+It.offset+$e-1;$e+=It.newLines-It.oldLines;for(var _t=0;_t<It.lines.length;_t++){var jt=It.lines[_t],at=jt.length>0?jt[0]:" ",$t=jt.length>0?jt.substr(1):jt,kn=It.linedelimiters[_t];if(at===" ")ct++;else if(at==="-")r.splice(ct,1),i.splice(ct,1);else if(at==="+")r.splice(ct,0,$t),i.splice(ct,0,kn),ct++;else if(at==="\\"){var Er=It.lines[_t-1]?It.lines[_t-1][0]:null;Er==="+"?F=!0:Er==="-"&&(D=!0)}}}if(F)for(;!r[r.length-1];)r.pop(),i.pop();else D&&(r.push(""),i.push(`
`));for(var vr=0;vr<r.length-1;vr++)r[vr]=r[vr]+i[vr];return r.join("")}a(ze,"applyPatch");function ot(t,e){typeof t=="string"&&(t=ye(t));var n=0;function r(){var i=t[n++];if(!i)return e.complete();e.loadFile(i,function(o,s){if(o)return e.complete(o);var l=ze(s,i,e);e.patched(i,l,function(f){if(f)return e.complete(f);r()})})}a(r,"processIndex"),r()}a(ot,"applyPatches");function nt(t,e,n,r,i,o,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var l=Ft(n,r,s);l.push({value:"",lines:[]});function f(Ae){return Ae.map(function(Qe){return" "+Qe})}a(f,"contextLines");for(var u=[],h=0,F=0,D=[],P=1,oe=1,he=a(function(Qe){var it=l[Qe],$e=it.lines||it.value.replace(/\n$/,"").split(`
`);if(it.lines=$e,it.added||it.removed){var ft;if(!h){var It=l[Qe-1];h=P,F=oe,It&&(D=s.context>0?f(It.lines.slice(-s.context)):[],h-=D.length,F-=D.length)}(ft=D).push.apply(ft,er($e.map(function(vr){return(it.added?"+":"-")+vr}))),it.added?oe+=$e.length:P+=$e.length}else{if(h)if($e.length<=s.context*2&&Qe<l.length-2){var ct;(ct=D).push.apply(ct,er(f($e)))}else{var _t,jt=Math.min($e.length,s.context);(_t=D).push.apply(_t,er(f($e.slice(0,jt))));var at={oldStart:h,oldLines:P-h+jt,newStart:F,newLines:oe-F+jt,lines:D};if(Qe>=l.length-2&&$e.length<=s.context){var $t=/\n$/.test(n),kn=/\n$/.test(r),Er=$e.length==0&&D.length>at.oldLines;!$t&&Er&&n.length>0&&D.splice(at.oldLines,0,"\\ No newline at end of file"),(!$t&&!Er||!kn)&&D.push("\\ No newline at end of file")}u.push(at),h=0,F=0,D=[]}P+=$e.length,oe+=$e.length}},"_loop"),Le=0;Le<l.length;Le++)he(Le);return{oldFileName:t,newFileName:e,oldHeader:i,newHeader:o,hunks:u}}a(nt,"structuredPatch");function wt(t){var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+(typeof t.oldHeader=="undefined"?"":"	"+t.oldHeader)),e.push("+++ "+t.newFileName+(typeof t.newHeader=="undefined"?"":"	"+t.newHeader));for(var n=0;n<t.hunks.length;n++){var r=t.hunks[n];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join(`
`)+`
`}a(wt,"formatPatch");function Rt(t,e,n,r,i,o,s){return wt(nt(t,e,n,r,i,o,s))}a(Rt,"createTwoFilesPatch");function Ut(t,e,n,r,i,o){return Rt(t,t,e,n,r,i,o)}a(Ut,"createPatch");function un(t,e){return t.length!==e.length?!1:St(t,e)}a(un,"arrayEqual");function St(t,e){if(e.length>t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}a(St,"arrayStartsWith");function qt(t){var e=Mn(t.lines),n=e.oldLines,r=e.newLines;n!==void 0?t.oldLines=n:delete t.oldLines,r!==void 0?t.newLines=r:delete t.newLines}a(qt,"calcLineCount");function Zt(t,e,n){t=Qt(t,n),e=Qt(e,n);var r={};(t.index||e.index)&&(r.index=t.index||e.index),(t.newFileName||e.newFileName)&&(kt(t)?kt(e)?(r.oldFileName=In(r,t.oldFileName,e.oldFileName),r.newFileName=In(r,t.newFileName,e.newFileName),r.oldHeader=In(r,t.oldHeader,e.oldHeader),r.newHeader=In(r,t.newHeader,e.newHeader)):(r.oldFileName=t.oldFileName,r.newFileName=t.newFileName,r.oldHeader=t.oldHeader,r.newHeader=t.newHeader):(r.oldFileName=e.oldFileName||t.oldFileName,r.newFileName=e.newFileName||t.newFileName,r.oldHeader=e.oldHeader||t.oldHeader,r.newHeader=e.newHeader||t.newHeader)),r.hunks=[];for(var i=0,o=0,s=0,l=0;i<t.hunks.length||o<e.hunks.length;){var f=t.hunks[i]||{oldStart:1/0},u=e.hunks[o]||{oldStart:1/0};if(En(f,u))r.hunks.push(hr(f,s)),i++,l+=f.newLines-f.oldLines;else if(En(u,f))r.hunks.push(hr(u,l)),o++,s+=u.newLines-u.oldLines;else{var h={oldStart:Math.min(f.oldStart,u.oldStart),oldLines:0,newStart:Math.min(f.newStart+s,u.oldStart+l),newLines:0,lines:[]};tr(h,f.oldStart,f.lines,u.oldStart,u.lines),o++,i++,r.hunks.push(h)}}return r}a(Zt,"merge");function Qt(t,e){if(typeof t=="string"){if(/^@@/m.test(t)||/^Index:/m.test(t))return ye(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return nt(void 0,void 0,e,t)}return t}a(Qt,"loadPatch");function kt(t){return t.newFileName&&t.newFileName!==t.oldFileName}a(kt,"fileNameChanged");function In(t,e,n){return e===n?e:(t.conflict=!0,{mine:e,theirs:n})}a(In,"selectField");function En(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}a(En,"hunkBefore");function hr(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}a(hr,"cloneHunk");function tr(t,e,n,r,i){var o={offset:e,lines:n,index:0},s={offset:r,lines:i,index:0};for(jn(t,o,s),jn(t,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var l=o.lines[o.index],f=s.lines[s.index];if((l[0]==="-"||l[0]==="+")&&(f[0]==="-"||f[0]==="+"))lr(t,o,s);else if(l[0]==="+"&&f[0]===" "){var u;(u=t.lines).push.apply(u,er(Xt(o)))}else if(f[0]==="+"&&l[0]===" "){var h;(h=t.lines).push.apply(h,er(Xt(s)))}else l[0]==="-"&&f[0]===" "?Kr(t,o,s):f[0]==="-"&&l[0]===" "?Kr(t,s,o,!0):l===f?(t.lines.push(l),o.index++,s.index++):Hr(t,Xt(o),Xt(s))}gi(t,o),gi(t,s),qt(t)}a(tr,"mergeLines");function lr(t,e,n){var r=Xt(e),i=Xt(n);if(Rn(r)&&Rn(i)){if(St(r,i)&&bn(n,r,r.length-i.length)){var o;(o=t.lines).push.apply(o,er(r));return}else if(St(i,r)&&bn(e,i,i.length-r.length)){var s;(s=t.lines).push.apply(s,er(i));return}}else if(un(r,i)){var l;(l=t.lines).push.apply(l,er(r));return}Hr(t,r,i)}a(lr,"mutualChange");function Kr(t,e,n,r){var i=Xt(e),o=Zn(n,i);if(o.merged){var s;(s=t.lines).push.apply(s,er(o.merged))}else Hr(t,r?o:i,r?i:o)}a(Kr,"removal");function Hr(t,e,n){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:n})}a(Hr,"conflict");function jn(t,e,n){for(;e.offset<n.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];t.lines.push(r),e.offset++}}a(jn,"insertLeading");function gi(t,e){for(;e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n)}}a(gi,"insertTrailing");function Xt(t){for(var e=[],n=t.lines[t.index][0];t.index<t.lines.length;){var r=t.lines[t.index];if(n==="-"&&r[0]==="+"&&(n="+"),n===r[0])e.push(r),t.index++;else break}return e}a(Xt,"collectChange");function Zn(t,e){for(var n=[],r=[],i=0,o=!1,s=!1;i<e.length&&t.index<t.lines.length;){var l=t.lines[t.index],f=e[i];if(f[0]==="+")break;if(o=o||l[0]!==" ",r.push(f),i++,l[0]==="+")for(s=!0;l[0]==="+";)n.push(l),l=t.lines[++t.index];f.substr(1)===l.substr(1)?(n.push(l),t.index++):s=!0}if((e[i]||"")[0]==="+"&&o&&(s=!0),s)return n;for(;i<e.length;)r.push(e[i++]);return{merged:r,changes:n}}a(Zn,"collectContext");function Rn(t){return t.reduce(function(e,n){return e&&n[0]==="-"},!0)}a(Rn,"allRemoves");function bn(t,e,n){for(var r=0;r<n;r++){var i=e[e.length-n+r].substr(1);if(t.lines[t.index+r]!==" "+i)return!1}return t.index+=n,!0}a(bn,"skipRemoveSuperset");function Mn(t){var e=0,n=0;return t.forEach(function(r){if(typeof r!="string"){var i=Mn(r.mine),o=Mn(r.theirs);e!==void 0&&(i.oldLines===o.oldLines?e+=i.oldLines:e=void 0),n!==void 0&&(i.newLines===o.newLines?n+=i.newLines:n=void 0)}else n!==void 0&&(r[0]==="+"||r[0]===" ")&&n++,e!==void 0&&(r[0]==="-"||r[0]===" ")&&e++}),{oldLines:e,newLines:n}}a(Mn,"calcOldNewLineCount");function nr(t){for(var e=[],n,r,i=0;i<t.length;i++)n=t[i],n.added?r=1:n.removed?r=-1:r=0,e.push([r,n.value]);return e}a(nr,"convertChangesToDMP");function Fr(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(qr(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")}a(Fr,"convertChangesToXML");function qr(t){var e=t;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(qr,"escapeHTML");var Ci=/[^a-zA-Z0-9]/,Ti=/\s/,Li=/[\r\n]/,fa=/\n\r?\n$/,qi=/^\r?\n\r?\n/,ht;(function(t){t[t.DIFF_DELETE=-1]="DIFF_DELETE",t[t.DIFF_INSERT=1]="DIFF_INSERT",t[t.DIFF_EQUAL=0]="DIFF_EQUAL"})(ht||(ht={}));function Zi(t,e){return t<e?t:e}a(Zi,"min");function Mi(t,e){return t>e?t:e}a(Mi,"max");var xr=fe,Nr=function(){function t(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(t,"PatchObject"),t.prototype.toString=function(){var e,n;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?n=this.start2+",0":this.length2===1?n=this.start2+1:n=this.start2+1+","+this.length2;for(var r=["@@ -"+e+" +"+n+` @@
`],i,o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case ht.DIFF_INSERT:i="+";break;case ht.DIFF_DELETE:i="-";break;case ht.DIFF_EQUAL:i=" ";break}r[o+1]=i+encodeURI(this.diffs[o][1])+`
`}return r.join("").replace(/%20/g," ")},t}(),ei=function(){function t(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(t,"DiffMatchPatch"),t.prototype.diff_main=function(e,n,r,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var o=i;if(e==null||n==null)throw new Error("Null input. (diff_main)");if(e===n)return e?[[ht.DIFF_EQUAL,e]]:[];typeof r=="undefined"&&(r=!0);var s=r,l=this.diff_commonPrefix(e,n),f=e.substring(0,l);e=e.substring(l),n=n.substring(l),l=this.diff_commonSuffix(e,n);var u=e.substring(e.length-l);e=e.substring(0,e.length-l),n=n.substring(0,n.length-l);var h=this.diff_compute_(e,n,s,o);return f&&h.unshift([ht.DIFF_EQUAL,f]),u&&h.push([ht.DIFF_EQUAL,u]),this.diff_cleanupMerge(h),h},t.prototype.diff_commonPrefix=function(e,n){if(!e||!n||e.charAt(0)!==n.charAt(0))return 0;for(var r=0,i=xr.min(e.length,n.length),o=i,s=0;r<o;)e.substring(s,o)===n.substring(s,o)?(r=o,s=r):i=o,o=Math.floor((i-r)/2+r);return o},t.prototype.diff_commonSuffix=function(e,n){if(!e||!n||e.charAt(e.length-1)!==n.charAt(n.length-1))return 0;for(var r=0,i=xr.min(e.length,n.length),o=i,s=0;r<o;)e.substring(e.length-o,e.length-s)===n.substring(n.length-o,n.length-s)?(r=o,s=r):i=o,o=Math.floor((i-r)/2+r);return o},t.prototype.diff_cleanupSemantic=function(e){for(var n=!1,r=[],i=0,o=null,s=0,l=0,f=0,u=0,h=0;s<e.length;)e[s][0]===ht.DIFF_EQUAL?(r[i++]=s,l=u,f=h,u=0,h=0,o=e[s][1]):(e[s][0]===ht.DIFF_INSERT?u+=e[s][1].length:h+=e[s][1].length,o&&o.length<=xr.max(l,f)&&o.length<=xr.max(u,h)&&(e.splice(r[i-1],0,[ht.DIFF_DELETE,o]),e[r[i-1]+1][0]=ht.DIFF_INSERT,i--,i--,s=i>0?r[i-1]:-1,l=0,f=0,u=0,h=0,o=null,n=!0)),s++;for(n&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]===ht.DIFF_DELETE&&e[s][0]===ht.DIFF_INSERT){var F=e[s-1][1],D=e[s][1],P=this.diff_commonOverlap_(F,D),oe=this.diff_commonOverlap_(D,F);P>=oe?(P>=F.length/2||P>=D.length/2)&&(e.splice(s,0,[ht.DIFF_EQUAL,D.substring(0,P)]),e[s-1][1]=F.substring(0,F.length-P),e[s+1][1]=D.substring(P),s++):(oe>=F.length/2||oe>=D.length/2)&&(e.splice(s,0,[ht.DIFF_EQUAL,F.substring(0,oe)]),e[s-1][0]=ht.DIFF_INSERT,e[s-1][1]=D.substring(0,D.length-oe),e[s+1][0]=ht.DIFF_DELETE,e[s+1][1]=F.substring(oe),s++),s++}s++}},t.prototype.diff_cleanupSemanticLossless=function(e){for(var n=1;n<e.length-1;){if(e[n-1][0]===ht.DIFF_EQUAL&&e[n+1][0]===ht.DIFF_EQUAL){var r=e[n-1][1],i=e[n][1],o=e[n+1][1],s=this.diff_commonSuffix(r,i);if(s){var l=i.substring(i.length-s);r=r.substring(0,r.length-s),i=l+i.substring(0,i.length-s),o=l+o}for(var f=r,u=i,h=o,F=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var D=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,o);D>=F&&(F=D,f=r,u=i,h=o)}e[n-1][1]!==f&&(f?e[n-1][1]=f:(e.splice(n-1,1),n--),e[n][1]=u,h?e[n+1][1]=h:(e.splice(n+1,1),n--))}n++}},t.prototype.diff_cleanupEfficiency=function(e){for(var n=!1,r=[],i=0,o=null,s=0,l=!1,f=!1,u=!1,h=!1;s<e.length;)e[s][0]===ht.DIFF_EQUAL?(e[s][1].length<this.diffEditCost&&(u||h)?(r[i++]=s,l=u,f=h,o=e[s][1]):(i=0,o=null),u=h=!1):(e[s][0]===ht.DIFF_DELETE?h=!0:u=!0,o&&(l&&f&&u&&h||o.length<this.diffEditCost/2&&Number(l)+Number(f)+Number(u)+Number(h)===3)&&(e.splice(r[i-1],0,[ht.DIFF_DELETE,o]),e[r[i-1]+1][0]=ht.DIFF_INSERT,i--,o=null,l&&f?(u=h=!0,i=0):(i--,s=i>0?r[i-1]:-1,u=h=!1),n=!0)),s++;n&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push([ht.DIFF_EQUAL,""]);for(var n=0,r=0,i=0,o="",s="",l;n<e.length;)switch(e[n][0]){case ht.DIFF_INSERT:i++,s+=e[n][1],n++;break;case ht.DIFF_DELETE:r++,o+=e[n][1],n++;break;case ht.DIFF_EQUAL:r+i>1?(r!==0&&i!==0&&(l=this.diff_commonPrefix(s,o),l!==0&&(n-r-i>0&&e[n-r-i-1][0]===ht.DIFF_EQUAL?e[n-r-i-1][1]+=s.substring(0,l):(e.splice(0,0,[ht.DIFF_EQUAL,s.substring(0,l)]),n++),s=s.substring(l),o=o.substring(l)),l=this.diff_commonSuffix(s,o),l!==0&&(e[n][1]=s.substring(s.length-l)+e[n][1],s=s.substring(0,s.length-l),o=o.substring(0,o.length-l))),n-=r+i,e.splice(n,r+i),o.length&&(e.splice(n,0,[ht.DIFF_DELETE,o]),n++),s.length&&(e.splice(n,0,[ht.DIFF_INSERT,s]),n++),n++):n!==0&&e[n-1][0]===ht.DIFF_EQUAL?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,i=0,r=0,o="",s="";break}e[e.length-1][1]===""&&e.pop();var f=!1;for(n=1;n<e.length-1;)e[n-1][0]===ht.DIFF_EQUAL&&e[n+1][0]===ht.DIFF_EQUAL&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)===e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),f=!0):e[n][1].substring(0,e[n+1][1].length)===e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),f=!0)),n++;f&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,n){var r=0,i=0,o=0,s=0,l;for(l=0;l<e.length&&(e[l][0]!==ht.DIFF_INSERT&&(r+=e[l][1].length),e[l][0]!==ht.DIFF_DELETE&&(i+=e[l][1].length),!(r>n));l++)o=r,s=i;return e.length!==l&&e[l][0]===ht.DIFF_DELETE?s:s+(n-o)},t.prototype.diff_prettyHtml=function(e){for(var n=[],r=/&/g,i=/</g,o=/>/g,s=/\n/g,l=0;l<e.length;l++){var f=e[l][0],u=e[l][1],h=u.replace(r,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(f){case ht.DIFF_INSERT:n[l]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case ht.DIFF_DELETE:n[l]='<del style="background:#ffe6e6;">'+h+"</del>";break;case ht.DIFF_EQUAL:n[l]="<span>"+h+"</span>";break}}return n.join("")},t.prototype.diff_text1=function(e){for(var n=[],r=0;r<e.length;r++)e[r][0]!==ht.DIFF_INSERT&&(n[r]=e[r][1]);return n.join("")},t.prototype.diff_text2=function(e){for(var n=[],r=0;r<e.length;r++)e[r][0]!==ht.DIFF_DELETE&&(n[r]=e[r][1]);return n.join("")},t.prototype.diff_levenshtein=function(e){for(var n=0,r=0,i=0,o=0;o<e.length;o++){var s=e[o][0],l=e[o][1];switch(s){case ht.DIFF_INSERT:r+=l.length;break;case ht.DIFF_DELETE:i+=l.length;break;case ht.DIFF_EQUAL:n+=xr.max(r,i),r=0,i=0;break}}return n+=xr.max(r,i),n},t.prototype.diff_toDelta=function(e){for(var n=[],r=0;r<e.length;r++)switch(e[r][0]){case ht.DIFF_INSERT:n[r]="+"+encodeURI(e[r][1]);break;case ht.DIFF_DELETE:n[r]="-"+e[r][1].length;break;case ht.DIFF_EQUAL:n[r]="="+e[r][1].length;break}return n.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,n){for(var r=[],i=0,o=0,s=n.split(/\t/g),l=0;l<s.length;l++){var f=s[l].substring(1);switch(s[l].charAt(0)){case"+":try{r[i++]=[ht.DIFF_INSERT,decodeURI(f)]}catch(F){throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var u=parseInt(f,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+f);var h=e.substring(o,o+=u);s[l].charAt(0)==="="?r[i++]=[ht.DIFF_EQUAL,h]:r[i++]=[ht.DIFF_DELETE,h];break;default:if(s[l])throw new Error("Invalid diff operation in diff_fromDelta: "+s[l])}}if(o!==e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+")");return r},t.prototype.diff_linesToChars=function(e,n){var r=[],i={};r[0]="";var o=this.diff_linesToCharsMunge_(e,r,i,4e4),s=this.diff_linesToCharsMunge_(n,r,i,65535);return{chars1:o,chars2:s,lineArray:r}},t.prototype.diff_charsToLines=function(e,n){for(var r=0;r<e.length;r++){for(var i=e[r][1],o=[],s=0;s<i.length;s++)o[s]=n[i.charCodeAt(s)];e[r][1]=o.join("")}},t.prototype.match_main=function(e,n,r){if(e==null||n==null||r==null)throw new Error("Null input. (match_main)");return r=xr.max(0,xr.min(r,e.length)),e===n?0:e.length?e.substring(r,r+n.length)===n?r:this.match_bitap_(e,n,r):-1},t.prototype.patch_make=function(e,n,r){var i,o;if(typeof e=="string"&&typeof n=="string"&&typeof r=="undefined")i=e,o=this.diff_main(i,n,!0),o.length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&typeof e=="object"&&typeof n=="undefined"&&typeof r=="undefined")o=e,i=this.diff_text1(o);else if(typeof e=="string"&&n&&typeof n=="object"&&typeof r=="undefined")i=e,o=n;else if(typeof e=="string"&&typeof n=="string"&&r&&typeof r=="object")i=e,o=r;else throw new Error("Unknown call format to patch_make");if(o.length===0)return[];for(var s=[],l=new Nr,f=0,u=0,h=0,F=i,D=i,P=0;P<o.length;P++){var oe=o[P][0],he=o[P][1];switch(!f&&oe!==ht.DIFF_EQUAL&&(l.start1=u,l.start2=h),oe){case ht.DIFF_INSERT:l.diffs[f++]=o[P],l.length2+=he.length,D=D.substring(0,h)+he+D.substring(h);break;case ht.DIFF_DELETE:l.length1+=he.length,l.diffs[f++]=o[P],D=D.substring(0,h)+D.substring(h+he.length);break;case ht.DIFF_EQUAL:he.length<=2*this.patchMargin&&f&&o.length!==P+1?(l.diffs[f++]=o[P],l.length1+=he.length,l.length2+=he.length):he.length>=2*this.patchMargin&&f&&(this.patch_addContext_(l,F),s.push(l),l=new Nr,f=0,F=D,u=h);break}oe!==ht.DIFF_INSERT&&(u+=he.length),oe!==ht.DIFF_DELETE&&(h+=he.length)}return f&&(this.patch_addContext_(l,F),s.push(l)),s},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){for(var i=e[r],o=new Nr,s=0;s<i.diffs.length;s++)o.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(e,n){if(e.length===0)return[n,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);n=r+n+r,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var l=e[s].start2+i,f=this.diff_text1(e[s].diffs),u=void 0,h=-1;if(f.length>this.matchMaxBits?(u=this.match_main(n,f.substring(0,this.matchMaxBits),l),u!==-1&&(h=this.match_main(n,f.substring(f.length-this.matchMaxBits),l+f.length-this.matchMaxBits),(h===-1||u>=h)&&(u=-1))):u=this.match_main(n,f,l),u===-1)o[s]=!1,i-=e[s].length2-e[s].length1;else{o[s]=!0,i=u-l;var F=void 0;if(h===-1?F=n.substring(u,u+f.length):F=n.substring(u,h+this.matchMaxBits),f===F)n=n.substring(0,u)+this.diff_text2(e[s].diffs)+n.substring(u+f.length);else{var D=this.diff_main(f,F,!1);if(f.length>this.matchMaxBits&&this.diff_levenshtein(D)/f.length>this.patchDeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(D);for(var P=0,oe=0,he=0;he<e[s].diffs.length;he++){var Le=e[s].diffs[he];Le[0]!==ht.DIFF_EQUAL&&(oe=this.diff_xIndex(D,P)),Le[0]===ht.DIFF_INSERT?n=n.substring(0,u+oe)+Le[1]+n.substring(u+oe):Le[0]===ht.DIFF_DELETE&&(n=n.substring(0,u+oe)+n.substring(u+this.diff_xIndex(D,P+Le[1].length))),Le[0]!==ht.DIFF_DELETE&&(P+=Le[1].length)}}}}}return n=n.substring(r.length,n.length-r.length),[n,o]},t.prototype.patch_addPadding=function(e){for(var n=this.patchMargin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=n,e[i].start2+=n;var o=e[0],s=o.diffs;if(s.length===0||s[0][0]!==ht.DIFF_EQUAL)s.unshift([ht.DIFF_EQUAL,r]),o.start1-=n,o.start2-=n,o.length1+=n,o.length2+=n;else if(n>s[0][1].length){var l=n-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],o.start1-=l,o.start2-=l,o.length1+=l,o.length2+=l}if(o=e[e.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==ht.DIFF_EQUAL)s.push([ht.DIFF_EQUAL,r]),o.length1+=n,o.length2+=n;else if(n>s[s.length-1][1].length){var l=n-s[s.length-1][1].length;s[s.length-1][1]+=r.substring(0,l),o.length1+=l,o.length2+=l}return r},t.prototype.patch_splitMax=function(e){for(var n=this.matchMaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=n)){var i=e[r];e.splice(r--,1);for(var o=i.start1,s=i.start2,l="";i.diffs.length!==0;){var f=new Nr,u=!0;for(f.start1=o-l.length,f.start2=s-l.length,l!==""&&(f.length1=f.length2=l.length,f.diffs.push([ht.DIFF_EQUAL,l]));i.diffs.length!==0&&f.length1<n-this.patchMargin;){var h=i.diffs[0][0],F=i.diffs[0][1];h===ht.DIFF_INSERT?(f.length2+=F.length,s+=F.length,f.diffs.push(i.diffs.shift()),u=!1):h===ht.DIFF_DELETE&&f.diffs.length===1&&f.diffs[0][0]===ht.DIFF_EQUAL&&F.length>2*n?(f.length1+=F.length,o+=F.length,u=!1,f.diffs.push([h,F]),i.diffs.shift()):(F=F.substring(0,n-f.length1-this.patchMargin),f.length1+=F.length,o+=F.length,h===ht.DIFF_EQUAL?(f.length2+=F.length,s+=F.length):u=!1,f.diffs.push([h,F]),F===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(F.length))}l=this.diff_text2(f.diffs),l=l.substring(l.length-this.patchMargin);var D=this.diff_text1(i.diffs).substring(0,this.patchMargin);D!==""&&(f.length1+=D.length,f.length2+=D.length,f.diffs.length!==0&&f.diffs[f.diffs.length-1][0]===ht.DIFF_EQUAL?f.diffs[f.diffs.length-1][1]+=D:f.diffs.push([ht.DIFF_EQUAL,D])),u||e.splice(++r,0,f)}}},t.prototype.patch_toText=function(e){for(var n=[],r=0;r<e.length;r++)n[r]=e[r];return n.join("")},t.prototype.patch_fromText=function(e){var n=[];if(!e)return n;for(var r=e.split(`
`),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var s=r[i].match(o);if(!s)throw new Error("Invalid patch string: "+r[i]);var l=new Nr;n.push(l),l.start1=parseInt(s[1],10),s[2]===""?(l.start1--,l.length1=1):s[2]==="0"?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),s[4]===""?(l.start2--,l.length2=1):s[4]==="0"?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),i++;for(var f=void 0,u=void 0,h=void 0;i<r.length;){f=r[i].charAt(0),h=r[i].substring(1);try{u=decodeURI(h)}catch(F){throw new Error("Illegal escape in patch_fromText: "+h)}if(f==="-")l.diffs.push([ht.DIFF_DELETE,u]);else if(f==="+")l.diffs.push([ht.DIFF_INSERT,u]);else if(f===" ")l.diffs.push([ht.DIFF_EQUAL,u]);else{if(f==="@")break;if(f!=="")throw new Error('Invalid patch mode "'+f+'" in: '+u)}i++}}return n},t.prototype.diff_compute_=function(e,n,r,i){var o;if(!e)return[[ht.DIFF_INSERT,n]];if(!n)return[[ht.DIFF_DELETE,e]];var s=e.length>n.length?e:n,l=e.length>n.length?n:e,f=s.indexOf(l);if(f!==-1)return o=[[ht.DIFF_INSERT,s.substring(0,f)],[ht.DIFF_EQUAL,l],[ht.DIFF_INSERT,s.substring(f+l.length)]],e.length>n.length&&(o[0][0]=ht.DIFF_DELETE,o[2][0]=ht.DIFF_DELETE),o;if(l.length===1)return[[ht.DIFF_DELETE,e],[ht.DIFF_INSERT,n]];var u=this.diff_halfMatch_(e,n);if(u){var h=u[0],F=u[1],D=u[2],P=u[3],oe=u[4],he=this.diff_main(h,D,r,i),Le=this.diff_main(F,P,r,i);return he.concat([[ht.DIFF_EQUAL,oe]],Le)}return r&&e.length>100&&n.length>100?this.diff_lineMode_(e,n,i):this.diff_bisect_(e,n,i)},t.prototype.diff_lineMode_=function(e,n,r){var i=this.diff_linesToChars(e,n);e=i.chars1,n=i.chars2;var o=i.lineArray,s=this.diff_main(e,n,!1,r);this.diff_charsToLines(s,o),this.diff_cleanupSemantic(s),s.push([ht.DIFF_EQUAL,""]);for(var l=0,f=0,u=0,h="",F="";l<s.length;){switch(s[l][0]){case ht.DIFF_INSERT:u++,F+=s[l][1];break;case ht.DIFF_DELETE:f++,h+=s[l][1];break;case ht.DIFF_EQUAL:if(f>=1&&u>=1){s.splice(l-f-u,f+u),l=l-f-u;for(var D=this.diff_main(h,F,!1,r),P=D.length-1;P>=0;P--)s.splice(l,0,D[P]);l=l+D.length}u=0,f=0,h="",F="";break}l++}return s.pop(),s},t.prototype.diff_bisect_=function(e,n,r){for(var i=e.length,o=n.length,s=Math.ceil((i+o)/2),l=s,f=2*s,u=new Array(f),h=new Array(f),F=0;F<f;F++)u[F]=-1,h[F]=-1;u[l+1]=0,h[l+1]=0;for(var D=i-o,P=D%2!=0,oe=0,he=0,Le=0,Ae=0,Qe=0;Qe<s&&!(Date.now()>r);Qe++){for(var it=-Qe+oe;it<=Qe-he;it+=2){var $e=l+it,ft=void 0;it===-Qe||it!==Qe&&u[$e-1]<u[$e+1]?ft=u[$e+1]:ft=u[$e-1]+1;for(var It=ft-it;ft<i&&It<o&&e.charAt(ft)===n.charAt(It);)ft++,It++;if(u[$e]=ft,ft>i)he+=2;else if(It>o)oe+=2;else if(P){var ct=l+D-it;if(ct>=0&&ct<f&&h[ct]!==-1){var _t=i-h[ct];if(ft>=_t)return this.diff_bisectSplit_(e,n,ft,It,r)}}}for(var jt=-Qe+Le;jt<=Qe-Ae;jt+=2){var ct=l+jt,_t=void 0;jt===-Qe||jt!==Qe&&h[ct-1]<h[ct+1]?_t=h[ct+1]:_t=h[ct-1]+1;for(var at=_t-jt;_t<i&&at<o&&e.charAt(i-_t-1)===n.charAt(o-at-1);)_t++,at++;if(h[ct]=_t,_t>i)Ae+=2;else if(at>o)Le+=2;else if(!P){var $e=l+D-jt;if($e>=0&&$e<f&&u[$e]!==-1){var ft=u[$e],It=l+ft-$e;if(_t=i-_t,ft>=_t)return this.diff_bisectSplit_(e,n,ft,It,r)}}}}return[[ht.DIFF_DELETE,e],[ht.DIFF_INSERT,n]]},t.prototype.diff_bisectSplit_=function(e,n,r,i,o){var s=e.substring(0,r),l=n.substring(0,i),f=e.substring(r),u=n.substring(i),h=this.diff_main(s,l,!1,o),F=this.diff_main(f,u,!1,o);return h.concat(F)},t.prototype.diff_linesToCharsMunge_=function(e,n,r,i){for(var o="",s=0,l=-1,f=n.length;l<e.length-1;){l=e.indexOf(`
`,s),l===-1&&(l=e.length-1);var u=e.substring(s,l+1);(r.hasOwnProperty?r.hasOwnProperty(u):r[u]!==void 0)?o+=String.fromCharCode(r[u]):(f===i&&(u=e.substring(s),l=e.length),o+=String.fromCharCode(f),r[u]=f,n[f++]=u),s=l+1}return o},t.prototype.diff_commonOverlap_=function(e,n){var r=e.length,i=n.length;if(r===0||i===0)return 0;r>i?e=e.substring(r-i):r<i&&(n=n.substring(0,r));var o=xr.min(r,i);if(e===n)return o;for(var s=0,l=1;;){var f=e.substring(o-l),u=n.indexOf(f);if(u===-1)return s;l+=u,(u===0||e.substring(o-l)===n.substring(0,l))&&(s=l,l++)}},t.prototype.diff_halfMatch_=function(e,n){if(this.diffTimeout<=0)return null;var r=e.length>n.length?e:n,i=e.length>n.length?n:e;if(r.length<4||i.length*2<r.length)return null;var o=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),s=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2)),l;if(!o&&!s)return null;s?o?l=o[4].length>s[4].length?o:s:l=s:l=o;var f,u,h,F,D=l[4];return e.length>n.length?(f=l[0],u=l[1],h=l[2],F=l[3]):(h=l[0],F=l[1],f=l[2],u=l[3]),[f,u,h,F,D]},t.prototype.diff_halfMatchI_=function(e,n,r){for(var i=e.substring(r,r+Math.floor(e.length/4)),o="",s,l,f,u,h=n.indexOf(i,0);h!==-1;){var F=this.diff_commonPrefix(e.substring(r),n.substring(h)),D=this.diff_commonSuffix(e.substring(0,r),n.substring(0,h));o.length<D+F&&(o=n.substring(h-D,h)+n.substring(h,h+F),s=e.substring(0,r-D),l=e.substring(r+F),f=n.substring(0,h-D),u=n.substring(h+F)),h=n.indexOf(i,h+1)}return o.length*2>=e.length?[s,l,f,u,o]:null},t.prototype.diff_cleanupSemanticScore_=function(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(Ci),s=i.match(Ci),l=o&&r.match(Ti),f=s&&i.match(Ti),u=l&&r.match(Li),h=f&&i.match(Li),F=u&&e.match(fa),D=h&&n.match(qi);return F||D?5:u||h?4:o&&!l&&f?3:l||f?2:o||s?1:0},t.prototype.match_bitap_=function(e,n,r){if(n.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(n),o=this.matchThreshold,s=e.indexOf(n,r);s!==-1&&(o=xr.min(this.match_bitapScore_(0,s,n,r),o),s=e.lastIndexOf(n,r+n.length),s!==-1&&(o=xr.min(this.match_bitapScore_(0,s,n,r),o)));var l=1<<n.length-1;s=-1;for(var f,u,h=n.length+e.length,F,D=0;D<n.length;D++){for(f=0,u=h;f<u;)this.match_bitapScore_(D,r+u,n,r)<=o?f=u:h=u,u=Math.floor((h-f)/2+f);h=u;var P=xr.max(1,r-u+1),oe=xr.min(r+u,e.length)+n.length,he=Array(oe+2);he[oe+1]=(1<<D)-1;for(var Le=oe;Le>=P;Le--){var Ae=i[e.charAt(Le-1)];if(D===0?he[Le]=(he[Le+1]<<1|1)&Ae:he[Le]=(he[Le+1]<<1|1)&Ae|((F[Le+1]|F[Le])<<1|1)|F[Le+1],he[Le]&l){var Qe=this.match_bitapScore_(D,Le-1,n,r);if(Qe<=o)if(o=Qe,s=Le-1,s>r)P=xr.max(1,2*r-s);else break}}if(this.match_bitapScore_(D+1,r,n,r)>o)break;F=he}return s},t.prototype.match_bitapScore_=function(e,n,r,i){var o=e/r.length,s=Math.abs(i-n);return this.matchDistance?o+s/this.matchDistance:s?1:o},t.prototype.match_alphabet_=function(e){for(var n={},r=0;r<e.length;r++)n[e.charAt(r)]=0;for(var r=0;r<e.length;r++)n[e.charAt(r)]|=1<<e.length-r-1;return n},t.prototype.patch_addContext_=function(e,n){if(n.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),i=0;n.indexOf(r)!==n.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=n.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var o=n.substring(e.start2-i,e.start2);o&&e.diffs.unshift([ht.DIFF_EQUAL,o]);var s=n.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push([ht.DIFF_EQUAL,s]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t}();function Gr(t,e){let n={};for(let o=0;o<e.length;o++){const s=e[o];n[s]?n[s].push(o):n[s]=[o]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let o=0;o<t.length;o++){const s=t[o],l=n[s]||[];let f=0,u=i[0];for(let h=0;h<l.length;h++){const F=l[h];let D;for(D=f;D<i.length&&!(i[D].buffer2index<F&&(D===i.length-1||i[D+1].buffer2index>F));D++);if(D<i.length){const P={buffer1index:o,buffer2index:F,chain:i[D]};if(f===i.length?i.push(u):i[f]=u,f=D+1,u=P,f===i.length)break}}i[f]=u}return i[i.length-1]}a(Gr,"LCS");function Qi(t,e){const n=Gr(t,e);let r=[],i=t.length,o=e.length,s={common:[]};function l(){s.common.length&&(s.common.reverse(),r.push(s),s={common:[]})}a(l,"processCommon");for(let f=n;f!==null;f=f.chain){let u={buffer1:[],buffer2:[]};for(;--i>f.buffer1index;)u.buffer1.push(t[i]);for(;--o>f.buffer2index;)u.buffer2.push(e[o]);(u.buffer1.length||u.buffer2.length)&&(l(),u.buffer1.reverse(),u.buffer2.reverse(),r.push(u)),i>=0&&s.common.push(t[i])}return l(),r.reverse(),r}a(Qi,"diffComm");function pi(t,e){const n=Gr(t,e);let r=[],i=t.length,o=e.length;for(let s=n;s!==null;s=s.chain){const l=i-s.buffer1index-1,f=o-s.buffer2index-1;i=s.buffer1index,o=s.buffer2index,(l||f)&&r.push({buffer1:[i+1,l],buffer1Content:t.slice(i+1,i+1+l),buffer2:[o+1,f],buffer2Content:e.slice(o+1,o+1+f)})}return r.reverse(),r}a(pi,"diffIndices");function oi(t,e){const n=Gr(t,e);let r=[],i=t.length,o=e.length;function s(l,f,u){let h=[];for(let F=0;F<u;F++)h.push(l[f+F]);return{offset:f,length:u,chunk:h}}a(s,"chunkDescription");for(let l=n;l!==null;l=l.chain){const f=i-l.buffer1index-1,u=o-l.buffer2index-1;i=l.buffer1index,o=l.buffer2index,(f||u)&&r.push({buffer1:s(t,l.buffer1index+1,f),buffer2:s(e,l.buffer2index+1,u)})}return r.reverse(),r}a(oi,"diffPatch");function da(t,e,n){let r=[];function i(f,u){r.push({ab:u,oStart:f.buffer1[0],oLength:f.buffer1[1],abStart:f.buffer2[0],abLength:f.buffer2[1]})}a(i,"addHunk"),pi(e,t).forEach(f=>i(f,"a")),pi(e,n).forEach(f=>i(f,"b")),r.sort((f,u)=>f.oStart-u.oStart);let o=[],s=0;function l(f){f>s&&(o.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:f-s,bufferContent:e.slice(s,f)}),s=f)}for(a(l,"advanceTo");r.length;){let f=r.shift(),u=f.oStart,h=f.oStart+f.oLength,F=[f];for(l(u);r.length;){const D=r[0],P=D.oStart;if(P>h)break;h=Math.max(h,P+D.oLength),F.push(r.shift())}if(F.length===1){if(f.abLength>0){const D=f.ab==="a"?t:n;o.push({stable:!0,buffer:f.ab,bufferStart:f.abStart,bufferLength:f.abLength,bufferContent:D.slice(f.abStart,f.abStart+f.abLength)})}}else{let D={a:[t.length,-1,e.length,-1],b:[n.length,-1,e.length,-1]};for(;F.length;){f=F.shift();const Qe=f.oStart,it=Qe+f.oLength,$e=f.abStart,ft=$e+f.abLength;let It=D[f.ab];It[0]=Math.min($e,It[0]),It[1]=Math.max(ft,It[1]),It[2]=Math.min(Qe,It[2]),It[3]=Math.max(it,It[3])}const P=D.a[0]+(u-D.a[2]),oe=D.a[1]+(h-D.a[3]),he=D.b[0]+(u-D.b[2]),Le=D.b[1]+(h-D.b[3]);let Ae={stable:!1,aStart:P,aLength:oe-P,aContent:t.slice(P,oe),oStart:u,oLength:h-u,oContent:e.slice(u,h),bStart:he,bLength:Le-he,bContent:n.slice(he,Le)};o.push(Ae)}s=h}return l(e.length),o}a(da,"diff3MergeRegions");function We(t,e,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const o=typeof t=="string",s=typeof e=="string",l=typeof n=="string";o&&(t=t.split(r.stringSeparator)),s&&(e=e.split(r.stringSeparator)),l&&(n=n.split(r.stringSeparator));let f=[];const u=da(t,e,n);let h=[];function F(){h.length&&f.push({ok:h}),h=[]}a(F,"flushOk");function D(P,oe){if(P.length!==oe.length)return!1;for(let he=0;he<P.length;he++)if(P[he]!==oe[he])return!1;return!0}return a(D,"isFalseConflict"),u.forEach(P=>{P.stable?h.push(...P.bufferContent):r.excludeFalseConflicts&&D(P.aContent,P.bContent)?h.push(...P.aContent):(F(),f.push({conflict:{a:P.aContent,aIndex:P.aStart,o:P.oContent,oIndex:P.oStart,b:P.bContent,bIndex:P.bStart}}))}),F(),f}a(We,"diff3Merge");function ut(t,e,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const o=We(t,e,n,r);let s=!1,l=[];return o.forEach(f=>{f.ok?l=l.concat(f.ok):f.conflict&&(s=!0,l.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),l=l.concat(f.conflict.a),l.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),l=l.concat(f.conflict.o),l.push("======="),l=l.concat(f.conflict.b),l.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:s,result:l}}a(ut,"mergeDiff3");function Et(t,e,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const o=We(t,e,n,r);let s=!1,l=[];for(let f=0;f<o.length;f++){const u=o[f];u.ok?l=l.concat(u.ok):(s=!0,l=l.concat([`
<<<<<<<<<
`],u.conflict.a,[`
=========
`],u.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:l}}a(Et,"node_diff3_merge");function dt(t,e,n,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const o=We(t,e,n,r);let s=!1,l=[];for(let f=0;f<o.length;f++){const u=o[f];if(u.ok)l=l.concat(u.ok);else{const h=Qi(u.conflict.a,u.conflict.b);for(let F=0;F<h.length;F++){let D=h[F];D.common?l=l.concat(D.common):(s=!0,l=l.concat([`
<<<<<<<<<
`],D.buffer1,[`
=========
`],D.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:l}}a(dt,"mergeDigIn");function Lt(t,e){let n=[],r=0;function i(o){for(;r<o;)n.push(t[r]),r++}a(i,"advanceTo");for(let o=0;o<e.length;o++){let s=e[o];i(s.buffer1.offset);for(let l=0;l<s.buffer2.chunk.length;l++)n.push(s.buffer2.chunk[l]);r+=s.buffer1.length}return i(t.length),n}a(Lt,"patch");function tn(t){return t.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(tn,"stripPatch");function xt(t){return t.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(xt,"invertPatch");const on=new ei;on.diffTimeout=0;function Yt(t,e,n){return Ne.get("experimental.useDiffMatchPatch")===!0?on.patch_toText(on.patch_make(e,n)):Ut(t,e,n)}a(Yt,"diffs_createPatch");function hn(t,e,n,r){const i=`diff --git a/${t} b/${t}`;switch(r){case"modify":return Yt(t,e,n);case"add":{let o;!n.endsWith(`
`)&&!n.endsWith(`\r
`)?o=`
\\ No newline at end of file`:o="";const s=/\r?\n/g,l=n.split(s),f=n.match(s)||[],u=l.length,h=[];for(let F=0;F<u;F+=1)(F<l.length-1||F===l.length-1&&l[F]!=="")&&h.push("+"),h.push(l[F]),F<f.length&&h.push(f[F]);return n=h.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${t}
@@ -0,0 +1,${u} @@
${n}${o}`}case"delete":{let o=0;return e=e.replace(/\r?\n/g,s=>(o++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${t}
+++ /dev/null
@@ -1,${o} +0,0 @@
-${e}`}}}a(hn,"createPatch2");function Tn(t,e,n){return ze(t,e,n)}a(Tn,"diffs_applyPatch");function Qn(t,e){const n=[];for(const r of ye(t,e))n.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(o=>o[0]==="-"?`+${o.slice(1)}`:o[0]==="+"?`-${o.slice(1)}`:o)}))}),n.push(r);return n}a(Qn,"reversePatch");function Kn(t,e,n,r){let i=`
`;const o=t.match(/(?:\r?\n)/g);if(o!==null&&o.length!==0){const u=o.filter(h=>h===`\r
`).length;i=u>o.length-u?`\r
`:`
`}const s=Et(t,e,n,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),l=s.result;let f=s.conflict;for(let u=0;u<l.length;u+=1)l[u]===`
<<<<<<<<<
`?l[u]="<<<<<<< HEAD":l[u]===`
=========
`?l[u]="=======":l[u]===`
>>>>>>>>>
`&&(l[u]=`>>>>>>> ${r}`);return{conflicts:f,mergedContent:l.join(i)}}a(Kn,"diffs_merge");function Xn(t){return t!==void 0&&typeof t.then=="function"}a(Xn,"isPromise");const Bn="";function rn(...t){if(t.length===1){const e=t[0];return e===void 0?Bn:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof c.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(t)}a(rn,"defaultResolver");function Jt(t){return(e,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const o=`$gate$${n}`;r.value=function(...s){const l=s.length===0?o:`${o}$${(t!=null?t:rn)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let f=this[l];if(f===void 0){let u;try{if(u=i.apply(this,s),u==null||!Xn(u))return u;this[l]=f=u.then(h=>(this[l]=void 0,h)).catch(h=>{throw this[l]=void 0,h})}catch(h){throw this[l]=void 0,h}}return f}}}a(Jt,"gate");function vn(t){const e=performance.now()*.001;let n=Math.floor(e),r=Math.floor(e%1*1e9);return t!==void 0&&(n=n-t[0],r=r-t[1],r<0&&(n--,r+=1e9)),[n,r]}a(vn,"hrtime");let mn=0;function K(){return mn===Number.MAX_SAFE_INTEGER&&(mn=0),++mn}a(K,"getNextInstanceId");const ue=a(class{constructor(t,e,...n){this.context=t,this.instance=`[${K().toString().padStart(5)}] `;var r,i,o,s,l,f;let u;if(typeof(e==null?void 0:e.log)=="boolean"?u=e.log?{}:void 0:u=(r=e==null?void 0:e.log)!=null?r:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:et.Info,this.time=vn(),u){if(!X.enabled(this.logLevel))return;n.length?gt(this.logLevel,`${this.instance}${(o=u.prefix)!=null?o:""}${t}${(s=u.message)!=null?s:""}`,...n):gt(this.logLevel,`${this.instance}${(l=u.prefix)!=null?l:""}${t}${(f=u.message)!=null?f:""}`)}}log(t){this.logCore(this.context,t,!1)}logStep(t,e){(!t||e)&&this.logCore(this.context,e,!1),this.step=t?{time:vn(),label:t}:void 0}restart(t){this.logCore(this.context,t,!0),this.step=void 0,this.time=vn()}stop(t){this.restart(t)}logCore(t,e,n){var r,i,o,s,l,f,u;if(!X.enabled(this.logLevel))return;let h="";if(this.step){const[oe,he]=vn(this.step.time),Le=oe*1e3+Math.floor(he/1e6);h=`${this.step.label?`${this.step.label} took `:""}${Le} ms`}if(!n){gt(this.logLevel,`${this.instance}${(r=e==null?void 0:e.prefix)!=null?r:""}${t}${(i=e==null?void 0:e.message)!=null?i:""}${h?` ${h}`:""}${(o=e==null?void 0:e.suffix)!=null?o:""}`);return}const[F,D]=vn(this.time),P=F*1e3+Math.floor(D/1e6);gt(P>500?et.Warn:this.logLevel,`${this.instance}${(s=e==null?void 0:e.prefix)!=null?s:""}${t}${(l=e==null?void 0:e.message)!=null?l:""}${(f=e==null?void 0:e.took)!=null?f:" took "}${P} ms${h?` (${h})`:""}${(u=e==null?void 0:e.suffix)!=null?u:""}`)}static start(t,e,...n){var r;(r=ue.watches.get(t))==null||r.log(),ue.watches.set(t,new ue(t,e,...n))}static log(t,e){var n;(n=ue.watches.get(t))==null||n.log(e)}static stop(t,e){var n;(n=ue.watches.get(t))==null||n.stop(e),ue.watches.delete(t)}},"_Stopwatch");let Ee=ue;Ee.watches=new Map;function gt(t,e,...n){switch(t){case et.Warn:X.warn(e,...n);break;case et.Info:X.log(e,...n);break;default:X.debug(e,...n);break}}a(gt,"log");let Mt=0;function Ht(){return Mt===Number.MAX_SAFE_INTEGER&&(Mt=0),String(++Mt)}a(Ht,"getNextLockId");class pn{constructor(){this.id=Ht()}async synchronize(e){let n;const r=this.promise;this.promise=new Promise(i=>n=i),await r;try{return await e()}finally{n()}}}a(pn,"Lock");class cn{constructor(e){this.lock=new pn,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,n){let r;const i=new Ee(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:et.Debug});let o;await this.lock.synchronize(async()=>{this.writer&&await this.writer,o=new Promise(s=>r=s),this.readers.add(o)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),o!==void 0&&this.readers.delete(o),r()}}async synchronizeWrite(e,n){let r;const i=new Ee(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:et.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const o=[...this.readers];this.readers.clear(),await Promise.all(o)}this.writer=new Promise(o=>r=o)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),r(),this.writer=void 0}}}a(cn,"ReaderWriterLock");class sn{constructor(){this.locks=new Map}async synchronizeRead(e,n,r){let i=this.locks.get(e);return i===void 0&&(i=new cn(String(e)),this.locks.set(e,i)),i.synchronizeRead(n,r)}async synchronizeWrite(e,n,r){let i=this.locks.get(e);return i===void 0&&(i=new cn(String(e)),this.locks.set(e,i)),i.synchronizeWrite(n,r)}}a(sn,"KeyedReaderWriterLock");const gn=new TextDecoder,_n=new TextEncoder;async function Gt(t){const e=typeof t=="string"?_n.encode(t):t;let n;if(globalThis.crypto.subtle)n=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const r=new en;r.update(e),n=r.digest()}return globalThis.btoa(encodeURIComponent(gn.decode(n)))}a(Gt,"sha1");async function Ct(t){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},t);return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}a(Ct,"sha256");var Fn;(function(t){t[t.BLOCK_SIZE=64]="BLOCK_SIZE"})(Fn||(Fn={}));function Dn(t,e,n=32){const r=n-e,i=~((1<<r)-1);return(t<<e|(i&t)>>>r)>>>0}a(Dn,"leftRotate");function Un(t,e=0,n=t.byteLength,r=0){for(let i=0;i<n;i++)t[e+i]=r}a(Un,"fill");const Vn=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(t){const e=this._buff;let n=this._buffLen,r=0;const i=t.byteLength;for(;r<i;){const o=Math.min(64-n,i-r);for(let s=0;s<o;s++)e[n++]=t[r++];n>=64&&(this._step(),n-=64,this._totalLen+=64)}this._buffLen=n}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),t}_wrapUp(){this._buff[this._buffLen++]=128,Un(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Un(this._buff));const t=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(t/4294967296),!1),this._buffDV.setUint32(60,t%4294967296,!1),this._step()}_step(){const t=Vn._bigBlock32,e=this._buffDV;for(let h=0;h<64;h+=4)t.setUint32(h,e.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)t.setUint32(h,Dn(t.getUint32(h-12,!1)^t.getUint32(h-32,!1)^t.getUint32(h-56,!1)^t.getUint32(h-64,!1),1),!1);let n=this._h0,r=this._h1,i=this._h2,o=this._h3,s=this._h4,l,f,u;for(let h=0;h<80;h++)h<20?(l=r&i|~r&o,f=1518500249):h<40?(l=r^i^o,f=1859775393):h<60?(l=r&i|r&o|i&o,f=2400959708):(l=r^i^o,f=3395469782),u=Dn(n,5)+l+s+f+t.getUint32(h*4,!1)&4294967295,s=o,o=i,i=Dn(r,30),r=n,n=u;this._h0=this._h0+n&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let en=Vn;en._bigBlock32=new DataView(new ArrayBuffer(320));function kr(t){const e=globalThis.atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}a(kr,"fromBase64");const{fromCharCode:_r}=String;function On(t){let e;if(typeof t=="string")e=t;else{e="";for(let n=0,{length:r}=t;n<r;n++)e+=_r(t[n])}return globalThis.btoa(e)}a(On,"toBase64");function Zr(t,e){if(t===e)return-1;let n=0;for(;t[n]===e[n];)n++;return n}a(Zr,"indexOfDifference");function Lr(t){return t.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(Lr,"strings_escapeRegExpCharacters");var Mr=Object.defineProperty,si=Object.getOwnPropertyDescriptor,ti=a((t,e,n,r)=>{for(var i=r>1?void 0:r?si(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Mr(e,n,i),i},"__decorateClass");const li=c.FileSystemError.FileNotFound().code,Wr=`===================================================================
`,Cr=new TextDecoder,vi=new TextEncoder;function mi(t){return t&&"type"in t&&"uri"in t&&"uri"in t&&"fileType"in t&&"revision"in t&&"timestamp"in t}a(mi,"isOperation");function zr(t,e,n){return{type:t.type,rootUri:e,uri:n!=null?n:t.uri}}a(zr,"toEvent");const Yr=a(class{constructor(t,e,n,r,i,o){this.providerService=t,this.storageService=e,this.fileStorageService=n,this.telemetryService=r,this.workspaceId=i,this._onDidChange=new c.EventEmitter,this.cache=new Map,this.lock=new sn,this.scopedStores=new Map,o===void 0&&(this.disposable=c.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var t;(t=this.disposable)==null||t.dispose()}async exportDebugInfo(t){var e;async function n(r){const i=await c.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void c.window.showTextDocument(i)}if(a(n,"exportCore"),t===void 0)for(const r of(e=c.workspace.workspaceFolders)!=null?e:[])await n.call(this,r.uri);else return n.call(this,t)}async getWorkspacesWithChanges(){var t;const e=new Ee("ChangeStore.getWorkspacesWithChanges()");try{const n=[];for(const r of(t=c.workspace.workspaceFolders)!=null?t:[])r.uri.scheme===$.scheme&&await this.hasChanges(r.uri)&&n.push(r.uri);return n.length>0?n:void 0}finally{e.stop()}}async acceptAll(t,e){const n=`ChangeStore.acceptAll(${t.toString()}, ${e==null?void 0:e.staged})`;X.log(n);const r=[];await this.lock.synchronizeWrite(S(t),async()=>{const i=await this.getWorkingOperations(t),o=[];let s=[];const l=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(f=>f.staged));for(const f of i){if(l&&!f.staged){s.push(f);continue}f.fileType===c.FileType.File&&await this.discardWorkingContent(t,f.uri);let u;if(f.type===z.Created&&f.fileType===c.FileType.Directory&&(i.some(h=>H(h.uri,f.uri))||(u={type:z.Deleted,rootUri:t,uri:f.uri})),r.push(u!=null?u:zr(f,t)),f.type===z.Created){let h=f.uri;for(;;){const{parent:F}=this.findParent(h,i,D=>D.type===z.Created);if(F){o.push(F),h=F.uri;continue}break}}}s.length>0&&o.length>0&&(s=s.filter(f=>o.includes(f)?(r.push(zr(f,t)),!1):!0)),await this.saveWorkingOperations(t,s)},n),r.length!==0&&this._onDidChange.fire(r)}async discard(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const n=`ChangeStore.discard(${t.toString()})`;X.log(n);const r=[];await this.lock.synchronizeWrite(S(e),async()=>this.discardCore(e,t,r),n),r.length!==0&&this._onDidChange.fire(r)}async discardCore(t,e,n){X.debug(`ChangeStore.discardCore(${e.toString()})`);let r=await this.getWorkingOperations(t);if(r.length===0)return;const i=U(e),o=r.findIndex(f=>U(f.uri)===i);if(o===-1)return;const[s]=r.splice(o,1);let l;switch(s.type){case z.Created:l=z.Deleted;break;case z.Deleted:l=z.Created;break;default:l=s.type;break}if(n.push({type:l,rootUri:t,uri:e}),s.type===z.Created){let f=s.uri;for(;;){const{parent:u,parentIndex:h}=this.findNewParentWithOnlyChild(f,r);if(u){r.splice(h,1),n.push({type:z.Deleted,rootUri:t,uri:u.uri}),f=u.uri;continue}break}}else if(s.type===z.Deleted){let f=s.uri;const u=this.findDeletedParents(f,r);let h=[...r];u.forEach(({parent:F,parentIndex:D})=>{h[D]=void 0,n.push({type:z.Created,rootUri:t,uri:F.uri})}),r=h.filter(F=>F!==void 0)}await this.saveWorkingOperations(t,r),s.fileType===c.FileType.File&&await this.discardWorkingContent(t,e)}async discardAll(t,e){const n=this.getUriScope(t);if(n)return this.getScopedChangeStore(n).discardAll(t,e);const r=`ChangeStore.discardAll(${t.toString()}, ${e==null?void 0:e.staged})`;X.log(r);const i=[];await this.lock.synchronizeWrite(S(t),async()=>{const o=await this.getWorkingOperations(t),s=[];let l=[];const f=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!o.some(u=>u.staged));for(const u of o){if(f&&!u.staged){l.push(u);continue}u.fileType===c.FileType.File&&await this.discardWorkingContent(t,u.uri);let h;switch(u.type){case z.Created:h=z.Deleted;break;case z.Deleted:h=z.Created;break;default:h=u.type;break}if(i.push({type:h,rootUri:t,uri:u.uri}),u.type===z.Created){let F=u.uri;for(;;){const{parent:D}=this.findNewParentWithOnlyChild(F,o);if(D){s.push(D),F=D.uri;continue}break}}}l.length>0&&s.length>0&&(l=l.filter(u=>s.includes(u)?(i.push({type:z.Deleted,rootUri:t,uri:u.uri}),!1):!0)),await this.saveWorkingOperations(t,l)},r),i.length!==0&&this._onDidChange.fire(i)}async stage(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const n=`ChangeStore.stage(${t.toString()})`;X.log(n);const r=[];await this.lock.synchronizeWrite(S(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);i!==void 0&&await this.stageCore(e,t,i,r,o)},n),r.length!==0&&this._onDidChange.fire(r)}async stageAll(t){const e=`ChangeStore.stageAll(${t.toString()})`;X.log(e);const n=[];await this.lock.synchronizeWrite(S(t),async()=>{const r=(await this.getWorkingOperations(t)).filter(i=>!i.staged);if(r.length!==0)for(const i of r){const{index:o}=await this.getWorkingOperation(i.uri,t);if(!await this.stageCore(t,i.uri,i,n,o))return}},e),n.length!==0&&this._onDidChange.fire(n)}async stageCore(t,e,n,r,i){if(n.conflicts){if(!n.conflicts.status.includes(z.Deleted)){const s=c.l10n.t("Yes");if(await c.window.showWarningMessage(c.l10n.t("Are you sure you want to stage {0} with merge conflicts?",V(e)),{modal:!0},s)!==s)return!1}const[,o]=n.conflicts.status;switch(o){case z.Changed:switch(n.type){case z.Created:return!1;case z.Changed:return await this.spliceOperation(e,i,{...n,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0;case z.Deleted:const s=c.l10n.t("Keep Their Version"),l=c.l10n.t("Delete File"),f=await c.window.showInformationMessage(c.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,V(e)),{modal:!0},s,l);return f===s?(await this.discardCore(t,e,r),!0):f===l?(await this.spliceOperation(e,i,{...n,type:z.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):!1}case z.Created:switch(n.type){case z.Changed:case z.Deleted:return!1;case z.Created:return await this.spliceOperation(e,i,{...n,type:z.Changed,conflicts:void 0,size:n.size,hash:n.hash,originalHash:n.originalHash,staged:!0,timestamp:Date.now()},r),!0}case z.Deleted:switch(n.type){case z.Created:case z.Changed:{const s=c.l10n.t("Keep Our Version"),l=c.l10n.t("Delete File"),f=await c.window.showInformationMessage(c.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,V(e)),{modal:!0},s,l);return f===s?(await this.spliceOperation(e,i,{...n,type:z.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):f===l?(await this.discardCore(t,e,r),!0):!1}case z.Deleted:return await this.discardCore(t,e,r),!0}}}return await this.spliceOperation(e,i,{...n,staged:!0,conflicts:void 0,timestamp:Date.now()},r),!0}async unstage(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const n=`ChangeStore.unstage(${t.toString()})`;X.log(n);const r=[];await this.lock.synchronizeWrite(S(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);i!==void 0&&await this.spliceOperation(t,o,{...i,staged:!1,timestamp:Date.now()},r)},n),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(t){const e=`ChangeStore.unstageAll(${t.toString()})`;X.log(e);const n=[];await this.lock.synchronizeWrite(S(t),async()=>{const r=(await this.getWorkingOperations(t)).map(i=>({...i,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(t,r),n.push(...r.map(i=>zr(i,t))))},e),n.length!==0&&this._onDidChange.fire(n)}async hasChanges(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).hasChanges(t);const n=S(t),r=this.cache.get(n);return r!==void 0?r.length!==0:this.lock.synchronizeRead(n,async()=>(await this.getWorkingOperations(t)).length!==0,`ChangeStore.hasChanges(${t.toString()})`)}maybeHasChanges(t,e){const n=this.getUriScope(t);if(n)return this.getScopedChangeStore(n).maybeHasChanges(t,e);const r=S(t),i=this.cache.get(r);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const o=U(e);return i.some(s=>U(s.uri)===o)}async hasMergeConflicts(t){return this.lock.synchronizeRead(S(t),async()=>(await this.getWorkingOperations(t)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${t.toString()})`)}async hasStagedChanges(t){return this.lock.synchronizeRead(S(t),async()=>(await this.getWorkingOperations(t)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${t.toString()})`)}async hasWorkingChanges(t){return this.lock.synchronizeRead(S(t),async()=>(await this.getWorkingOperations(t)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${t.toString()})`)}async getChange(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).getChange(t);const n=this.providerService.getVirtualRootUri(t);if(n!==void 0)return this.lock.synchronizeRead(S(n),async()=>{const{operation:r}=await this.getWorkingOperation(t,n);return r},`ChangeStore.getChange(${t.toString()})`)}async getChanges(t,e){const n=this.getUriScope(t);return n?this.getScopedChangeStore(n).getChanges(t,e):this.lock.synchronizeRead(S(t),async()=>{let r=await this.getWorkingOperations(t);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:o}=e;r=r.filter(s=>{var l;return(!i||s.conflicts===void 0)&&((l=o==null?void 0:o(s))!=null?l:!0)})}return r},`ChangeStore.getChanges(${t.toString()})`)}async getGroupedChanges(t,e){const n=this.getUriScope(t);return n?this.getScopedChangeStore(n).getGroupedChanges(t,e):this.lock.synchronizeRead(S(t),async()=>{var r,i;const o=await this.getWorkingOperations(t),s={conflicts:[],staged:[],working:[]};for(const l of o)!((i=(r=e==null?void 0:e.predicate)==null?void 0:r.call(e,l))!=null?i:!0)||(l.conflicts?s.conflicts.push(l):l.staged?s.staged.push(l):s.working.push(l));return s},`ChangeStore.getChangesByType(${t.toString()})`)}async getContent(t){const e=this.providerService.getVirtualRootUri(t);if(e===void 0)throw new Error(`Unable to find content for ${t.toString()}; Repository not found`);const n=S(e),r=this.cache.get(n);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${t.toString()}`);return this.lock.synchronizeRead(n,async()=>{const i=Cr.decode(await this.getWorkingContent(e,t));if(i!==void 0)return i;throw new Error(`Unable to find content for ${t.toString()}`)},`ChangeStore.getContent(${t.toString()}}`)}async getMergeConflicts(t,e){return this.lock.synchronizeRead(S(t),async()=>(await this.getWorkingOperations(t)).filter(r=>{var i,o;return r.conflicts!==void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?o:!0)}),`ChangeStore.getMergeConflicts(${t.toString()})`)}async getStagedChanges(t,e){return this.lock.synchronizeRead(S(t),async()=>(await this.getWorkingOperations(t)).filter(r=>{var i,o;return r.staged&&r.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?o:!0)}),`ChangeStore.getStagedChanges(${t.toString()})`)}async getWorkingChanges(t,e){return this.lock.synchronizeRead(S(t),async()=>(await this.getWorkingOperations(t)).filter(r=>{var i,o;return!r.staged&&r.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?o:!0)}),`ChangeStore.getWorkingChanges(${t.toString()})`)}async applyChangeset(t,e,n,r){var i;let o;mi(n)?o=n:r=r!=null?r:n,X.log(`ChangeStore.applyChangeset${t.toString()}`,e.workspaceId,e.uri,o==null?void 0:o.uri,r==null?void 0:r.save);const s=this.getScopedChangeStore(e.workspaceId),l=(i=e.patch)!=null?i:await s.createPatch(e.uri,o==null?void 0:o.uri);await this.applyPatchCore(t,l,{...r,getIncomingContent:async f=>{const u=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,f),e.workspaceId);return Cr.decode(await c.workspace.fs.readFile(u))},merge:async(f,u,h)=>{try{const F=$.getProviderUri(f),D=Cr.decode(await c.workspace.fs.readFile(F)),P=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,u),e.workspaceId),oe=Cr.decode(await c.workspace.fs.readFile(P)),he=await this.providerService.getMetadata(P);return{...Kn(h,D,oe,he.HEAD.sha),baseUri:F,incomingUri:P}}catch(F){throw new Error(`Unable to apply patch to ${u}: ${String(F)}`)}}})}async applyPatch(t,e,n){if(X.log(`ChangeStore.applyPatch(${t.toString()})`,n==null?void 0:n.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(t,e,n)}async applyPatchCore(t,e,n={}){const r=`ChangeStore.applyPatchCore(${t.toString()})`;X.debug(r,n==null?void 0:n.save);const i=new c.WorkspaceEdit,o=[],s=new Map;async function l(D){var P;const oe=S(D),he=c.workspace.textDocuments.find(Le=>S(Le.uri)===oe);return(P=he==null?void 0:he.getText())!=null?P:Cr.decode(await c.workspace.fs.readFile(D))}a(l,"getContent");async function f(D){try{const P=await c.workspace.fs.stat(D);return Boolean(P)}catch{return!1}}a(f,"exists");async function u(D,P,oe){let he=Tn("",oe,{fuzzFactor:0});if(he===!1){if(!n.getIncomingContent)throw new Error(`Unable to apply patch to ${P}`);he=await n.getIncomingContent(P)}i.createFile(D,{overwrite:!0}),i.replace(D,new c.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),he)}a(u,"applyCreate");async function h(D,P,oe,he){const Le=await l(D);let Ae=Tn(Le,oe,{fuzzFactor:1});if(Ae===!1){if(n.merge===void 0)throw new Error(`Unable to apply patch to ${P}; Resulted in conflicts`);const Qe={title:c.l10n.t("Merge")},it={title:c.l10n.t("Skip File"),isCloseAffordance:!0};if(await c.window.showWarningMessage(c.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,P),{modal:!0},Qe,it)!==Qe)return;const ft=await n.merge(D,P,Le);Ae=ft.mergedContent,ft.conflicts&&s.set(S(D),{type:he,baseUri:ft.baseUri,incomingUri:ft.incomingUri})}i.replace(D,new c.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Ae)}a(h,"applyModification");const F=(n==null?void 0:n.reverse)?Qn(e,{}):ye(e,{});for(const D of F)if(D.oldFileName==="/dev/null"){if(!D.newFileName)continue;const P=D.newFileName.startsWith("b/")?D.newFileName.substr(2):D.newFileName,oe=this.providerService.createRelativeVirtualUri(t,P);o.push(S(oe)),!await f(oe)?await u(oe,P,D):await h(oe,P,D,z.Created)}else if(D.newFileName==="/dev/null"){if(!D.oldFileName)continue;const P=D.oldFileName.startsWith("a/")?D.oldFileName.substr(2):D.oldFileName,oe=this.providerService.createRelativeVirtualUri(t,P);await f(oe)&&i.deleteFile(oe)}else if(D.oldFileName===D.newFileName){if(!D.newFileName)continue;const P=this.providerService.createRelativeVirtualUri(t,D.newFileName);o.push(S(P)),!await f(P)?await u(P,D.newFileName,D):await h(P,D.newFileName,D,z.Changed)}else throw new Error(`Unable to apply patch to ${D.oldFileName}; Renames aren't currently supported`);if(await c.workspace.applyEdit(i),n.save&&o.length)for(const D of o){const P=c.workspace.textDocuments.find(oe=>S(oe.uri)===D);await(P==null?void 0:P.save())}s.size&&setTimeout(async()=>{const D=[];await this.lock.synchronizeWrite(S(t),async()=>{const P=await this.getWorkingOperations(t);if(P.length===0)return;let oe=-1;for(const he of P){oe++;const Le=s.get(S(he.uri));Le!==void 0&&await this.spliceOperation(he.uri,oe,{...he,conflicts:{baseUri:Le.baseUri,incomingUri:Le.incomingUri,status:[he.type,Le.type]},timestamp:Date.now()},D)}},r),D.length!==0&&this._onDidChange.fire(D)},0)}async createChangeset(t){X.log(`ChangeStore.createChangeset${t.toString()})`);const e=await this.createPatch(t);return e?{workspaceId:this.workspaceId,uri:t,patch:e}:void 0}async createPatch(t,e,n){if(X.log(`ChangeStore.createPatch${t.toString()})`,e),e===void 0){let o=await this.getWorkingOperations(t);if((n==null?void 0:n.staged)&&(o=o.filter(l=>l.staged)),o.length===0)return"";const s=[];for(const l of o){const f=await this.createPatchCore(t,l);s.push(f)}return s.join("")}const{operation:r}=await this.getWorkingOperation(e,t);if(r===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(n==null?void 0:n.staged)&&r.staged?"":await this.createPatchCore(t,r)}async createPatchCore(t,e){if(e.fileType!==c.FileType.File)return"";const n=this.providerService.getRelativeFilePath(t,e.uri),r=`diff --git a/${n} b/${n}`;if(e.type===z.Created){let f=await this.getContent(e.uri);return hn(n,"",f,"add")}if(e.type===z.Deleted){let f=Cr.decode(await c.workspace.fs.readFile($.getProviderUri(e.uri)));return hn(n,f,"","delete")}const i=await this.getContent(e.uri),o=Cr.decode(await c.workspace.fs.readFile($.getProviderUri(e.uri))),s=Yt(n,o,i),l=s.indexOf(Wr);return`${r}
${s.substr(l+Wr.length)}`}async keep(t,e){const n=this.providerService.getVirtualWorkspaceUri(t);if(n===void 0)return;const r=`ChangeStore.keep(${t.toString()})`;X.log(r,e);const i=[];await this.lock.synchronizeWrite(S(n),async()=>{const{operation:o,index:s}=await this.getWorkingOperation(t,n);if(o===void 0)return;if(e===void 0&&o.conflicts){const[,f]=o.conflicts.status;switch(f){case z.Changed:switch(o.type){case z.Changed:case z.Created:case z.Deleted:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break;case z.Created:switch(o.type){case z.Changed:case z.Deleted:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break;case z.Created:await this.spliceOperation(t,s,{...o,type:z.Changed,size:o.size,hash:o.hash,originalHash:o.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case z.Deleted:switch(o.type){case z.Deleted:await this.discardCore(n,t,i);break;case z.Changed:await this.spliceOperation(t,s,{...o,type:z.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case z.Created:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case z.Changed:switch(o.type){case z.Deleted:await this.spliceOperation(t,s,{...o,type:z.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case z.Created:break;case z.Changed:break}break;case z.Created:switch(o.type){case z.Changed:case z.Deleted:return;case z.Created:break}break;case z.Deleted:switch(o.type){case z.Deleted:return this.discardCore(n,t,i);case z.Changed:await this.spliceOperation(t,s,{...o,type:z.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case z.Created:return}}const l=e!==void 0?await c.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(t,s,{...o,type:z.Changed,originalHash:l!==void 0?await Gt(l):o.originalHash,conflicts:void 0,timestamp:Date.now()},i)},r),i.length!==0&&this._onDidChange.fire(i)}async merge(t,e,n){const r=this.providerService.getVirtualWorkspaceUri(t);if(r===void 0)return;const i=`ChangeStore.merge(${t.toString()})`;X.log(i,e,n);const o=[];await this.lock.synchronizeWrite(S(r),async()=>{const{operation:s,index:l}=await this.getWorkingOperation(t,r);if(s===void 0)return;switch(e.type){case z.Changed:switch(s.type){case z.Deleted:await this.spliceOperation(t,l,{...s,type:z.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:n.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case z.Created:break;case z.Changed:break}break;case z.Created:switch(s.type){case z.Deleted:case z.Changed:return;case z.Created:const P=await c.workspace.fs.readFile(e.providerUri);await this.spliceOperation(t,l,{...s,originalHash:P!==void 0?await Gt(P):s.originalHash,conflicts:{baseUri:n.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},type:z.Changed,timestamp:Date.now()},o);break}break;case z.Deleted:switch(s.type){case z.Deleted:return this.discardCore(r,t,o);case z.Changed:await this.spliceOperation(t,l,{...s,type:z.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case z.Created:return}}const f=await this.providerService.getMetadata(e.providerUri),u=await this.getWorkingContent(r,t),h=s.type===z.Created?new Uint8Array(0):await c.workspace.fs.readFile(n.providerUri),F=await c.workspace.fs.readFile(e.providerUri),D=Kn(Cr.decode(u),Cr.decode(h),Cr.decode(F),f.HEAD.sha);await this.writeFileCore(r,t,o,vi.encode(D.mergedContent),F!=null?F:new Uint8Array(0),D.conflicts?{baseUri:n.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]}:void 0)},i),o.length!==0&&this._onDidChange.fire(o)}async resolveDiffCommand(t,e,n,r){let i;const o=this.providerService.getVirtualRootUri(t);return o!==void 0&&({operation:i}=await this.getWorkingOperation(t,o)),(i==null?void 0:i.type)===z.Deleted?this.resolveOpenCommand(e):((i==null?void 0:i.type)===z.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,t,n,r]})}resolveOpenCommand(t,e){return{command:"vscode.open",title:"Open File",arguments:[t,e]}}getScopedUri(t,e){const n=typeof e=="string"?e:e.workspaceId;return n===this.workspaceId?t:t.with({fragment:n})}getUriScope(t){return t.fragment||void 0}getScopedChangeStore(t){const e=typeof t=="string"?t:t.workspaceId;X.log(`ChangeStore.getScopedChangeStore(${e})`);let n=this.scopedStores.get(e);return n===void 0&&(n=e===this.workspaceId?new Yr.ScopedChangeStore(this,e,this.workspaceId):new Yr.ScopedChangeStore(new Yr(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,n)),n}async stat(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).stat(t);const n=this.providerService.getVirtualRootUri(t);if(n===void 0)return;const r=S(n),i=this.cache.get(r);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(r,async()=>{var o;const{operation:s}=await this.getWorkingOperation(t,n);if(s!==void 0){if(s.type===z.Deleted)throw c.FileSystemError.FileNotFound(`The ${s.fileType===c.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(o=s.size)!=null?o:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${t.toString()}`)}async readFile(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).readFile(t);const n=new Ee(`ChangeStore.readFile(${t.toString()})`);try{const r=this.providerService.getVirtualRootUri(t);if(r===void 0)return;const i=S(r),o=this.cache.get(i);return(o==null?void 0:o.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){n.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,t)},n.context)}finally{n.stop()}}async createDirectory(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const n=new Ee(`ChangeStore.createDirectory(${t.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(S(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e),s=await this.providerService.getMetadata(t);await this.spliceOperation(t,o,i===void 0?{type:z.Created,uri:t,fileType:c.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async deleteDirectory(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const n=new Ee(`ChangeStore.deleteDirectory(${t.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(S(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);if((i==null?void 0:i.type)===z.Created)return this.discardCore(e,t,r);const s=await this.providerService.getMetadata(t);await this.spliceOperation(t,o,{type:z.Deleted,uri:t,fileType:c.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async updateDirectoryEntries(t,e){const n=this.providerService.getVirtualWorkspaceUri(t);if(n===void 0)return e;const r=new Ee(`ChangeStore.updateDirectoryEntries(${t.toString()})`,{},e.length);try{const i=S(n),o=this.cache.get(i);return(o==null?void 0:o.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:s}=L(n,t),l=await this.getWorkingOperations(n);for(const f of l)switch(f.type){case z.Changed:break;case z.Created:{if(H(f.uri,s)){const u=this.providerService.getRelativeFilePath(t,f.uri);e.push([u,f.fileType])}break}case z.Deleted:{if(H(f.uri,s)){const u=this.providerService.getRelativeFilePath(t,f.uri),h=e.findIndex(([F])=>F===u);h!==-1&&e.splice(h,1)}break}}return e},r.context)}finally{r.stop()}}async writeFile(t,e,n,r){const i=this.providerService.getVirtualWorkspaceUri(t);if(i===void 0)return;const o=new Ee(`ChangeStore.writeFile(${t.toString()})`,{},e.length,r);try{const s=[];if(await this.lock.synchronizeWrite(S(i),async()=>this.writeFileCore(i,t,s,e,n,r),o.context),s.length===0)return;this._onDidChange.fire(s)}finally{o.stop()}}async writeFileCore(t,e,n,r,i,o){const s=new Ee(`ChangeStore.writeFileCore(${e.toString()})`,{},r.length,o);try{const[{operation:l,index:f},u,h]=await Promise.all([this.getWorkingOperation(e,t),Gt(r),Gt(i)]);if(u===h&&(!l||(l==null?void 0:l.type)===z.Changed))return this.discardCore(t,e,n);if(u===(l==null?void 0:l.hash)&&h===(l==null?void 0:l.originalHash))return;const[{HEAD:F}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(t,e,r)]);await this.spliceOperation(e,f,l===void 0?{type:z.Changed,uri:e,fileType:c.FileType.File,revision:F.sha,timestamp:Date.now(),size:r.byteLength,hash:u,originalHash:h,conflicts:o,staged:!1}:{...l,revision:F.sha,timestamp:Date.now(),size:r.byteLength,hash:u,originalHash:h,conflicts:o,staged:!1},n)}finally{s.stop()}}async createFile(t,e){const n=this.providerService.getVirtualWorkspaceUri(t);if(n===void 0)return;const r=new Ee(`ChangeStore.createFile(${t.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(S(n),async()=>{const[{operation:o,index:s},l,f]=await Promise.all([this.getWorkingOperation(t,n),Gt(e),this.providerService.getMetadata(t),this.saveWorkingContent(n,t,e)]);await this.spliceOperation(t,s,o===void 0?{type:z.Created,uri:t,fileType:c.FileType.File,revision:f.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l,originalHash:l}:o.type===z.Deleted?{...o,type:z.Changed,revision:f.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l}:{...o,type:z.Created,revision:f.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l},i)},r.context),i.length===0)return;this._onDidChange.fire(i)}finally{r.stop()}}async deleteFile(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const n=new Ee(`ChangeStore.deleteFile(${t.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(S(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);if((i==null?void 0:i.type)===z.Created)return this.discardCore(e,t,r);const[s]=await Promise.all([this.providerService.getMetadata(t),this.discardWorkingContent(e,t)]);await this.spliceOperation(t,o,{type:z.Deleted,uri:t,fileType:c.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}findParent(t,e,n){const r=le(t),{operation:i,index:o}=this.findWorkingOperation(r,e);return i!==void 0&&n(i,e)?{parent:i,parentIndex:o}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(t,e){const n=U(t);return this.findParent(t,e,(r,i)=>r.type===z.Created&&!i.some(o=>H(o.uri,r.uri)&&U(o.uri)!==n))}findDeletedParents(t,e){const n=[];for(let r=0;r<e.length;r+=1){const i=e[r];i.type===z.Deleted&&B(t,i.uri)&&n.push({parent:i,parentIndex:r})}return n}async getWorkingOperation(t,e){return this.findWorkingOperation(t,await this.getWorkingOperations(e))}findWorkingOperation(t,e){if(e.length===0)return{operation:void 0,index:-1};const n=U(t);let r=-1;const i=e.find((o,s)=>U(o.uri)!==n?!1:(r=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:r}}async getWorkingOperations(t){const e=S(t);let n=this.cache.get(e);return n===void 0&&(n=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,n)),n}async saveWorkingOperations(t,e){X.debug(`ChangeStore.saveWorkingOperations(${t.toString()})`,e.length);const n=S(t);this.cache.set(n,e);try{await this.storageService.store(this.getOperationsStorageKey(n),this.toStorage(e))}catch(r){throw this.cache.delete(n),X.error(r,`Failed to save repository changes for ${n}`),r}}getOperationsStorageKey(t){return`operations/${t}`}async getWorkingContent(t,e){try{return await this.fileStorageService.get(this.getFileStorageKey(t,e))}catch(n){throw X.error(n),this.telemetryService.sendException(n),n}}async discardWorkingContent(t,e){X.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(t,e))}catch(n){if(n instanceof c.FileSystemError&&n.code===li)return;throw X.error(n),this.telemetryService.sendException(n),n}}async saveWorkingContent(t,e,n){X.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,n.length);try{return await this.fileStorageService.store(this.getFileStorageKey(t,e),n)}catch(r){throw X.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(t,e){return`changestore/${I(e)}`}async spliceOperation(t,e,n,r){const i=this.providerService.getVirtualWorkspaceUri(t);if(i===void 0)return;const o=await this.getWorkingOperations(i);e!==-1?o.splice(e,1,n):o.push(n),await this.saveWorkingOperations(i,o),r.push(zr(n,i,t))}fromStorage(t){if(!t)return[];try{const e=JSON.parse(t,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&A(r)?typeof r=="string"?c.Uri.parse(r):c.Uri.from(r):r);return Array.isArray(e)?e:e.operations}catch(e){throw X.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(t){const e={schemaVersion:Yr.operationsStorageSchemaVersion,operations:t};return JSON.stringify(e)}},"_ChangeStore");let ni=Yr;ni.operationsStorageSchemaVersion=1,ni.ScopedChangeStore=class{constructor(t,e,n){this.changeStore=t,this.scope=e,this.workspaceId=n}createPatch(t,e,n){return this.changeStore.createPatch(this.stripUriScope(t),this.stripUriScope(e),n)}discardAll(t,e){return this.changeStore.discardAll(this.stripUriScope(t),e)}getChange(t){return this.changeStore.getChange(this.stripUriScope(t))}getChanges(t,e){return this.changeStore.getChanges(this.stripUriScope(t),e)}async getGroupedChanges(t,e){return this.changeStore.getGroupedChanges(this.stripUriScope(t),e)}hasChanges(t){return this.changeStore.hasChanges(this.stripUriScope(t))}maybeHasChanges(t,e){return this.changeStore.maybeHasChanges(this.stripUriScope(t),this.stripUriScope(e))}async stat(t){const n=this.changeStore.getUriScope(t)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(t));return r!==void 0&&n&&(r.permissions=c.FilePermission.Readonly),r}readFile(t){return this.changeStore.readFile(this.stripUriScope(t))}resolveDiffCommand(t,e,n,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(t,this.scope),this.changeStore.getScopedUri(e,this.scope),n,r)}stripUriScope(t){return t===void 0||!t.fragment?t:t.with({fragment:""})}},ti([Jt()],ni.prototype,"getWorkingOperations",1);function Ri(t){switch(t){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(Ri,"getStatusText");function ui(t){const[e,n]=t;switch(e){case OperationType.Changed:switch(n){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(n){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(n){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(ui,"getConflictStatusText");const Qr=a(class{constructor(t){this.storageService=t,this._onDidChange=new c.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(t){const e=S(t),n=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(r){throw X.error(r,`Failed to delete repository metadata for ${e}`),r}!n||setTimeout(()=>this._onDidChange.fire({uri:t}),0)}async get(t){this.assertMatchingScheme(t);const e=S(t),n=this.cache.get(e);if(n!==void 0)return n;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw X.error(i,`Failed to get repository metadata for ${e}`),i}return r?this.cache.set(e,{revision:r}):this.cache.delete(e),{revision:r}}async set(t,e,n,r){this.assertMatchingScheme(t);const i=(await this.get(t)).revision!==e?"revision":void 0,o=S(t);if(n!==void 0&&!this.validate(n))throw new Error(`Metadata validation failed for ${t.toString()}`);const s={revision:e,cachedMetadata:n};this.cache.set(o,s);try{await this.storageService.store(this.getStorageKey(o),this.toStorage(e))}catch(l){throw this.cache.delete(o),X.error(l,`Failed to save repository metadata for ${o}`),l}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:t,reason:i}),0)}refresh(){this.cache.clear()}validate(t){var e,n,r,i,o,s,l,f;return typeof t.version=="number"&&t.version>=Qr.schemaVersion&&typeof t.timestamp=="number"&&typeof((e=t.provider)==null?void 0:e.id)=="string"&&typeof t.provider.name=="string"&&typeof t.name=="string"&&t.repo&&typeof t.accessLevel=="number"&&typeof((n=t.HEAD)==null?void 0:n.type)=="number"&&typeof((r=t.HEAD)==null?void 0:r.name)=="string"&&typeof((i=t.HEAD)==null?void 0:i.sha)=="string"&&(typeof((o=t.HEAD.detached)==null?void 0:o.name)=="string"&&typeof((s=t.HEAD.detached)==null?void 0:s.type)=="number"||typeof((l=t.HEAD.branch)==null?void 0:l.name)=="string")&&typeof((f=t.defaultBranch)==null?void 0:f.name)=="string"&&typeof t.defaultBranch.sha=="string"}assertMatchingScheme(t){if(t.scheme!==$.scheme)throw new Error(`Uri scheme '${t.scheme}' must match configured scheme '${$.scheme}'; uri=${t.toString()}`)}getStorageKey(t){return`metadata/${t}`}fromStorage(t){if(!t)return;const e=JSON.parse(t,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&A(r)?c.Uri.from(r):r);return e==null?void 0:e.revision}toStorage(t){const e={schemaVersion:Qr.storageSchemaVersion,revision:t};return JSON.stringify(e)}},"_MetadataStore");let sr=Qr;sr.schemaVersion=Xe,sr.storageSchemaVersion=1;class ri{constructor(e,n){this.memento=e,this.scope=n,this._onDidChange=new c.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const n=this.getScoped(e),r=new Ee(`MementoStorage.get(${e}): scopedKey=${n}`,{logLevel:et.Debug});try{return await Promise.resolve(this.memento.get(n))}finally{r.stop()}}async getKeys(e){const n=this.getScoped(e),r=new Ee(`MementoStorage.getKeys(${e}): scopedPrefix=${n}`,{logLevel:et.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const o=this.scope.length+1;i=i.map(s=>s.substr(o))}return await Promise.resolve(i)}finally{r.stop()}}getKeysCore(e){let n=this.memento.keys();return e&&(n=n.filter(r=>r.startsWith(e))),n}async store(e,n){const r=this.getScoped(e),i=new Ee(`MementoStorage.store(${e}): scopedKey=${r}`,{logLevel:et.Debug});try{return await this.storeCore(e,r,n)}finally{i.stop()}}async storeCore(e,n,r){await this.memento.update(n,r),this._onDidChange.fire({key:e})}async delete(e){const n=this.getScoped(e),r=new Ee(`MementoStorage.delete(${e}): scopedKey=${n}`,{logLevel:et.Debug});try{return await this.storeCore(e,n,void 0)}finally{r.stop()}}async deleteKeys(e){const n=this.getScoped(e),r=new Ee(`MementoStorage.deleteKeys(${e}): scopedPrefix=${n}`,{logLevel:et.Debug});try{const i=[],o=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(n);for(const l of s){const f=o!==0?l.substr(o):l;X.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${f}, scopedKey=${l}`);try{await this.storeCore(f,l,void 0)}catch(u){X.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${f}, scopedKey=${l}`),i.push(f)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{r.stop()}}with(e){return new ri(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(ri,"MementoStorageService");class xe{constructor(e,n){this.storageUri=e,this.scope=n,this._onDidChange=new c.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const n=this.getScoped(e),r=new Ee(`ExtFileStorageService.get(${e}): scopedKey=${n}`,{logLevel:et.Debug});try{return await c.workspace.fs.readFile(c.Uri.joinPath(this.storageUri,n))}catch(i){return}finally{r.stop()}}async store(e,n){const r=this.getScoped(e),i=new Ee(`ExtFileStorageService.store(${e}): scopedKey=${r}`,{logLevel:et.Debug});try{return await this.storeCore(e,r,n)}finally{i.stop()}}async storeCore(e,n,r){await c.workspace.fs.writeFile(c.Uri.joinPath(this.storageUri,n),r),this._onDidChange.fire({key:e})}async delete(e){const n=this.getScoped(e),r=new Ee(`ExtFileStorageService.delete(${e}): scopedKey=${n}`,{logLevel:et.Debug});try{return await c.workspace.fs.delete(c.Uri.joinPath(this.storageUri,n))}finally{r.stop()}}with(e){return new xe(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(xe,"ExtFileStorageService");const rt=a(async(t,e,n)=>{const r=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,850)),i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5229)),o=new r.AppInsightsCore,s=new i.PostChannel,l={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){l.extensionConfig={};const h={alwaysUseXhrOverride:!0,httpXHROverride:n};l.extensionConfig[s.identifier]=h}const u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(l,[]),o.addTelemetryInitializer(h=>{var F,D;!u||(h.ext=(F=h.ext)!=null?F:{},h.ext.utc=(D=h.ext.utc)!=null?D:{},h.ext.utc.flags=8462029)}),o},"getAICore"),vt=a(async(t,e,n)=>{const r=await rt(t,e,n);return{logEvent:(o,s)=>{try{r==null||r.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(l){throw new Error(`Failed to log event to app insights!
`+l.message)}},flush:async()=>{try{r==null||r.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}},"oneDataSystemClientFactory");var mt;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(mt||(mt={}));class Ot{constructor(e,n){this._instantiationStatus=mt.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=e}sendEventData(e,n){if(!this._telemetryClient){this._instantiationStatus!==mt.INSTANTIATED&&this._eventQueue.push({eventName:e,data:n});return}this._telemetryClient.logEvent(e,n)}sendErrorData(e,n){if(!this._telemetryClient){this._instantiationStatus!==mt.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:n});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:n})=>this.sendEventData(e,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:n})=>this.sendErrorData(e,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===mt.NOT_INSTANTIATED&&(this._instantiationStatus=mt.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=mt.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=mt.INSTANTIATED}))}}a(Ot,"BaseTelemetrySender");class Wt{constructor(e,n,r){this.telemetrySender=e,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,n,r,i){i?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logUsage(e,{properties:n,measurements:r})}sendTelemetryEvent(e,n,r){this.internalSendTelemetryEvent(e,n,r,!1)}sendDangerousTelemetryEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,n,r,!0)}internalSendTelemetryErrorEvent(e,n,r,i){i?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logError(e,{properties:n,measurements:r})}sendTelemetryErrorEvent(e,n,r){this.internalSendTelemetryErrorEvent(e,n,r,!1)}sendDangerousTelemetryErrorEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,n,r,!0)}internalSendTelemetryException(e,n,r,i){i?this.telemetrySender.sendErrorData(e,{properties:n,measurements:r}):this.telemetryLogger.logError(e,{properties:n,measurements:r})}sendTelemetryException(e,n,r){this.internalSendTelemetryException(e,n,r,!1)}sendDangerousTelemetryException(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,n,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Wt,"BaseTelemetryReporter");class an{static applyReplacements(e,n){for(const r of Object.keys(e))for(const i of n)i.lookup.test(r)&&(i.replacementString!==void 0?e[r]=i.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return an._instance||(an._instance=new an),an._instance}}a(an,"TelemetryUtil");const Ce=a(async(t,e)=>{let n;try{const i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3268));n=new i.ApplicationInsights({instrumentationKey:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0})}catch(i){return Promise.reject(i)}return{logEvent:(i,o)=>{const s={...o==null?void 0:o.properties,...o==null?void 0:o.measurements};(e==null?void 0:e.length)&&an.applyReplacements(s,e),n==null||n.track({name:i,data:s})},flush:async()=>{n==null||n.flush()}}},"webAppInsightsClientFactory");function qe(t){if(t.userAgentData){const e=t.userAgentData.brands[t.userAgentData.brands.length-1];return`${t.userAgentData.platform} - ${e==null?void 0:e.brand} v${e==null?void 0:e.version}}`}else return t.appVersion}a(qe,"getBrowserRelease");class Ye extends Wt{constructor(e,n){let r=a(s=>Ce(s,n),"clientFactory");an.shouldUseOneDataSystemSDK(e)&&(r=a(s=>vt(s,c),"clientFactory"));const i={release:qe(navigator),platform:"web",architecture:"web"},o=new Ot(e,r);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,c,{additionalCommonProperties:an.getAdditionalCommonProperties(i)})}}a(Ye,"TelemetryReporter");const yt="Type of classified event does not match event properties",Bt=a(class{constructor(t){this.context=t,this.sharedProperties={},Bt._instance=this,this.reporter=new Ye(Bt.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(t,e){e!==yt&&this.reporter.sendTelemetryEvent(t,{...this.sharedProperties,...e})}sendEvent(t,e,n){this.reporter.sendTelemetryEvent(t,{...this.sharedProperties,...e},n)}sendErrorEvent(t,e,n){this.reporter.sendTelemetryErrorEvent(t,{...this.sharedProperties,...e},n)}sendException(t,e,n){this.reporter.sendTelemetryException(t,{...this.sharedProperties,...e},n)}setSharedProperty(t,e){this.sharedProperties[t]=e}reportWorkbenchLoadResult(t){const e="_codespaces.webeditor.connectWorkspace";c.env.appHost==="github.dev"&&(X.debug(`Executing ${e}`),t={...t,errorDetail:t.errorDetail instanceof Error?t.errorDetail.name:void 0},c.commands.executeCommand(e,t).then(n=>{},n=>{X.debug(`Failed to execute ${e}`,n)}))}},"_TelemetryService");let nn=Bt;nn.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function An(t,e){const n=c.l10n.t("Report Issue"),r=c.l10n.t("Reload");c.window.showErrorMessage(c.l10n.t("The {0} extension failed to activate.",t.extension.packageJSON.displayName),{modal:!0,detail:c.l10n.t("Please try reloading the window, or report an issue.")},r,n).then(i=>{i===n?c.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:t.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===r&&c.commands.executeCommand("workbench.action.reloadWindow")})}a(An,"handleExtensionActivationError");let Sn;var Hn;(function(t){function e(n){const r=Bi(n);return Sn=c.env.uiKind===c.UIKind.Web,X.warn(`Running on the ${Sn?"web":"desktop"}${n.extensionRuntime!==c.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${n.globalStorageUri.toString(!0)}`),r}a(e,"configure"),t.configure=e})(Hn||(Hn={}));const _i=/\/workspaceStorage\/(?<id>[^/]+)/i;function Bi(t){var e;if(t.storageUri===void 0)return"";const n=_i.exec(t.storageUri.path);let r;if((e=n==null?void 0:n.groups)==null?void 0:e.id)r=n.groups.id;else{r=t.storageUri.path;const i=Zr(t.globalStorageUri.path,r),o=`/${t.extension.id}`;r.endsWith(o)?r=r.slice(i,-o.length):r=r.substr(i)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}a(Bi,"getWorkspaceId");function Xi(t,e){return t.reduce((r,i)=>{const o=e(i),s=r.get(o);return s===void 0?r.set(o,[i]):s.push(i),r},new Map)}a(Xi,"groupBy");function ur(t){let e=0;for(const n of t){if(n===0)return!0;if(e++,e>8e3)break}return!1}a(ur,"isBinary");function Di(t,e,n=r=>r){return[...t.reduce((i,o)=>{const s=e(o),l=i.get(s);if(l===void 0)i.set(s,o);else{const f=n(l,o);f!==void 0&&i.set(s,f)}return i},new Map).values()]}a(Di,"uniqueBy");const ci=a(class{constructor(t,e,n,r,i){this.providerService=t,this.storageService=e,this.changeStore=n,this.workspaceId=r,this.context=i,this._onDidChange=new c.EventEmitter,this.cache=new Map,this.lock=new cn("WorkspaceRepositories"),this.disposable=c.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),Ne.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const t=await c.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void c.window.showTextDocument(t)}onConfigurationChanged(t){if(!Ne.changed(t,"experimental.syncRecentList"))return;const e=Ne.get("experimental.syncRecentList")===!0?[ci.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(t){const e=Di(t.map(n=>n.rootUri),n=>S(n)).map(n=>this.providerService.getRepository(n)).filter(n=>Boolean(n));this.addOrUpdate(e)}onRepositoriesChanged(t){this.addOrUpdate(t.added)}onRepositoryChanged(t){this.addOrUpdate([t.repository])}async get(t){let e=await this.lock.synchronizeRead(async()=>{let n=this.cache.get("workspaceRepositories");return n===void 0&&(n=[...(await this.getCore()).values()].sort((r,i)=>i.timestamp-r.timestamp),this.cache.set("workspaceRepositories",n)),n},"WorkspaceRepositories.get");if(t){const n=S(t);e=e.filter(r=>S(r.canonicalUri)===n)}return e}async getCore(){return this.fromStorage(await this.storageService.get(ci.storageKey))}async getRecents(t=10){return(await this.get()).slice(0,t)}async getRemoteWorkspaceSourceProvider(t){const e=await this.getRecents();if(e.length!==0)return e.filter(n=>n.provider.id===t)}refresh(){this.cache.clear()}async remove(t){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),n=`${t.workspaceId}/${S(t.uri)}`,r=e.get(n);if(r===void 0)return;const i=this.changeStore.getScopedChangeStore(r),o=await i.getChanges(r.uri);if(o.length!==0){const s={title:c.l10n.t("Yes")},l={title:c.l10n.t("No"),isCloseAffordance:!0};if(await c.window.showWarningMessage(o.length===1?c.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):c.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,o.length),{modal:!0},s,l)!==s)return;await i.discardAll(r.uri)}this.cache.clear(),e.delete(n);try{await this.storageService.store(ci.storageKey,this.toStorage(e))}catch(s){throw X.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(t){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const n of t){const[{HEAD:r,pullRequest:i},o]=await Promise.all([n.getMetadata(),n.getIndexMetadata()]),s=await this.changeStore.getChanges(n.uri);e.set(`${this.workspaceId}/${S(n.uri)}`,{workspaceId:this.workspaceId,uri:n.uri,canonicalUri:n.canonicalUri,name:n.name,provider:n.provider,ref:{type:r.type,name:r.name},idx:(o==null?void 0:o.type)&&ie.hasIndex(o.type)?{type:o.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:Ha(s),timestamp:Date.now()})}try{await this.storageService.store(ci.storageKey,this.toStorage(e))}catch(n){throw X.error(n,"Failed to save workspace repositories"),n}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(t){if(!t)return new Map;try{const e=JSON.parse(t,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&A(r)?c.Uri.from(r):r);return new Map(e.workspaceRepositories)}catch(e){return X.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(t){const e={schemaVersion:ci.storageSchemaVersion,workspaceRepositories:[...t]};return JSON.stringify(e)}},"_WorkspaceRepositories");let Ji=ci;Ji.storageKey="workspaceRepositories",Ji.storageSchemaVersion=1;function mo(t){return t!==void 0&&(t.added!==0||t.changed!==0||t.deleted!==0)}a(mo,"hasChanges");function Aa(t){return mo(t.changes)}a(Aa,"hasUncommittedChanges");function Ha(t){let e=0,n=0,r=0;for(const i of t)switch(i.type){case z.Created:e++;break;case z.Changed:n++;break;case z.Deleted:r++;break}return e||n||r?{added:e,changed:n,deleted:r,timestamp:Date.now()}:void 0}a(Ha,"toChangesSummary");function ss(t,{compact:e=!0,preamble:n,separator:r=", ",short:i=!1,single:o=!1}={}){if(!mo(t))return l10n.t("Everything up to date");const{added:s,changed:l,deleted:f}=t;if(o){const h=s+l+f;return h===1?l10n.t("{0} change",h):l10n.t("{0} changes",h)}let u=`${n!=null?n:""}`;return(s||!e)&&(u+=i?`+${s}`:s===1?l10n.t("{0} file added",s):l10n.t("{0} files added",s),(l||f||!e)&&(u+=r)),(l||!e)&&(u+=i?`~${l}`:l===1?l10n.t("{0} file changed",l):l10n.t("{0} files changed",l),(f||!e)&&(u+=r)),(f||!e)&&(u+=i?`-${f}`:f===1?l10n.t("{0} file deleted",f):l10n.t("{0} files deleted",f)),u}a(ss,"formatChangesSummary");var Ra=__webpack_require__(7360),_o=__webpack_require__(919),ha=__webpack_require__.n(_o),wo,Ar;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ar||(Ar={}));class Jn{constructor(){this[wo]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Ar.None){const r=this._map.get(e);if(!!r)return n!==Ar.None&&this.touch(r,n),r.value}set(e,n,r=Ar.None){let i=this._map.get(e);if(i)i.value=n,r!==Ar.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Ar.None:this.addItemLast(i);break;case Ar.First:this.addItemFirst(i);break;case Ar.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){const r=this._state;let i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}return{value:void 0,done:!0}}};return r}values(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}return{value:void 0,done:!0}}};return r}[(wo=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Ar.First&&n!==Ar.Last)){if(n===Ar.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Ar.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(const[n,r]of e)this.set(n,r)}}a(Jn,"LinkedMap");class Tr extends Jn{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Ar.AsNew){return super.get(e,n)}peek(e){return super.get(e,Ar.None)}set(e,n){return super.set(e,n,Ar.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(Tr,"LRUCache");function Ia(t,e,n){if(!(e==null?void 0:e.length)&&!(n==null?void 0:n.length))return new Set(t);let r;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(s=>`${s}/**`)]),o=ha()(t,[...i],{dot:!0,nocase:!0});r=new Set(o)}if(n==null?void 0:n.length){const i=new Set([...n,...n.map(o=>`${o}/**`)]);if(r===void 0){const o=ha().not(t,[...i],{dot:!0,nocase:!0});r=new Set(o)}else ha()(t,[...i],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}a(Ia,"globFilter");function wr(t,e={}){if(!t)return To;if(typeof t=="string"||vs(t)){const n=Wa(t,e);if(n===Ei)return To;const r=a(function(i,o){return!!n(i,o)},"resultPattern");return n.allBasenames&&(r.allBasenames=n.allBasenames),n.allPaths&&(r.allPaths=n.allPaths),r}return za(t,e)}a(wr,"parse");function ls(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let r=0,i=t.length;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}a(ls,"equals");function wi(t){return!!t&&typeof t.then=="function"}a(wi,"isThenable");function ea(){return Object.create(null)}a(ea,"getEmptyExpression");const yi="**",Ii="/",Fa="[/\\\\]",Oa="[^/\\\\]",us=/\//g;function yo(t,e){switch(t){case 0:return"";case 1:return`${Oa}*?`;default:return`(?:${Fa}|${Oa}+${Fa}${e?`|${Fa}${Oa}+`:""})*?`}}a(yo,"starsToRegExp");function Eo(t,e){if(!t)return[];const n=[];let r=!1,i=!1,o="";for(const s of t){switch(s){case e:if(!r&&!i){n.push(o),o="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":i=!0;break;case"]":i=!1;break}o+=s}return o&&n.push(o),n}a(Eo,"splitGlobAware");function bo(t){if(!t)return"";let e="";const n=Eo(t,Ii);if(n.every(r=>r===yi))e=".*";else{let r=!1;n.forEach((i,o)=>{if(i===yi){if(r)return;e+=yo(2,o===n.length-1)}else{let s=!1,l="",f=!1,u="";for(const h of i){if(h!=="}"&&s){l+=h;continue}if(f&&(h!=="]"||!u)){let F;h==="-"?F=h:(h==="^"||h==="!")&&!u?F="^":h===Ii?F="":F=escapeRegExpCharacters(h),u+=F;continue}switch(h){case"{":s=!0;continue;case"[":f=!0;continue;case"}":{e+=`(?:${Eo(l,",").map(P=>bo(P)).join("|")})`,s=!1,l="";break}case"]":{e+="["+u+"]",f=!1,u="";break}case"?":e+=Oa;continue;case"*":e+=yo(1);continue;default:e+=escapeRegExpCharacters(h)}}o<n.length-1&&(n[o+1]!==yi||o+2<n.length)&&(e+=Fa)}r=i===yi})}return e}a(bo,"parseRegExp");const cs=/^\*\*\/\*\.[\w\.-]+$/,fs=/^\*\*\/([\w\.-]+)\/?$/,So=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,ds=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,xo=/^\*\*((\/[\w\.-]+)+)\/?$/,hs=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Co=new Tr(1e4),To=a(function(){return!1},"FALSE"),Ei=a(function(){return null},"NULL");function Wa(t,e){if(!t)return Ei;let n;typeof t!="string"?n=t.pattern:n=t,n=n.trim();const r=`${n}_${!!e.trimForExclusions}`;let i=Co.get(r);if(i)return Do(i,t);let o;return cs.test(n)?i=ps(n.substr(4),n):(o=fs.exec(fi(n,e)))?i=Pa(o[1],n):(e.trimForExclusions?ds:So).test(n)?i=Ao(n,e):(o=xo.exec(fi(n,e)))?i=Ro(o[1].substr(1),n,!0):(o=hs.exec(fi(n,e)))?i=Ro(o[1],n,!1):i=Io(n),Co.set(r,i),Do(i,t)}a(Wa,"parsePattern");function gs(t,e){if(!t||!e)return t;const n=e.length;if(n===0||t.length===0)return t;let r=0;for(;t.indexOf(e,r)===r;)r=r+n;return t.substring(r)}a(gs,"ltrim");function Do(t,e){if(typeof e=="string")return t;const n=a(function(r,i){return isDescendent(r,e.base)?t(gs(r.substr(e.base.length),"/"),i):null},"wrappedPattern");return n.allBasenames=t.allBasenames,n.allPaths=t.allPaths,n.basenames=t.basenames,n.patterns=t.patterns,n}a(Do,"wrapRelativePattern");function fi(t,e){return e.trimForExclusions&&t.endsWith("/**")?t.substr(0,t.length-2):t}a(fi,"trimForExclusions");function ps(t,e){return function(n,r){return typeof n=="string"&&n.endsWith(t)?e:null}}a(ps,"trivia1");function Pa(t,e){const n=`/${t}`,r=`\\${t}`,i=a(function(s,l){return typeof s!="string"?null:l?l===t?e:null:s===t||s.endsWith(n)||s.endsWith(r)?e:null},"parsedPattern"),o=[t];return i.basenames=o,i.patterns=[e],i.allBasenames=o,i}a(Pa,"trivia2");function Ao(t,e){const n=ga(t.slice(1,-1).split(",").map(l=>Wa(l,e)).filter(l=>l!==Ei),t),r=n.length;if(!r)return Ei;if(r===1)return n[0];const i=a(function(l,f){for(let u=0,h=n.length;u<h;u++)if(n[u](l,f))return t;return null},"parsedPattern"),o=n.find(l=>!!l.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=n.reduce((l,f)=>f.allPaths?l.concat(f.allPaths):l,[]);return s.length&&(i.allPaths=s),i}a(Ao,"trivia3");function Ro(t,e,n){const r="/"+t;let i;return n?i=a(function(o,s){return typeof o=="string"&&o.endsWith(r)?e:null},"parsedPattern"):i=a(function(o,s){return null},"parsedPattern"),i.allPaths=[(n?"*/":"./")+t],i}a(Ro,"trivia4and5");function Io(t){try{const e=new RegExp(`^${bo(t)}$`);return function(n){return e.lastIndex=0,typeof n=="string"&&e.test(n)?t:null}}catch(e){return Ei}}a(Io,"toRegExp");function ul(t,e,n){return!t||typeof e!="string"?!1:wr(t)(e,void 0,n)}a(ul,"match");function vs(t){const e=t;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(vs,"isRelativePattern");function ms(t){return t.allBasenames||[]}a(ms,"getBasenameTerms");function nc(t){return t.allPaths||[]}a(nc,"getPathTerms");function Fo(t){let e=-1,n=0,r=-1,i=!0,o=0;for(let s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}continue}r===-1&&(i=!1,r=s+1),l===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===n+1?"":t.slice(e,r)}a(Fo,"extname");function za(t,e){const n=ga(Object.getOwnPropertyNames(t).map(l=>ja(l,t[l],e)).filter(l=>l!==Ei)),r=n.length;if(!r)return Ei;if(!n.some(l=>!!l.requiresSiblings)){if(r===1)return n[0];const l=a(function(h,F){let D;for(let P=0,oe=n.length;P<oe;P++){const he=n[P](h,F);if(typeof he=="string")return he;wi(he)&&(D||(D=[]),D.push(he))}return D?(async()=>{for(const P of D){const oe=await P;if(typeof oe=="string")return oe}return null})():null},"resultExpression2"),f=n.find(h=>!!h.allBasenames);f&&(l.allBasenames=f.allBasenames);const u=n.reduce((h,F)=>F.allPaths?h.concat(F.allPaths):h,[]);return u.length&&(l.allPaths=u),l}const i=a(function(l,f,u){let h,F;for(let D=0,P=n.length;D<P;D++){const oe=n[D];oe.requiresSiblings&&u&&(f||(f=basename(l)),h||(h=f.substr(0,f.length-Fo(l).length)));const he=oe(l,f,h,u);if(typeof he=="string")return he;wi(he)&&(F||(F=[]),F.push(he))}return F?(async()=>{for(const D of F){const P=await D;if(typeof P=="string")return P}return null})():null},"resultExpression"),o=n.find(l=>!!l.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=n.reduce((l,f)=>f.allPaths?l.concat(f.allPaths):l,[]);return s.length&&(i.allPaths=s),i}a(za,"parsedExpression");function ja(t,e,n){if(e===!1)return Ei;const r=Wa(t,n);if(r===Ei)return Ei;if(typeof e=="boolean")return r;if(e){const i=e.when;if(typeof i=="string"){const o=a((s,l,f,u)=>{if(!u||!r(s,l))return null;const h=i.replace("$(basename)",()=>f),F=u(h);return wi(F)?F.then(D=>D?t:null):F?t:null},"result");return o.requiresSiblings=!0,o}}return r}a(ja,"parseExpressionPattern");function ga(t,e){const n=t.filter(l=>!!l.basenames);if(n.length<2)return t;const r=n.reduce((l,f)=>{const u=f.basenames;return u?l.concat(u):l},[]);let i;if(e){i=[];for(let l=0,f=r.length;l<f;l++)i.push(e)}else i=n.reduce((l,f)=>{const u=f.patterns;return u?l.concat(u):l},[]);const o=a(function(l,f){if(typeof l!="string")return null;if(!f){let h;for(h=l.length;h>0;h--){const F=l.charCodeAt(h-1);if(F===47||F===92)break}f=l.substr(h)}const u=r.indexOf(f);return u!==-1?i[u]:null},"aggregate");o.basenames=r,o.patterns=i,o.allBasenames=r;const s=t.filter(l=>!l.basenames);return s.push(o),s}a(ga,"aggregateBasenameMatches");function cl(t,e){return ls(t,e,(n,r)=>typeof n=="string"&&typeof r=="string"?n===r:typeof n!="string"&&typeof r!="string"?n.base===r.base&&n.pattern===r.pattern:!1)}a(cl,"patternsEquals");const _s=new TextDecoder,ws=new TextEncoder;function N(t){const e=_s.decode(t).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const n={};for(const l of e){const[f,u]=l.split(" ");n[f]=u}if(!("oid"in n)||!("version"in n)||!("size"in n))return{oid:void 0,size:void 0,version:void 0};let{oid:r,size:i,version:o}=n;const s="sha256:";return r.startsWith(s)&&(r=r.substring(s.length)),{oid:r,size:Number(i),version:o}}a(N,"parseLfsFile");function C(t,e){const n=t.getAttributesFor(e);return(n==null?void 0:n.filter)==="lfs"}a(C,"isLfsTrackedFile");function M(t,e,n="https://git-lfs.github.com/spec/v1"){return On(ws.encode(`version ${n}
oid sha256:${t}
size ${e.toString()}
`))}a(M,"createLfsPointerFile");async function Y(t){const e=await Ct(t),n=t.byteLength;return{oid:e,size:n}}a(Y,"getLfsOperation");const ge="";function Re(...t){if(t.length===1){const e=t[0];return e===void 0?ge:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof c.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(t)}a(Re,"serialize_defaultResolver");function je(t){return(e,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const o=`$serialize$${n}`;r.value=function(...s){const l=s.length===0?o:`${o}$${(t!=null?t:Re)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let f=this[l];const u=a(()=>i.apply(this,s),"run");return f===void 0?f=u():f=f.then(u,u),this[l]=f,f}}}a(je,"serialize");function*Je(t,e){for(const n of t)yield*e(n)}a(Je,"flatMap");function*Dt(t,e){for(const n of t)e(n)&&(yield n)}a(Dt,"filter");function*bt(t,e){for(const n of t){const r=e(n);r!=null&&(yield r)}}a(bt,"filterMap");function zt(t,e){for(const n of t)if(e(n))return n}a(zt,"find");function fn(t,e){let n="";const r=t[Symbol.iterator]();let i=r.next();if(i.done)return n;for(;;){const o=i.value.toString();if(i=r.next(),i.done){n+=o;break}n+=o,n+=e}return n}a(fn,"join");function*Gn(t,e){for(const n of t)yield e(n)}a(Gn,"map");function dn(t,e){for(const n of t)if(e(n))return!0;return!1}a(dn,"some");function*Pn(...t){for(const e of t)for(const n of e)yield n}a(Pn,"union");function*Rr(t){const e=new Set;for(const n of t)e.has(n)||(e.add(n),yield n)}a(Rr,"unique");function Ke(t,e,n={}){if(!t)throw new Error("Cannot create regex from empty string");e||(t=Lr(t)),n.wholeWord&&(/\B/.test(t.charAt(0))||(t=`\\b${t}`),/\B/.test(t.charAt(t.length-1))||(t=`${t}\\b`));let r="gmu";return n.matchCase||(r+="i"),new RegExp(t,r)}a(Ke,"createRegExp");let rr,Yn,gr;const Dr=a((t,e,n,r)=>{const i=`${e.join("--")};;;;${n.join("--")}`,o=t.map(l=>l.path).join("::");if(rr===o&&i==Yn&&gr)return gr;const s=Ia((r?t.filter(l=>l.size<r):t).map(l=>l.path),e,n);return rr=o,Yn=i,gr=s,s},"generateIncludeSet"),Ui=a((t,e,n,r)=>{var i;const o=[];let s;if(typeof t=="string")s=t;else{const h=t;if(h[0]==255&&h[1]==254)s=new TextDecoder("utf-16le").decode(h);else if(h[0]==254&&h[1]==255)s=new TextDecoder("utf-16be").decode(h);else if(s=new TextDecoder("utf8").decode(h),s.slice(0,1e3).includes("\uFFFD")&&h.includes(0))return[]}const l=[];let f=null,u=r.remainingResultQuota;for(;(u===void 0||u>=0)&&(f=n.exec(s));)l.push({matchStartIndex:f.index,matchedText:f[0]}),u!==void 0&&u--;if(l.length){const h=new Set,F=new Set,D=[],P=a(Qe=>s.slice(D[Qe].start,D[Qe].end),"readLine");let oe=0,he=null;const Le=/\r?\n/g;for(;he=Le.exec(s);)D.push({start:oe,end:he.index}),oe=he.index+he[0].length;oe<s.length&&D.push({start:oe,end:s.length});let Ae=0;for(const{matchStartIndex:Qe,matchedText:it}of l){if(u!==void 0&&u<0)break;for(;Boolean(D[Ae+1])&&Qe>D[Ae].end;)Ae++;let $e=Ae;for(;Boolean(D[$e+1])&&Qe+it.length>D[$e].end;)$e++;if(r.beforeContext)for(let at=Math.max(0,Ae-r.beforeContext);at<Ae;at++)h.add(at);let ft="",It=0;for(let at=Ae;at<=$e;at++){let $t=P(at);((i=r.previewOptions)==null?void 0:i.charsPerLine)&&$t.length>r.previewOptions.charsPerLine&&(It=Math.max(Qe-D[Ae].start-20,0),$t=$t.substr(It,r.previewOptions.charsPerLine)),ft+=`${$t}
`,F.add(at)}const ct=new c.Range(Ae,Qe-D[Ae].start,$e,Qe+it.length-D[$e].start),_t=new c.Range(0,Qe-D[Ae].start-It,$e-Ae,Qe+it.length-D[$e].start-($e===Ae?It:0)),jt={uri:c.Uri.file(e),ranges:ct,preview:{text:ft,matches:_t}};if(o.push(jt),r.afterContext)for(let at=$e+1;at<=Math.min($e+r.afterContext,D.length-1);at++)h.add(at)}for(const Qe of h)F.has(Qe)||o.push({uri:c.Uri.file(e),text:P(Qe),lineNumber:Qe+1})}return o},"getFileResults");/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Oo=4,pa=0,va=1,ys=2;function ta(t){let e=t.length;for(;--e>=0;)t[e]=0}a(ta,"zero$1");const Po=0,Na=1,Ka=2,Es=3,Ga=258,ma=29,na=256,$i=na+1+ma,Hi=30,ka=19,No=2*$i+1,Wi=15,Ya=16,ko=7,Ue=256,Tt=16,Pt=17,ln=18,xn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Nn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ir=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ii=512,ir=new Array(($i+2)*2);ta(ir);const yr=new Array(Hi*2);ta(yr);const Br=new Array(ii);ta(Br);const pr=new Array(Ga-Es+1);ta(pr);const zi=new Array(ma);ta(zi);const Lo=new Array(Hi);ta(Lo);function bs(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}a(bs,"StaticTreeDesc");let fl,dl,hl;function Ss(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}a(Ss,"TreeDesc");const gl=a(t=>t<256?Br[t]:Br[256+(t>>>7)],"d_code"),Va=a((t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},"put_short"),ai=a((t,e,n)=>{t.bi_valid>Ya-n?(t.bi_buf|=e<<t.bi_valid&65535,Va(t,t.bi_buf),t.bi_buf=e>>Ya-t.bi_valid,t.bi_valid+=n-Ya):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},"send_bits"),Fi=a((t,e,n)=>{ai(t,n[e*2],n[e*2+1])},"send_code"),pl=a((t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},"bi_reverse"),rc=a(t=>{t.bi_valid===16?(Va(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},"bi_flush"),ic=a((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,f=e.stat_desc.max_length;let u,h,F,D,P,oe,he=0;for(D=0;D<=Wi;D++)t.bl_count[D]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<No;u++)h=t.heap[u],D=n[n[h*2+1]*2+1]+1,D>f&&(D=f,he++),n[h*2+1]=D,!(h>r)&&(t.bl_count[D]++,P=0,h>=l&&(P=s[h-l]),oe=n[h*2],t.opt_len+=oe*(D+P),o&&(t.static_len+=oe*(i[h*2+1]+P)));if(he!==0){do{for(D=f-1;t.bl_count[D]===0;)D--;t.bl_count[D]--,t.bl_count[D+1]+=2,t.bl_count[f]--,he-=2}while(he>0);for(D=f;D!==0;D--)for(h=t.bl_count[D];h!==0;)F=t.heap[--u],!(F>r)&&(n[F*2+1]!==D&&(t.opt_len+=(D-n[F*2+1])*n[F*2],n[F*2+1]=D),h--)}},"gen_bitlen"),vl=a((t,e,n)=>{const r=new Array(Wi+1);let i=0,o,s;for(o=1;o<=Wi;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=e;s++){let l=t[s*2+1];l!==0&&(t[s*2]=pl(r[l]++,l))}},"gen_codes"),ac=a(()=>{let t,e,n,r,i;const o=new Array(Wi+1);for(n=0,r=0;r<ma-1;r++)for(zi[r]=n,t=0;t<1<<xn[r];t++)pr[n++]=r;for(pr[n-1]=r,i=0,r=0;r<16;r++)for(Lo[r]=i,t=0;t<1<<Nn[r];t++)Br[i++]=r;for(i>>=7;r<Hi;r++)for(Lo[r]=i<<7,t=0;t<1<<Nn[r]-7;t++)Br[256+i++]=r;for(e=0;e<=Wi;e++)o[e]=0;for(t=0;t<=143;)ir[t*2+1]=8,t++,o[8]++;for(;t<=255;)ir[t*2+1]=9,t++,o[9]++;for(;t<=279;)ir[t*2+1]=7,t++,o[7]++;for(;t<=287;)ir[t*2+1]=8,t++,o[8]++;for(vl(ir,$i+1,o),t=0;t<Hi;t++)yr[t*2+1]=5,yr[t*2]=pl(t,5);fl=new bs(ir,xn,na+1,$i,Wi),dl=new bs(yr,Nn,0,Hi,Wi),hl=new bs(new Array(0),$n,0,ka,ko)},"tr_static_init"),ml=a(t=>{let e;for(e=0;e<$i;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Hi;e++)t.dyn_dtree[e*2]=0;for(e=0;e<ka;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Ue*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},"init_block"),_l=a(t=>{t.bi_valid>8?Va(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},"bi_windup"),oc=a((t,e,n,r)=>{_l(t),r&&(Va(t,n),Va(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},"copy_block"),wl=a((t,e,n,r)=>{const i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},"smaller"),xs=a((t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&wl(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!wl(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},"pqdownheap"),yl=a((t,e,n)=>{let r,i,o=0,s,l;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+o*2]<<8|t.pending_buf[t.d_buf+o*2+1],i=t.pending_buf[t.l_buf+o],o++,r===0?Fi(t,i,e):(s=pr[i],Fi(t,s+na+1,e),l=xn[s],l!==0&&(i-=zi[s],ai(t,i,l)),r--,s=gl(r),Fi(t,s,n),l=Nn[s],l!==0&&(r-=Lo[s],ai(t,r,l)));while(o<t.last_lit);Fi(t,Ue,e)},"compress_block"),Cs=a((t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,l,f=-1,u;for(t.heap_len=0,t.heap_max=No,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=f=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=f<2?++f:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=f,s=t.heap_len>>1;s>=1;s--)xs(t,n,s);u=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],xs(t,n,1),l=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=l,n[u*2]=n[s*2]+n[l*2],t.depth[u]=(t.depth[s]>=t.depth[l]?t.depth[s]:t.depth[l])+1,n[s*2+1]=n[l*2+1]=u,t.heap[1]=u++,xs(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],ic(t,e),vl(n,f,t.bl_count)},"build_tree"),El=a((t,e,n)=>{let r,i=-1,o,s=e[0*2+1],l=0,f=7,u=4;for(s===0&&(f=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++l<f&&o===s)&&(l<u?t.bl_tree[o*2]+=l:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[Tt*2]++):l<=10?t.bl_tree[Pt*2]++:t.bl_tree[ln*2]++,l=0,i=o,s===0?(f=138,u=3):o===s?(f=6,u=3):(f=7,u=4))},"scan_tree"),bl=a((t,e,n)=>{let r,i=-1,o,s=e[0*2+1],l=0,f=7,u=4;for(s===0&&(f=138,u=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++l<f&&o===s)){if(l<u)do Fi(t,o,t.bl_tree);while(--l!=0);else o!==0?(o!==i&&(Fi(t,o,t.bl_tree),l--),Fi(t,Tt,t.bl_tree),ai(t,l-3,2)):l<=10?(Fi(t,Pt,t.bl_tree),ai(t,l-3,3)):(Fi(t,ln,t.bl_tree),ai(t,l-11,7));l=0,i=o,s===0?(f=138,u=3):o===s?(f=6,u=3):(f=7,u=4)}},"send_tree"),sc=a(t=>{let e;for(El(t,t.dyn_ltree,t.l_desc.max_code),El(t,t.dyn_dtree,t.d_desc.max_code),Cs(t,t.bl_desc),e=ka-1;e>=3&&t.bl_tree[Ir[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},"build_bl_tree"),lc=a((t,e,n,r)=>{let i;for(ai(t,e-257,5),ai(t,n-1,5),ai(t,r-4,4),i=0;i<r;i++)ai(t,t.bl_tree[Ir[i]*2+1],3);bl(t,t.dyn_ltree,e-1),bl(t,t.dyn_dtree,n-1)},"send_all_trees"),uc=a(t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return pa;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return va;for(n=32;n<na;n++)if(t.dyn_ltree[n*2]!==0)return va;return pa},"detect_data_type");let Sl=!1;const cc=a(t=>{Sl||(ac(),Sl=!0),t.l_desc=new Ss(t.dyn_ltree,fl),t.d_desc=new Ss(t.dyn_dtree,dl),t.bl_desc=new Ss(t.bl_tree,hl),t.bi_buf=0,t.bi_valid=0,ml(t)},"_tr_init$1"),xl=a((t,e,n,r)=>{ai(t,(Po<<1)+(r?1:0),3),oc(t,e,n,!0)},"_tr_stored_block$1"),fc=a(t=>{ai(t,Na<<1,3),Fi(t,Ue,ir),rc(t)},"_tr_align$1"),dc=a((t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===ys&&(t.strm.data_type=uc(t)),Cs(t,t.l_desc),Cs(t,t.d_desc),s=sc(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?xl(t,e,n,r):t.strategy===Oo||o===i?(ai(t,(Na<<1)+(r?1:0),3),yl(t,ir,yr)):(ai(t,(Ka<<1)+(r?1:0),3),lc(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),yl(t,t.dyn_ltree,t.dyn_dtree)),ml(t),r&&_l(t)},"_tr_flush_block$1"),hc=a((t,e,n)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(pr[n]+na+1)*2]++,t.dyn_dtree[gl(e)*2]++),t.last_lit===t.lit_bufsize-1),"_tr_tally$1");var gc=cc,pc=xl,vc=dc,mc=hc,_c=fc,wc={_tr_init:gc,_tr_stored_block:pc,_tr_flush_block:vc,_tr_tally:mc,_tr_align:_c},qa=a((t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},"adler32");const yc=a(()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},"makeTable"),Ec=new Uint32Array(yc());var Ur=a((t,e,n,r)=>{const i=Ec,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},"crc32"),_a={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:bc,_tr_stored_block:Sc,_tr_flush_block:xc,_tr_tally:ra,_tr_align:Cc}=wc,{Z_NO_FLUSH:ya,Z_PARTIAL_FLUSH:Tc,Z_FULL_FLUSH:Dc,Z_FINISH:ia,Z_BLOCK:Cl,Z_OK:Oi,Z_STREAM_END:Tl,Z_STREAM_ERROR:bi,Z_DATA_ERROR:Ac,Z_BUF_ERROR:Ts,Z_DEFAULT_COMPRESSION:Rc,Z_FILTERED:Ic,Z_HUFFMAN_ONLY:Mo,Z_RLE:Fc,Z_FIXED:Oc,Z_DEFAULT_STRATEGY:Pc,Z_UNKNOWN:Nc,Z_DEFLATED:Bo}=wa,kc=9,Lc=15,Mc=8,Bc=29,Ds=256+1+Bc,Uc=30,$c=19,Hc=2*Ds+1,Wc=15,Ln=3,aa=258,Ai=aa+Ln+1,zc=32,Uo=42,As=69,$o=73,Ho=91,Wo=103,Ea=113,Za=666,Or=1,Qa=2,ba=3,La=4,jc=3,oa=a((t,e)=>(t.msg=_a[e],e),"err"),Dl=a(t=>(t<<1)-(t>4?9:0),"rank"),sa=a(t=>{let e=t.length;for(;--e>=0;)t[e]=0},"zero");let la=a((t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,"HASH_ZLIB");const ua=a(t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},"flush_pending"),jr=a((t,e)=>{xc(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ua(t.strm)},"flush_block_only"),Wn=a((t,e)=>{t.pending_buf[t.pending++]=e},"put_byte"),Xa=a((t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},"putShortMSB"),Kc=a((t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=qa(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Ur(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},"read_buf"),Al=a((t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,l=t.nice_match;const f=t.strstart>t.w_size-Ai?t.strstart-(t.w_size-Ai):0,u=t.window,h=t.w_mask,F=t.prev,D=t.strstart+aa;let P=u[r+s-1],oe=u[r+s];t.prev_length>=t.good_match&&(n>>=2),l>t.lookahead&&(l=t.lookahead);do if(i=e,!(u[i+s]!==oe||u[i+s-1]!==P||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<D);if(o=aa-(D-r),r=D-aa,o>s){if(t.match_start=e,s=o,o>=l)break;P=u[r+s-1],oe=u[r+s]}}while((e=F[e&h])>f&&--n!=0);return s<=t.lookahead?s:t.lookahead},"longest_match"),Sa=a(t=>{const e=t.w_size;let n,r,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ai)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do i=t.head[--n],t.head[n]=i>=e?i-e:0;while(--r);r=e,n=r;do i=t.prev[--n],t.prev[n]=i>=e?i-e:0;while(--r);o+=e}if(t.strm.avail_in===0)break;if(r=Kc(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=Ln)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=la(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=la(t,t.ins_h,t.window[s+Ln-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Ln)););}while(t.lookahead<Ai&&t.strm.avail_in!==0)},"fill_window"),Gc=a((t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Sa(t),t.lookahead===0&&e===ya)return Or;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,jr(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Ai&&(jr(t,!1),t.strm.avail_out===0))return Or}return t.insert=0,e===ia?(jr(t,!0),t.strm.avail_out===0?ba:La):(t.strstart>t.block_start&&(jr(t,!1),t.strm.avail_out===0),Or)},"deflate_stored"),Rs=a((t,e)=>{let n,r;for(;;){if(t.lookahead<Ai){if(Sa(t),t.lookahead<Ai&&e===ya)return Or;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ln&&(t.ins_h=la(t,t.ins_h,t.window[t.strstart+Ln-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Ai&&(t.match_length=Al(t,n)),t.match_length>=Ln)if(r=ra(t,t.strstart-t.match_start,t.match_length-Ln),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Ln){t.match_length--;do t.strstart++,t.ins_h=la(t,t.ins_h,t.window[t.strstart+Ln-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=la(t,t.ins_h,t.window[t.strstart+1]);else r=ra(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(jr(t,!1),t.strm.avail_out===0))return Or}return t.insert=t.strstart<Ln-1?t.strstart:Ln-1,e===ia?(jr(t,!0),t.strm.avail_out===0?ba:La):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Or:Qa},"deflate_fast"),Ma=a((t,e)=>{let n,r,i;for(;;){if(t.lookahead<Ai){if(Sa(t),t.lookahead<Ai&&e===ya)return Or;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ln&&(t.ins_h=la(t,t.ins_h,t.window[t.strstart+Ln-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Ln-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ai&&(t.match_length=Al(t,n),t.match_length<=5&&(t.strategy===Ic||t.match_length===Ln&&t.strstart-t.match_start>4096)&&(t.match_length=Ln-1)),t.prev_length>=Ln&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Ln,r=ra(t,t.strstart-1-t.prev_match,t.prev_length-Ln),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=la(t,t.ins_h,t.window[t.strstart+Ln-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=Ln-1,t.strstart++,r&&(jr(t,!1),t.strm.avail_out===0))return Or}else if(t.match_available){if(r=ra(t,0,t.window[t.strstart-1]),r&&jr(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Or}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=ra(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Ln-1?t.strstart:Ln-1,e===ia?(jr(t,!0),t.strm.avail_out===0?ba:La):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Or:Qa},"deflate_slow"),Yc=a((t,e)=>{let n,r,i,o;const s=t.window;for(;;){if(t.lookahead<=aa){if(Sa(t),t.lookahead<=aa&&e===ya)return Or;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Ln&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+aa;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=aa-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Ln?(n=ra(t,1,t.match_length-Ln),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=ra(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(jr(t,!1),t.strm.avail_out===0))return Or}return t.insert=0,e===ia?(jr(t,!0),t.strm.avail_out===0?ba:La):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Or:Qa},"deflate_rle"),Vc=a((t,e)=>{let n;for(;;){if(t.lookahead===0&&(Sa(t),t.lookahead===0)){if(e===ya)return Or;break}if(t.match_length=0,n=ra(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(jr(t,!1),t.strm.avail_out===0))return Or}return t.insert=0,e===ia?(jr(t,!0),t.strm.avail_out===0?ba:La):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Or:Qa},"deflate_huff");function Pi(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}a(Pi,"Config");const Ja=[new Pi(0,0,0,0,Gc),new Pi(4,4,8,4,Rs),new Pi(4,5,16,8,Rs),new Pi(4,6,32,32,Rs),new Pi(4,4,16,16,Ma),new Pi(8,16,32,32,Ma),new Pi(8,16,128,128,Ma),new Pi(8,32,128,256,Ma),new Pi(32,128,258,1024,Ma),new Pi(32,258,258,4096,Ma)],qc=a(t=>{t.window_size=2*t.w_size,sa(t.head),t.max_lazy_match=Ja[t.level].max_lazy,t.good_match=Ja[t.level].good_length,t.nice_match=Ja[t.level].nice_length,t.max_chain_length=Ja[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ln-1,t.match_available=0,t.ins_h=0},"lm_init");function Zc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Bo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Hc*2),this.dyn_dtree=new Uint16Array((2*Uc+1)*2),this.bl_tree=new Uint16Array((2*$c+1)*2),sa(this.dyn_ltree),sa(this.dyn_dtree),sa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Wc+1),this.heap=new Uint16Array(2*Ds+1),sa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ds+1),sa(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}a(Zc,"DeflateState");const Rl=a(t=>{if(!t||!t.state)return oa(t,bi);t.total_in=t.total_out=0,t.data_type=Nc;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Uo:Ea,t.adler=e.wrap===2?0:1,e.last_flush=ya,bc(e),Oi},"deflateResetKeep"),Il=a(t=>{const e=Rl(t);return e===Oi&&qc(t.state),e},"deflateReset"),Qc=a((t,e)=>!t||!t.state||t.state.wrap!==2?bi:(t.state.gzhead=e,Oi),"deflateSetHeader"),Fl=a((t,e,n,r,i,o)=>{if(!t)return bi;let s=1;if(e===Rc&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>kc||n!==Bo||r<8||r>15||e<0||e>9||o<0||o>Oc)return oa(t,bi);r===8&&(r=9);const l=new Zc;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Ln-1)/Ln),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=e,l.strategy=o,l.method=n,Il(t)},"deflateInit2"),Xc=a((t,e)=>Fl(t,e,Bo,Lc,Mc,Pc),"deflateInit"),Jc=a((t,e)=>{let n,r;if(!t||!t.state||e>Cl||e<0)return t?oa(t,bi):bi;const i=t.state;if(!t.output||!t.input&&t.avail_in!==0||i.status===Za&&e!==ia)return oa(t,t.avail_out===0?Ts:bi);i.strm=t;const o=i.last_flush;if(i.last_flush=e,i.status===Uo)if(i.wrap===2)t.adler=0,Wn(i,31),Wn(i,139),Wn(i,8),i.gzhead?(Wn(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Wn(i,i.gzhead.time&255),Wn(i,i.gzhead.time>>8&255),Wn(i,i.gzhead.time>>16&255),Wn(i,i.gzhead.time>>24&255),Wn(i,i.level===9?2:i.strategy>=Mo||i.level<2?4:0),Wn(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Wn(i,i.gzhead.extra.length&255),Wn(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Ur(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=As):(Wn(i,0),Wn(i,0),Wn(i,0),Wn(i,0),Wn(i,0),Wn(i,i.level===9?2:i.strategy>=Mo||i.level<2?4:0),Wn(i,jc),i.status=Ea);else{let s=Bo+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=Mo||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,s|=l<<6,i.strstart!==0&&(s|=zc),s+=31-s%31,i.status=Ea,Xa(i,s),i.strstart!==0&&(Xa(i,t.adler>>>16),Xa(i,t.adler&65535)),t.adler=1}if(i.status===As)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=Ur(t.adler,i.pending_buf,i.pending-n,n)),ua(t),n=i.pending,i.pending===i.pending_buf_size));)Wn(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=Ur(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=$o)}else i.status=$o;if(i.status===$o)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=Ur(t.adler,i.pending_buf,i.pending-n,n)),ua(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.name.length?r=i.gzhead.name.charCodeAt(i.gzindex++)&255:r=0,Wn(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(t.adler=Ur(t.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.gzindex=0,i.status=Ho)}else i.status=Ho;if(i.status===Ho)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=Ur(t.adler,i.pending_buf,i.pending-n,n)),ua(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.comment.length?r=i.gzhead.comment.charCodeAt(i.gzindex++)&255:r=0,Wn(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(t.adler=Ur(t.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.status=Wo)}else i.status=Wo;if(i.status===Wo&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ua(t),i.pending+2<=i.pending_buf_size&&(Wn(i,t.adler&255),Wn(i,t.adler>>8&255),t.adler=0,i.status=Ea)):i.status=Ea),i.pending!==0){if(ua(t),t.avail_out===0)return i.last_flush=-1,Oi}else if(t.avail_in===0&&Dl(e)<=Dl(o)&&e!==ia)return oa(t,Ts);if(i.status===Za&&t.avail_in!==0)return oa(t,Ts);if(t.avail_in!==0||i.lookahead!==0||e!==ya&&i.status!==Za){let s=i.strategy===Mo?Vc(i,e):i.strategy===Fc?Yc(i,e):Ja[i.level].func(i,e);if((s===ba||s===La)&&(i.status=Za),s===Or||s===ba)return t.avail_out===0&&(i.last_flush=-1),Oi;if(s===Qa&&(e===Tc?Cc(i):e!==Cl&&(Sc(i,0,0,!1),e===Dc&&(sa(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),ua(t),t.avail_out===0))return i.last_flush=-1,Oi}return e!==ia?Oi:i.wrap<=0?Tl:(i.wrap===2?(Wn(i,t.adler&255),Wn(i,t.adler>>8&255),Wn(i,t.adler>>16&255),Wn(i,t.adler>>24&255),Wn(i,t.total_in&255),Wn(i,t.total_in>>8&255),Wn(i,t.total_in>>16&255),Wn(i,t.total_in>>24&255)):(Xa(i,t.adler>>>16),Xa(i,t.adler&65535)),ua(t),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Oi:Tl)},"deflate$2"),ef=a(t=>{if(!t||!t.state)return bi;const e=t.state.status;return e!==Uo&&e!==As&&e!==$o&&e!==Ho&&e!==Wo&&e!==Ea&&e!==Za?oa(t,bi):(t.state=null,e===Ea?oa(t,Ac):Oi)},"deflateEnd"),tf=a((t,e)=>{let n=e.length;if(!t||!t.state)return bi;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Uo||r.lookahead)return bi;if(i===1&&(t.adler=qa(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(sa(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(e.subarray(n-r.w_size,n),0),e=f,n=r.w_size}const o=t.avail_in,s=t.next_in,l=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Sa(r);r.lookahead>=Ln;){let f=r.strstart,u=r.lookahead-(Ln-1);do r.ins_h=la(r,r.ins_h,r.window[f+Ln-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--u);r.strstart=f,r.lookahead=Ln-1,Sa(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ln-1,r.match_available=0,t.next_in=s,t.input=l,t.avail_in=o,r.wrap=i,Oi},"deflateSetDictionary");var nf=Xc,rf=Fl,af=Il,of=Rl,sf=Qc,lf=Jc,uf=ef,cf=tf,ff="pako deflate (from Nodeca project)",eo={deflateInit:nf,deflateInit2:rf,deflateReset:af,deflateResetKeep:of,deflateSetHeader:sf,deflate:lf,deflateEnd:uf,deflateSetDictionary:cf,deflateInfo:ff};const df=a((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"_has");var hf=a(function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)df(n,r)&&(t[r]=n[r])}}return t},"pako_esm_assign"),gf=a(t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},"flattenChunks"),zo={assign:hf,flattenChunks:gf};let Ol=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ol=!1}const to=new Uint8Array(256);for(let t=0;t<256;t++)to[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;to[254]=to[254]=1;var pf=a(t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,l=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)==55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),o=0,i=0;o<l;i++)n=t.charCodeAt(i),(n&64512)==55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e},"string2buf");const vf=a((t,e)=>{if(e<65534&&t.subarray&&Ol)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},"buf2binstring");var mf=a((t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let l=to[s];if(l>4){o[i++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<n;)s=s<<6|t[r++]&63,l--;if(l>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return vf(o,i)},"buf2string"),_f=a((t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)==128;)n--;return n<0||n===0?e:n+to[t[n]]>e?n:e},"utf8border"),no={string2buf:pf,buf2string:mf,utf8border:_f};function wf(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a(wf,"ZStream");var Pl=wf;const Nl=Object.prototype.toString,{Z_NO_FLUSH:yf,Z_SYNC_FLUSH:Ef,Z_FULL_FLUSH:bf,Z_FINISH:Sf,Z_OK:jo,Z_STREAM_END:xf,Z_DEFAULT_COMPRESSION:Cf,Z_DEFAULT_STRATEGY:Tf,Z_DEFLATED:Df}=wa;function ro(t){this.options=zo.assign({level:Cf,method:Df,chunkSize:16384,windowBits:15,memLevel:8,strategy:Tf},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pl,this.strm.avail_out=0;let n=eo.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==jo)throw new Error(_a[n]);if(e.header&&eo.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=no.string2buf(e.dictionary):Nl.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=eo.deflateSetDictionary(this.strm,r),n!==jo)throw new Error(_a[n]);this._dict_set=!0}}a(ro,"Deflate$1"),ro.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Sf:yf,typeof t=="string"?n.input=no.string2buf(t):Nl.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Ef||o===bf)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=eo.deflate(n,o),i===xf)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=eo.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===jo;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},ro.prototype.onData=function(t){this.chunks.push(t)},ro.prototype.onEnd=function(t){t===jo&&(this.result=zo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Is(t,e){const n=new ro(e);if(n.push(t,!0),n.err)throw n.msg||_a[n.err];return n.result}a(Is,"deflate$1");function Af(t,e){return e=e||{},e.raw=!0,Is(t,e)}a(Af,"deflateRaw$1");function Rf(t,e){return e=e||{},e.gzip=!0,Is(t,e)}a(Rf,"gzip$1");var If=ro,Ff=Is,Of=Af,Pf=Rf,Nf=wa,kf={Deflate:If,deflate:Ff,deflateRaw:Of,gzip:Pf,constants:Nf};const Ko=30,Lf=12;var Mf=a(function(e,n){let r,i,o,s,l,f,u,h,F,D,P,oe,he,Le,Ae,Qe,it,$e,ft,It,ct,_t,jt,at;const $t=e.state;r=e.next_in,jt=e.input,i=r+(e.avail_in-5),o=e.next_out,at=e.output,s=o-(n-e.avail_out),l=o+(e.avail_out-257),f=$t.dmax,u=$t.wsize,h=$t.whave,F=$t.wnext,D=$t.window,P=$t.hold,oe=$t.bits,he=$t.lencode,Le=$t.distcode,Ae=(1<<$t.lenbits)-1,Qe=(1<<$t.distbits)-1;e:do{oe<15&&(P+=jt[r++]<<oe,oe+=8,P+=jt[r++]<<oe,oe+=8),it=he[P&Ae];t:for(;;){if($e=it>>>24,P>>>=$e,oe-=$e,$e=it>>>16&255,$e===0)at[o++]=it&65535;else if($e&16){ft=it&65535,$e&=15,$e&&(oe<$e&&(P+=jt[r++]<<oe,oe+=8),ft+=P&(1<<$e)-1,P>>>=$e,oe-=$e),oe<15&&(P+=jt[r++]<<oe,oe+=8,P+=jt[r++]<<oe,oe+=8),it=Le[P&Qe];n:for(;;){if($e=it>>>24,P>>>=$e,oe-=$e,$e=it>>>16&255,$e&16){if(It=it&65535,$e&=15,oe<$e&&(P+=jt[r++]<<oe,oe+=8,oe<$e&&(P+=jt[r++]<<oe,oe+=8)),It+=P&(1<<$e)-1,It>f){e.msg="invalid distance too far back",$t.mode=Ko;break e}if(P>>>=$e,oe-=$e,$e=o-s,It>$e){if($e=It-$e,$e>h&&$t.sane){e.msg="invalid distance too far back",$t.mode=Ko;break e}if(ct=0,_t=D,F===0){if(ct+=u-$e,$e<ft){ft-=$e;do at[o++]=D[ct++];while(--$e);ct=o-It,_t=at}}else if(F<$e){if(ct+=u+F-$e,$e-=F,$e<ft){ft-=$e;do at[o++]=D[ct++];while(--$e);if(ct=0,F<ft){$e=F,ft-=$e;do at[o++]=D[ct++];while(--$e);ct=o-It,_t=at}}}else if(ct+=F-$e,$e<ft){ft-=$e;do at[o++]=D[ct++];while(--$e);ct=o-It,_t=at}for(;ft>2;)at[o++]=_t[ct++],at[o++]=_t[ct++],at[o++]=_t[ct++],ft-=3;ft&&(at[o++]=_t[ct++],ft>1&&(at[o++]=_t[ct++]))}else{ct=o-It;do at[o++]=at[ct++],at[o++]=at[ct++],at[o++]=at[ct++],ft-=3;while(ft>2);ft&&(at[o++]=at[ct++],ft>1&&(at[o++]=at[ct++]))}}else if(($e&64)==0){it=Le[(it&65535)+(P&(1<<$e)-1)];continue n}else{e.msg="invalid distance code",$t.mode=Ko;break e}break}}else if(($e&64)==0){it=he[(it&65535)+(P&(1<<$e)-1)];continue t}else if($e&32){$t.mode=Lf;break e}else{e.msg="invalid literal/length code",$t.mode=Ko;break e}break}}while(r<i&&o<l);ft=oe>>3,r-=ft,oe-=ft<<3,P&=(1<<oe)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<l?257+(l-o):257-(o-l),$t.hold=P,$t.bits=oe},"inflate_fast");const Ba=15,kl=852,Ll=592,Ml=0,Fs=1,Bl=2,Bf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Uf=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$f=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hf=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var io=a((t,e,n,r,i,o,s,l)=>{const f=l.bits;let u=0,h=0,F=0,D=0,P=0,oe=0,he=0,Le=0,Ae=0,Qe=0,it,$e,ft,It,ct,_t=null,jt=0,at;const $t=new Uint16Array(Ba+1),kn=new Uint16Array(Ba+1);let Er=null,vr=0,Yi,di,Vi;for(u=0;u<=Ba;u++)$t[u]=0;for(h=0;h<r;h++)$t[e[n+h]]++;for(P=f,D=Ba;D>=1&&$t[D]===0;D--);if(P>D&&(P=D),D===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,l.bits=1,0;for(F=1;F<D&&$t[F]===0;F++);for(P<F&&(P=F),Le=1,u=1;u<=Ba;u++)if(Le<<=1,Le-=$t[u],Le<0)return-1;if(Le>0&&(t===Ml||D!==1))return-1;for(kn[1]=0,u=1;u<Ba;u++)kn[u+1]=kn[u]+$t[u];for(h=0;h<r;h++)e[n+h]!==0&&(s[kn[e[n+h]]++]=h);if(t===Ml?(_t=Er=s,at=19):t===Fs?(_t=Bf,jt-=257,Er=Uf,vr-=257,at=256):(_t=$f,Er=Hf,at=-1),Qe=0,h=0,u=F,ct=o,oe=P,he=0,ft=-1,Ae=1<<P,It=Ae-1,t===Fs&&Ae>kl||t===Bl&&Ae>Ll)return 1;for(;;){Yi=u-he,s[h]<at?(di=0,Vi=s[h]):s[h]>at?(di=Er[vr+s[h]],Vi=_t[jt+s[h]]):(di=32+64,Vi=0),it=1<<u-he,$e=1<<oe,F=$e;do $e-=it,i[ct+(Qe>>he)+$e]=Yi<<24|di<<16|Vi|0;while($e!==0);for(it=1<<u-1;Qe&it;)it>>=1;if(it!==0?(Qe&=it-1,Qe+=it):Qe=0,h++,--$t[u]==0){if(u===D)break;u=e[n+s[h]]}if(u>P&&(Qe&It)!==ft){for(he===0&&(he=P),ct+=F,oe=u-he,Le=1<<oe;oe+he<D&&(Le-=$t[oe+he],!(Le<=0));)oe++,Le<<=1;if(Ae+=1<<oe,t===Fs&&Ae>kl||t===Bl&&Ae>Ll)return 1;ft=Qe&It,i[ft]=P<<24|oe<<16|ct-o|0}}return Qe!==0&&(i[ct+Qe]=u-he<<24|64<<16|0),l.bits=P,0},"inflate_table");const Wf=0,Ul=1,$l=2,{Z_FINISH:Hl,Z_BLOCK:zf,Z_TREES:Go,Z_OK:xa,Z_STREAM_END:jf,Z_NEED_DICT:Kf,Z_STREAM_ERROR:Si,Z_DATA_ERROR:Wl,Z_MEM_ERROR:zl,Z_BUF_ERROR:Gf,Z_DEFLATED:jl}=wa,Kl=1,Gl=2,Yl=3,Vl=4,ql=5,Zl=6,Ql=7,Xl=8,Jl=9,eu=10,Yo=11,ji=12,Os=13,tu=14,Ps=15,nu=16,ru=17,iu=18,au=19,Vo=20,qo=21,ou=22,su=23,lu=24,uu=25,cu=26,Ns=27,fu=28,du=29,cr=30,hu=31,Yf=32,Vf=852,qf=592,Zf=15,gu=a(t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24),"zswap32");function Qf(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}a(Qf,"InflateState");const pu=a(t=>{if(!t||!t.state)return Si;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Kl,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Vf),e.distcode=e.distdyn=new Int32Array(qf),e.sane=1,e.back=-1,xa},"inflateResetKeep"),vu=a(t=>{if(!t||!t.state)return Si;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,pu(t)},"inflateReset"),mu=a((t,e)=>{let n;if(!t||!t.state)return Si;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Si:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,vu(t))},"inflateReset2"),_u=a((t,e)=>{if(!t)return Si;const n=new Qf;t.state=n,n.window=null;const r=mu(t,e);return r!==xa&&(t.state=null),r},"inflateInit2"),Xf=a(t=>_u(t,Zf),"inflateInit");let wu=!0,ks,Ls;const Jf=a(t=>{if(wu){ks=new Int32Array(512),Ls=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(io(Ul,t.lens,0,288,ks,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;io($l,t.lens,0,32,Ls,0,t.work,{bits:5}),wu=!1}t.lencode=ks,t.lenbits=9,t.distcode=Ls,t.distbits=5},"fixedtables"),yu=a((t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},"updatewindow"),ed=a((t,e)=>{let n,r,i,o,s,l,f,u,h,F,D,P,oe,he,Le=0,Ae,Qe,it,$e,ft,It,ct,_t;const jt=new Uint8Array(4);let at,$t;const kn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Si;n=t.state,n.mode===ji&&(n.mode=Os),s=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,r=t.input,l=t.avail_in,u=n.hold,h=n.bits,F=l,D=f,_t=xa;e:for(;;)switch(n.mode){case Kl:if(n.wrap===0){n.mode=Os;break}for(;h<16;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(n.wrap&2&&u===35615){n.check=0,jt[0]=u&255,jt[1]=u>>>8&255,n.check=Ur(n.check,jt,2,0),u=0,h=0,n.mode=Gl;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=cr;break}if((u&15)!==jl){t.msg="unknown compression method",n.mode=cr;break}if(u>>>=4,h-=4,ct=(u&15)+8,n.wbits===0)n.wbits=ct;else if(ct>n.wbits){t.msg="invalid window size",n.mode=cr;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=u&512?eu:ji,u=0,h=0;break;case Gl:for(;h<16;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(n.flags=u,(n.flags&255)!==jl){t.msg="unknown compression method",n.mode=cr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=cr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&(jt[0]=u&255,jt[1]=u>>>8&255,n.check=Ur(n.check,jt,2,0)),u=0,h=0,n.mode=Yl;case Yl:for(;h<32;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}n.head&&(n.head.time=u),n.flags&512&&(jt[0]=u&255,jt[1]=u>>>8&255,jt[2]=u>>>16&255,jt[3]=u>>>24&255,n.check=Ur(n.check,jt,4,0)),u=0,h=0,n.mode=Vl;case Vl:for(;h<16;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&(jt[0]=u&255,jt[1]=u>>>8&255,n.check=Ur(n.check,jt,2,0)),u=0,h=0,n.mode=ql;case ql:if(n.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&(jt[0]=u&255,jt[1]=u>>>8&255,n.check=Ur(n.check,jt,2,0)),u=0,h=0}else n.head&&(n.head.extra=null);n.mode=Zl;case Zl:if(n.flags&1024&&(P=n.length,P>l&&(P=l),P&&(n.head&&(ct=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+P),ct)),n.flags&512&&(n.check=Ur(n.check,r,P,o)),l-=P,o+=P,n.length-=P),n.length))break e;n.length=0,n.mode=Ql;case Ql:if(n.flags&2048){if(l===0)break e;P=0;do ct=r[o+P++],n.head&&ct&&n.length<65536&&(n.head.name+=String.fromCharCode(ct));while(ct&&P<l);if(n.flags&512&&(n.check=Ur(n.check,r,P,o)),l-=P,o+=P,ct)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Xl;case Xl:if(n.flags&4096){if(l===0)break e;P=0;do ct=r[o+P++],n.head&&ct&&n.length<65536&&(n.head.comment+=String.fromCharCode(ct));while(ct&&P<l);if(n.flags&512&&(n.check=Ur(n.check,r,P,o)),l-=P,o+=P,ct)break e}else n.head&&(n.head.comment=null);n.mode=Jl;case Jl:if(n.flags&512){for(;h<16;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=cr;break}u=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=ji;break;case eu:for(;h<32;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}t.adler=n.check=gu(u),u=0,h=0,n.mode=Yo;case Yo:if(n.havedict===0)return t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=l,n.hold=u,n.bits=h,Kf;t.adler=n.check=1,n.mode=ji;case ji:if(e===zf||e===Go)break e;case Os:if(n.last){u>>>=h&7,h-=h&7,n.mode=Ns;break}for(;h<3;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}switch(n.last=u&1,u>>>=1,h-=1,u&3){case 0:n.mode=tu;break;case 1:if(Jf(n),n.mode=Vo,e===Go){u>>>=2,h-=2;break e}break;case 2:n.mode=ru;break;case 3:t.msg="invalid block type",n.mode=cr}u>>>=2,h-=2;break;case tu:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if((u&65535)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=cr;break}if(n.length=u&65535,u=0,h=0,n.mode=Ps,e===Go)break e;case Ps:n.mode=nu;case nu:if(P=n.length,P){if(P>l&&(P=l),P>f&&(P=f),P===0)break e;i.set(r.subarray(o,o+P),s),l-=P,o+=P,f-=P,s+=P,n.length-=P;break}n.mode=ji;break;case ru:for(;h<14;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(n.nlen=(u&31)+257,u>>>=5,h-=5,n.ndist=(u&31)+1,u>>>=5,h-=5,n.ncode=(u&15)+4,u>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=cr;break}n.have=0,n.mode=iu;case iu:for(;n.have<n.ncode;){for(;h<3;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}n.lens[kn[n.have++]]=u&7,u>>>=3,h-=3}for(;n.have<19;)n.lens[kn[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,at={bits:n.lenbits},_t=io(Wf,n.lens,0,19,n.lencode,0,n.work,at),n.lenbits=at.bits,_t){t.msg="invalid code lengths set",n.mode=cr;break}n.have=0,n.mode=au;case au:for(;n.have<n.nlen+n.ndist;){for(;Le=n.lencode[u&(1<<n.lenbits)-1],Ae=Le>>>24,Qe=Le>>>16&255,it=Le&65535,!(Ae<=h);){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(it<16)u>>>=Ae,h-=Ae,n.lens[n.have++]=it;else{if(it===16){for($t=Ae+2;h<$t;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(u>>>=Ae,h-=Ae,n.have===0){t.msg="invalid bit length repeat",n.mode=cr;break}ct=n.lens[n.have-1],P=3+(u&3),u>>>=2,h-=2}else if(it===17){for($t=Ae+3;h<$t;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}u>>>=Ae,h-=Ae,ct=0,P=3+(u&7),u>>>=3,h-=3}else{for($t=Ae+7;h<$t;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}u>>>=Ae,h-=Ae,ct=0,P=11+(u&127),u>>>=7,h-=7}if(n.have+P>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=cr;break}for(;P--;)n.lens[n.have++]=ct}}if(n.mode===cr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=cr;break}if(n.lenbits=9,at={bits:n.lenbits},_t=io(Ul,n.lens,0,n.nlen,n.lencode,0,n.work,at),n.lenbits=at.bits,_t){t.msg="invalid literal/lengths set",n.mode=cr;break}if(n.distbits=6,n.distcode=n.distdyn,at={bits:n.distbits},_t=io($l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,at),n.distbits=at.bits,_t){t.msg="invalid distances set",n.mode=cr;break}if(n.mode=Vo,e===Go)break e;case Vo:n.mode=qo;case qo:if(l>=6&&f>=258){t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=l,n.hold=u,n.bits=h,Mf(t,D),s=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,r=t.input,l=t.avail_in,u=n.hold,h=n.bits,n.mode===ji&&(n.back=-1);break}for(n.back=0;Le=n.lencode[u&(1<<n.lenbits)-1],Ae=Le>>>24,Qe=Le>>>16&255,it=Le&65535,!(Ae<=h);){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(Qe&&(Qe&240)==0){for($e=Ae,ft=Qe,It=it;Le=n.lencode[It+((u&(1<<$e+ft)-1)>>$e)],Ae=Le>>>24,Qe=Le>>>16&255,it=Le&65535,!($e+Ae<=h);){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}u>>>=$e,h-=$e,n.back+=$e}if(u>>>=Ae,h-=Ae,n.back+=Ae,n.length=it,Qe===0){n.mode=cu;break}if(Qe&32){n.back=-1,n.mode=ji;break}if(Qe&64){t.msg="invalid literal/length code",n.mode=cr;break}n.extra=Qe&15,n.mode=ou;case ou:if(n.extra){for($t=n.extra;h<$t;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=su;case su:for(;Le=n.distcode[u&(1<<n.distbits)-1],Ae=Le>>>24,Qe=Le>>>16&255,it=Le&65535,!(Ae<=h);){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if((Qe&240)==0){for($e=Ae,ft=Qe,It=it;Le=n.distcode[It+((u&(1<<$e+ft)-1)>>$e)],Ae=Le>>>24,Qe=Le>>>16&255,it=Le&65535,!($e+Ae<=h);){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}u>>>=$e,h-=$e,n.back+=$e}if(u>>>=Ae,h-=Ae,n.back+=Ae,Qe&64){t.msg="invalid distance code",n.mode=cr;break}n.offset=it,n.extra=Qe&15,n.mode=lu;case lu:if(n.extra){for($t=n.extra;h<$t;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=cr;break}n.mode=uu;case uu:if(f===0)break e;if(P=D-f,n.offset>P){if(P=n.offset-P,P>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=cr;break}P>n.wnext?(P-=n.wnext,oe=n.wsize-P):oe=n.wnext-P,P>n.length&&(P=n.length),he=n.window}else he=i,oe=s-n.offset,P=n.length;P>f&&(P=f),f-=P,n.length-=P;do i[s++]=he[oe++];while(--P);n.length===0&&(n.mode=qo);break;case cu:if(f===0)break e;i[s++]=n.length,f--,n.mode=qo;break;case Ns:if(n.wrap){for(;h<32;){if(l===0)break e;l--,u|=r[o++]<<h,h+=8}if(D-=f,t.total_out+=D,n.total+=D,D&&(t.adler=n.check=n.flags?Ur(n.check,i,D,s-D):qa(n.check,i,D,s-D)),D=f,(n.flags?u:gu(u))!==n.check){t.msg="incorrect data check",n.mode=cr;break}u=0,h=0}n.mode=fu;case fu:if(n.wrap&&n.flags){for(;h<32;){if(l===0)break e;l--,u+=r[o++]<<h,h+=8}if(u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=cr;break}u=0,h=0}n.mode=du;case du:_t=jf;break e;case cr:_t=Wl;break e;case hu:return zl;case Yf:default:return Si}return t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=l,n.hold=u,n.bits=h,(n.wsize||D!==t.avail_out&&n.mode<cr&&(n.mode<Ns||e!==Hl))&&yu(t,t.output,t.next_out,D-t.avail_out),F-=t.avail_in,D-=t.avail_out,t.total_in+=F,t.total_out+=D,n.total+=D,n.wrap&&D&&(t.adler=n.check=n.flags?Ur(n.check,i,D,t.next_out-D):qa(n.check,i,D,t.next_out-D)),t.data_type=n.bits+(n.last?64:0)+(n.mode===ji?128:0)+(n.mode===Vo||n.mode===Ps?256:0),(F===0&&D===0||e===Hl)&&_t===xa&&(_t=Gf),_t},"inflate$2"),td=a(t=>{if(!t||!t.state)return Si;let e=t.state;return e.window&&(e.window=null),t.state=null,xa},"inflateEnd"),nd=a((t,e)=>{if(!t||!t.state)return Si;const n=t.state;return(n.wrap&2)==0?Si:(n.head=e,e.done=!1,xa)},"inflateGetHeader"),rd=a((t,e)=>{const n=e.length;let r,i,o;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==Yo)?Si:r.mode===Yo&&(i=1,i=qa(i,e,n,0),i!==r.check)?Wl:(o=yu(t,e,n,n),o?(r.mode=hu,zl):(r.havedict=1,xa))},"inflateSetDictionary");var id=vu,ad=mu,od=pu,sd=Xf,ld=_u,ud=ed,cd=td,fd=nd,dd=rd,hd="pako inflate (from Nodeca project)",Ki={inflateReset:id,inflateReset2:ad,inflateResetKeep:od,inflateInit:sd,inflateInit2:ld,inflate:ud,inflateEnd:cd,inflateGetHeader:fd,inflateSetDictionary:dd,inflateInfo:hd};function gd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a(gd,"GZheader");var pd=gd;const Eu=Object.prototype.toString,{Z_NO_FLUSH:vd,Z_FINISH:md,Z_OK:ao,Z_STREAM_END:Ms,Z_NEED_DICT:Bs,Z_STREAM_ERROR:_d,Z_DATA_ERROR:bu,Z_MEM_ERROR:wd}=wa;function oo(t){this.options=zo.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pl,this.strm.avail_out=0;let n=Ki.inflateInit2(this.strm,e.windowBits);if(n!==ao)throw new Error(_a[n]);if(this.header=new pd,Ki.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=no.string2buf(e.dictionary):Eu.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ki.inflateSetDictionary(this.strm,e.dictionary),n!==ao)))throw new Error(_a[n])}a(oo,"Inflate$1"),oo.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?md:vd,Eu.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Ki.inflate(n,s),o===Bs&&i&&(o=Ki.inflateSetDictionary(n,i),o===ao?o=Ki.inflate(n,s):o===bu&&(o=Bs));n.avail_in>0&&o===Ms&&n.state.wrap>0&&t[n.next_in]!==0;)Ki.inflateReset(n),o=Ki.inflate(n,s);switch(o){case _d:case bu:case Bs:case wd:return this.onEnd(o),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||o===Ms))if(this.options.to==="string"){let f=no.utf8border(n.output,n.next_out),u=n.next_out-f,h=no.buf2string(n.output,f);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(f,f+u),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===ao&&l===0)){if(o===Ms)return o=Ki.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},oo.prototype.onData=function(t){this.chunks.push(t)},oo.prototype.onEnd=function(t){t===ao&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Us(t,e){const n=new oo(e);if(n.push(t),n.err)throw n.msg||_a[n.err];return n.result}a(Us,"inflate$1");function yd(t,e){return e=e||{},e.raw=!0,Us(t,e)}a(yd,"inflateRaw$1");var Ed=oo,bd=Us,Sd=yd,xd=Us,Cd=wa,Td={Inflate:Ed,inflate:bd,inflateRaw:Sd,ungzip:xd,constants:Cd};const{Deflate:Dd,deflate:Ad,deflateRaw:Rd,gzip:Id}=kf,{Inflate:Fd,inflate:Od,inflateRaw:Pd,ungzip:Nd}=Td;var kd=Dd,Ld=Ad,Md=Rd,Bd=Id,Ud=Fd,$d=Od,Hd=Pd,Su=Nd,Wd=wa,n0={Deflate:kd,deflate:Ld,deflateRaw:Md,gzip:Bd,Inflate:Ud,inflate:$d,inflateRaw:Hd,ungzip:Su,constants:Wd},so;(function(t){t.HasVirtualFolders="remoteHub:hasVirtualFolders",t.VirtualFolderProviders="remoteHub:virtualFolderProviders",t.HasRecentRepositories="remoteHub:hasRecentRepositories",t.HasSearchIndexes="gitHub:hasSearchIndexes",t.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",t.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",t.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(so||(so={}));const xu=new Map;function r0(t){return t==="isWeb"?isWeb:t==="remoteName"?env.remoteName:t==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():t.startsWith("config.")?configuration.getAny(t.substring(7)):xu.get(t)}a(r0,"getContext");function i0(t){return t==="isWeb"||t==="remoteName"||t==="virtualWorkspace"||t.startsWith("config.")||t.startsWith("remoteHub:")||t.startsWith("continueOn:")}a(i0,"isSupportedContextKey");async function $s(t,e){xu.set(t,e),!t.startsWith("continueOn:")&&await c.commands.executeCommand("setContext",t,e)}a($s,"setContext");class Hs{constructor(e){this.bytes=e,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(e){const n=this.byteIndexCurrent;return this.byteIndexCurrent+=e,this.bytes.slice(n,this.byteIndexCurrent)}readByte(){const e=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,e}readString(e){const n=[],r=this.byteIndexCurrent+e;let i=this.byteIndexCurrent;for(;i<r;){const o=this.bytes[i++];if(o===0)break;let s=0,l=0;if((o&128)==0)s=o,l=0;else if((o&224)==192)s=o&31,l=1;else if((o&240)==224)s=o&15,l=2;else if((o&248)==240)s=o&7,l=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${o.toString(2)} at offset ${i}`);for(;l>0;){const f=this.bytes[i++];if((f&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${f.toString(2)} at offset ${i}`);s=s<<6|f&63,l--}n.push(String.fromCodePoint(s))}return this.byteIndexCurrent=r,n.join("")}}a(Hs,"ByteStream");class Vr{constructor(e,n){this.value=e,this.id=`_${this.value}`,this.name=n}static Instances(){return Vr._instances==null&&(Vr._instances=new Cu),Vr._instances}}a(Vr,"TarFileTypeFlag");class Cu{constructor(){this.Normal=new Vr("0","Normal"),this.HardLink=new Vr("1","Hard Link"),this.SymbolicLink=new Vr("2","Symbolic Link"),this.CharacterSpecial=new Vr("3","Character Special"),this.BlockSpecial=new Vr("4","Block Special"),this.Directory=new Vr("5","Directory"),this.FIFO=new Vr("6","FIFO"),this.ContiguousFile=new Vr("7","Contiguous File"),this.LongFilePath=new Vr("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let e=0;e<this._All.length;e++){const n=this._All[e];this._All[n.id]=n}}}a(Cu,"TarFileTypeFlag_Instances");class Zo{constructor(e,n,r,i,o,s,l,f,u,h,F,D,P,oe,he,Le){this.fileName=e,this.fileMode=n,this.userIDOfOwner=r,this.userIDOfGroup=i,this.fileSizeInBytes=o,this.timeModifiedInUnixFormat=s,this.checksum=l,this.typeFlag=f,this.nameOfLinkedFile=u,this.uStarIndicator=h,this.uStarVersion=F,this.userNameOfOwner=D,this.groupNameOfOwner=P,this.deviceNumberMajor=oe,this.deviceNumberMinor=he,this.filenamePrefix=Le,this.fullFileName=Le.length?Le.endsWith("/")?Le+e:`${Le}/${e}`:e}static fromBytes(e){const n=new Hs(e),r=n.readString(100).trim(),i=n.readString(8),o=n.readString(8),s=n.readString(8),l=n.readString(12),f=n.readBytes(12),u=n.readString(8),h=n.readString(1),F=n.readString(100),D=n.readString(6),P=n.readString(2),oe=n.readString(32),he=n.readString(32),Le=n.readString(8),Ae=n.readString(8),Qe=n.readString(155),it=n.readBytes(12),$e=parseInt(l.trim(),8),ft=parseInt(u,8),It=Vr.Instances()._All,ct=`_${h}`,_t=It[ct];return new Zo(r,i,o,s,$e,f,ft,_t,F,D,P,oe,he,Le,Ae,Qe)}}a(Zo,"TarFileEntryHeader");const Tu=512;class Qo{constructor(e,n){this.header=e,this.dataAsBytes=n}static fromBytes(e,n){const r=Tu,i=Zo.fromBytes(e),o=i.fileSizeInBytes,l=Math.ceil(o/r)*r,f=n.readBytes(l).slice(0,o);return new Qo(i,f)}}a(Qo,"TarFileEntry");class Xo{constructor(e){var n;this.entries=e,this.consolidateLongPathEntries();for(const r of this.entries)((n=r.header.typeFlag)==null?void 0:n.name)==="Normal"&&(r.header.fullFileName=r.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const r of this.entries)this.entryMap.set(r.header.fullFileName,r)}static async fromBytes(e){const n=new Hs(e),r=[],i=Tu;let o=0,s=0;for(;n.hasMoreBytes()==!0;){++o%1e3==0&&await new Promise(u=>setTimeout(u,10));const l=n.readBytes(i);let f=!0;for(let u=0;u<l.length;u++)if(l[u]!=0){f=!1;break}if(f==!0){if(s++,s==2)break}else{s=0;const u=Qo.fromBytes(l,n);r.push(u)}}return new Xo(r)}consolidateLongPathEntries(){var e;const n=Vr.Instances().LongFilePath.name,r=this.entries;for(let i=0;i<r.length;i++){const o=r[i];if(((e=o.header.typeFlag)==null?void 0:e.name)==n){const s=r[i+1];s.header.fileName=o.dataAsBytes.reduce((l,f)=>l+=String.fromCharCode(f),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),r.splice(i,1),i--}}}}a(Xo,"TarFile");const zd=a(t=>Xo.fromBytes(t),"readTar"),Jo=new TextDecoder,Ws=new TextEncoder;class Du{constructor(e,n=0){this.retainFor=n;try{this.weakRef=new WeakRef(e)}catch{}this.retain(e)}retain(e){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=e,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var e,n;const r=(n=this.strongRef)!=null?n:(e=this.weakRef)==null?void 0:e.deref();return r&&this.retain(r),r}}a(Du,"TimedRetainingRef");class Au{constructor(e,n){this.root=e,this.providerService=n,this._onDidChangeIndexingEnablement=new c.EventEmitter,this._onDidDownloadTar=new c.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=c.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=c.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=c.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await $s(so.HasSearchIndexes,(await this.listTars()).length>0);const e=this.providerService.repositories.map(i=>i.name),n=await this.getIndexingEnabledRepos(),r=n.has("*")||e.every(i=>n.has(i));await $s(so.EnabledSomeSearchIndexes,n.size>0),await $s(so.EnabledAllSearchIndexes,r)}dispose(){this._disposable.dispose()}registerCommands(){return[c.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),c.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),c.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),c.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const e=a(i=>{const o=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of o)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),n=await this.listTars();if(n.length===0){await c.window.showInformationMessage("No Repository Indexes Found");return}const r=c.window.createQuickPick();r.canSelectMany=!0,r.items=n.map(({name:i,size:o,path:s})=>({label:i,path:s,description:o?e(o):void 0})),r.show(),r.onDidAccept(async()=>{r.hide();for(const{label:i,path:o}of r.selectedItems){const s=c.workspace.fs.delete(o),l=c.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,l.dispose()}this.updateContext()}),r.onDidHide(()=>r.dispose())}),c.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>c.window.withProgress({location:c.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([c.workspace.fs.delete(this.root,{recursive:!0})])}catch(e){X.error(e)}finally{this.updateContext()}}))]}getTarFromMemory(e){var n;if(X.debug(`TarPit.getTarFromMemory(key=${e})`),e===this.lastReadKey){const r=(n=this.lastReadValue)==null?void 0:n.deref();if(r)return r;X.log("Weakref deallocated.")}}async getTarFromDisk(e){try{const n=await c.workspace.fs.readFile(e);return!n||!n.length?void 0:n}catch(n){(!(n instanceof c.FileSystemError)||n.code!==c.FileSystemError.FileNotFound.name)&&(c.window.showWarningMessage(c.l10n.t("Unexpected error reading index from disk, attempting to reload from network")),X.error(n,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(e,n,r){try{const i=await this.isIndexingEnabledForRepo(e);try{if(i){const o=await this.providerService.getTarGz(e,n);if(o)return o}else if(i===void 0){const o=Ne.get("indexing.maxIndexSize");if(o===null)throw new c.CancellationError;if(o){const s=await this.providerService.getTarGz(e,n,o*1024*1024);if(s)return s}}}catch(o){if(o instanceof c.CancellationError)throw await this.markIndexingEnablementForRepos(!1),o;if(o instanceof Error&&o.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw o}if(!r){const o={id:"configure",title:c.l10n.t("Configure Limit")},s={id:"continue",title:c.l10n.t("Continue"),isCloseAffordance:!0};c.window.showInformationMessage(c.l10n.t("Repository exceeds download size limit! Continuing with partial text services."),o,s).then(async l=>{l===o&&await c.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(r){const o={id:"no",title:c.l10n.t("Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:c.l10n.t("Configure")},l={id:"repo",title:c.l10n.t("Download Full Contents")},f=Ne.get("indexing.maxIndexSize"),u=f!==null?`${f.toString()}\xA0MB`:"null";switch(await c.window.showWarningMessage(c.l10n.t("This repository exceeds the download size limit ({0}).",u),{modal:!0,detail:c.l10n.t("Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",u)},o,l,s)){case l:{await this.markIndexingEnablementForRepos(!0);try{const F=await this.providerService.getTarGz(e,n);if(F)return F}catch(F){F instanceof c.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await c.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case o:await this.markIndexingEnablementForRepos(!1)}}throw new c.CancellationError}finally{this.updateContext()}}async getTar(e,n,r){r===void 0&&({HEAD:{sha:r}}=await this.providerService.getMetadata(e));const i=this.getTarStorageUri(e,r),o=await this.getTarCacheKey(e,r);try{let s=this.ongoingNetworkRequests.get(o);return s===void 0&&(s=this.getTarCore(e,r,i,{blocking:n}),this.ongoingNetworkRequests.set(o,s),this.ongoingDiskRequests.set(o,s)),await s}finally{this.ongoingNetworkRequests.delete(o),this.ongoingDiskRequests.delete(o)}}async getInMemoryTar(e,n){return X.debug(`TarPit.getInMemoryTar(rootUri=${e.toString()}, ref=${n==null?void 0:n.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(e,n))}async getCachedTar(e,n){var r;const i=await this.getTarCacheKey(e,n),o=this.getTarStorageUri(e,n);try{let s=(r=this.ongoingDiskRequests.get(i))!=null?r:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(e,n,o,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(e,n,r,i){const o=this.providerService.getCanonicalUri(e),s=`${I(o,{excludeScheme:!0})}/${n}`,l=new Ee(`TarPit.getTar(${s})`),f=await this.getTarCacheKey(e,n),u=Date.now();let h,F;try{if(l.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),F=this.getTarFromMemory(f),F)return h=" \u2022 Got .tar from memory",F;l.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let D=!1,P=await this.getTarFromDisk(r);if(P==null?void 0:P.length)h=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){h=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(e)===!1)throw h=" \u2022 Downloading disabled",new c.CancellationError;l.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),P=await this.getTarFromNetwork(e,n,i.blocking),D=!0,h=" \u2022 Got .tar from network",c.workspace.fs.writeFile(r,P).then(()=>X.debug(`Sucessfully wrote tarball to disk in ${Date.now()-u}ms`),he=>X.error(he,`Error writing tarball to disk in ${Date.now()-u}ms`))}if(!(P==null?void 0:P.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");l.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const oe=Su(P);return F=await zd(oe),l.stop({message:"Finished getting tar"}),this.lastReadValue=new Du(F,10*(Date.now()-u)),this.lastReadKey=f,D&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:e,sha:n}),0),F}catch(D){throw h=` \u2022 Failed; ${String(D)}`,D}finally{F&&(this.markCacheEntryUsed(`${s}`).catch(D=>X.log(`Error marking entry used: ${D}`)),this.cleanUpCache().catch(D=>X.log(`Error cleaning cache: ${D}`))),l.stop(h?{suffix:h}:void 0)}}async getTarCacheKey(e,n){return n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(e)),this.getTarStorageUri(e,n).toString()}getTarStorageUri(e,n){return c.Uri.joinPath(this.root,"tars",I(this.providerService.getCanonicalUri(e),{excludeScheme:!0}),n)}async readDir(e){try{return(await c.workspace.fs.readDirectory(e)).map(n=>c.Uri.joinPath(e,n[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(e){if(this.indexingDisabled)return!1;const n=await this.getIndexingEnabledRepos();if(n.has("*"))return!0;const{name:r}=this.providerService.getVirtualUriMetadata(e);if(!!r){if(n.has(r))return!0;if(n.has(`-${r}`))return!1}}async configureIndexingAllowedRepos(){const e=[...(await this.getIndexingEnabledRepos()).values()],n=await c.window.showQuickPick(e.map(r=>({picked:!0,label:r.startsWith("-")?`${c.l10n.t("Disallowed:")} ${r.slice(1)}`:`${c.l10n.t("Allowed:")} ${r}`})),{canPickMany:!0,title:c.l10n.t("Repository index allowance overrides")});n&&await this.writeIndexEnablementData(n.map(r=>r.label))}async getIndexingEnabledRepos(){let e;try{e=JSON.parse(Jo.decode(await c.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(n){n instanceof c.FileSystemError&&n.code!==c.FileSystemError.FileNotFound().code&&X.error(n,"Error reading index allowance data."),e=[]}return new Set(e)}async listTars(){const e=await this.readDir(c.Uri.joinPath(this.root,"tars")).catch(()=>[]),n=(await Promise.all(e.map(o=>this.readDir(o)))).flat(),r=(await Promise.all(n.map(o=>this.readDir(o)))).flat(),i=(await Promise.all(r.map(o=>this.readDir(o)))).flat();return Promise.all(i.map(async o=>({name:o.path.replace(/^.*\/tars\//,""),path:o,size:(await c.workspace.fs.stat(o)).size})))}async markIndexingEnablementForRepos(e){let n;try{n=JSON.parse(Jo.decode(await c.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(o){o instanceof c.FileSystemError&&o.code!==c.FileSystemError.FileNotFound().code&&X.error(o,"Error reading index allowance data."),n=[]}const r=e?this.providerService.repositories.map(o=>o.name):[],i=e?[]:this.providerService.repositories.map(o=>o.name);n=[...n,...r].filter(o=>o.startsWith("-")?!r.includes(o.slice(1)):!i.includes(o));for(const o of i)n.push(`-${o}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(n)}async writeIndexEnablementData(e){await c.workspace.fs.writeFile(this.indexingAllowanceFile,Ws.encode(JSON.stringify(e))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(e){let n;try{n=JSON.parse(Jo.decode(await c.workspace.fs.readFile(this.usageFile)))}catch(r){r instanceof c.FileSystemError&&r.code!==c.FileSystemError.FileNotFound().code&&X.error(r,"Error reading usage data."),n={}}n[e]=Number(Date.now()),await c.workspace.fs.writeFile(this.usageFile,Ws.encode(JSON.stringify(n)))}async cleanUpCache(){var e,n;X.log("Cleaning up search cache...");const r=await this.listTars();let i;try{i=JSON.parse(Jo.decode(await c.workspace.fs.readFile(this.usageFile)))}catch(P){P instanceof c.FileSystemError&&P.code!==c.FileSystemError.FileNotFound().code&&X.error(P,"Error reading usage data. All existing indexes will be discarded."),i={}}const o=[];r.forEach(P=>{var oe;const he=/^([^/]*\/[^/]*)\//.exec(P.name);if(!he)throw Error("Unexpected repo entry");const Le=he[1],Ae=(oe=i[P.name])!=null?oe:0;o.push({...P,lastUsed:Ae,repo:Le})}),o.sort((P,oe)=>oe.lastUsed-P.lastUsed);let s=0;const l=[],f=new Map,u=(e=Ne.get("indexing.cacheSizeLimit"))!=null?e:Ne.get("search.download.sizeLimit"),h=(n=Ne.get("indexing.cacheRepoLimit"))!=null?n:Ne.get("search.download.repoLimit"),F=(u!=null?u:100)*1024*1024,D=h!=null?h:4;o.forEach(P=>{var oe,he;(P.lastUsed===0||s>F||((oe=f.get(P.repo))!=null?oe:0)>D)&&l.push(P),s+=P.size,f.set(P.repo,((he=f.get(P.repo))!=null?he:0)+1)}),await Promise.all(l.map(async P=>{try{await c.workspace.fs.delete(P.path,{recursive:!0}),delete i[P.name],X.log(`Deleted cache entry for ${P.name}`)}catch(oe){X.log(`Deleting cache entry for ${P.name} failed; ${String(oe)}`)}})),await c.workspace.fs.writeFile(this.usageFile,Ws.encode(JSON.stringify(i))),await this.updateContext()}}a(Au,"TarPit");async function jd(t,e,n,r,i,o,s){return zs("provideTextSearchResults",async()=>{const l=Ke(r.pattern,Boolean(r.isRegExp),{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!0});let f;try{f=await zs("fetch tarball",()=>n.getTar(i.folder,!0,void 0))}catch(Le){if(Le instanceof c.CancellationError)throw Le;return{limitHit:!1,message:{type:c.TextSearchCompleteMessageType.Warning,trusted:!0,text:c.l10n.t("Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:u,maxFileSize:h,includes:F,excludes:D}=i,P=await Kd(i.folder,t,f,e);if(s.isCancellationRequested)return{limitHit:!0};let oe=u;const he=Dr(P,F,D,h);return zs("searchFiles",async()=>{var Le,Ae;let Qe=0;for(const it of P){if(!he.has(it.path))continue;const $e=Ui(it.contents,it.path,l,{beforeContext:(Le=i.beforeContext)!=null?Le:0,afterContext:(Ae=i.afterContext)!=null?Ae:0,previewOptions:i.previewOptions,remainingResultQuota:oe});for(const ft of $e)o.report({...ft,uri:c.Uri.joinPath(i.folder,ft.uri.path)});if(oe!==void 0&&(oe-=$e.length,oe<=0))return{limitHit:!0};if(Qe++,Qe%1e4==0&&(await new Promise(ft=>setTimeout(ft,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}a(jd,"provideTextSearchResults");async function Kd(t,e,n,r){const i=n.entries,o=e.getVirtualRootUri(t),s=await r.getChanges(o,{predicate:F=>F.fileType===c.FileType.File});if(s.length===0)return i.map(F=>({contents:F.dataAsBytes,path:F.header.fullFileName,size:F.dataAsBytes.byteLength}));const l=await Promise.all(bt(s,F=>{if(F.type===z.Created)return r.getContent(F.uri).then(D=>({path:e.getRelativeFilePath(o,F.uri),size:D.length,contents:D}))})),f=await Promise.all(bt(s,F=>{if(F.type===z.Changed)return r.getContent(F.uri).then(D=>({path:e.getRelativeFilePath(o,F.uri),size:D.length,contents:D}))})),u=new Set(Pn(Gn(f,F=>F.path),bt(s,F=>{if(F.type===z.Deleted)return e.getRelativeFilePath(o,F.uri)})));return[...bt(i,F=>{if(!u.has(F.header.fullFileName))return{contents:F.dataAsBytes,path:F.header.fullFileName,size:F.dataAsBytes.byteLength}}),...l,...f]}a(Kd,"listAllFiles");function a0(t,e){const n=Date.now(),r=e();return Logger.log(`${t} time: ${Date.now()-n}`),r}a(a0,"timeSync");async function zs(t,e){const n=Date.now(),r=await e();return X.log(`${t} time: ${Date.now()-n}`),r}a(zs,"time");var Gd=Object.defineProperty,Yd=Object.getOwnPropertyDescriptor,js=a((t,e,n,r)=>{for(var i=r>1?void 0:r?Yd(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Gd(e,n,i),i},"fs_decorateClass");const Vd=c.FileSystemError.FileNotFound().code,qd=/(\/|\\)/g,Zd=/(\*|\.)/g,Ru=".vscode/.github-pull-request.rec";class lo{constructor(e,n,r,i,o){this.providerService=e,this.github=n,this.changeStore=r,this.tarPit=i,this.telemetryService=o,this._onDidChangeFile=new c.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=c.Disposable.from(c.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),c.workspace.registerFileSearchProvider(this.scheme,this),c.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(n=>$.getProviderId(n)===this.scheme).map(n=>$.getProviderUri(n)),e.length!==0){X.log(`GitHubFS.onRefreshOrRepositoryChanged(${e.map(n=>n.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[n,r]of[...this.pendingUriRequests])e.some(i=>B(r.uri,i))&&(this.pendingUriRequests.delete(n),r.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const n=$.getOpenUris(this.scheme,e);for(const[i,o]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(s=>B(o,s))&&(this.implicitlyWatchedUris.delete(i),n.set(i,o));X.debug(`GitHubFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${n.size}`);for(const i of e)n.set(S(i),i);const r=[...n.values()].map(i=>({type:c.FileChangeType.Changed,uri:i}));setTimeout(()=>{X.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${r.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(e,n){const r=S(e);return this.watchedUris.set(r,e),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(e){var n,r;const i=S(e);this.implicitlyWatchedUris.set(i,e);const o=this.github.getProviderRootUri(e),{hasRepoWithOwner:s}=Iu(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||s){const l=this.providerService.getRelativeFilePath(e),f={uri:e,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,f);const u=await this.github.getFileTree(e),h=await u.get(l);if(h==null?void 0:h.stat){if(h.stat.type===c.FileType.File&&Ne.get("lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&C(await this.github.getGitAttributes(o),l)){const F=await this.github.getFileContent(e),D=N(F).size;h.stat.size=D!=null?D:h.stat.size}return h.stat}if(this.implicitlyWatchedUris.delete(i),e.query==="~")return{type:c.FileType.File,size:0,ctime:0,mtime:(n=u.timestamp)!=null?n:Date.now(),permissions:c.FilePermission.Readonly};if(l===Ru){const{ref:F}=this.providerService.getVirtualUriMetadata(e);if((F==null?void 0:F.type)===Se.PullRequest)return{type:c.FileType.File,size:0,ctime:0,mtime:(r=u.timestamp)!=null?r:Date.now(),permissions:c.FilePermission.Readonly}}throw c.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${i}`),(f==null?void 0:f.outdated)&&setTimeout(()=>{X.log(`GitHubFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:c.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}return{type:c.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:c.FilePermission.Readonly}}async readDirectory(e,n){var r;this.implicitlyWatchedUris.set(S(e),e);const{pathQuery:i,hasRepoWithOwner:o}=Iu(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o){let s;const l=this.providerService.getRelativeFilePath(e);let f;try{return s=await this.github.getFileTree(e),(await s.getChildren(l,n)).map(([h,{stat:{type:F}}])=>[h,F])}catch(u){throw f=u,l===""&&u instanceof Error&&this.telemetryService.publicLog2("fs.readRootDirectory.error",{errorName:u.name,errorMessage:u.message,errorStack:(r=u.stack)!=null?r:""}),u}finally{l===""&&(Ee.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:f===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:f}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(f=>f.owner===i).map(f=>f.repo):[...new Set(s.map(f=>f.owner))]).map(f=>[f,c.FileType.Directory])}}createDirectory(e){throw c.FileSystemError.NoPermissions()}async readFile(e){const n=S(e);this.implicitlyWatchedUris.set(n,e);const r={uri:e,outdated:!1};try{this.pendingUriRequests.set(n,r);const i=await this.github.getFileContent(e);if(!Ne.get("lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const o=this.github.getProviderRootUri(e),s=await this.github.getGitAttributes(o);return C(s,e.path)?this.github.getLfsContent(o,i):i}catch(i){if(this.implicitlyWatchedUris.delete(n),i instanceof c.FileSystemError&&i.code===Vd){if(e.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(e)===Ru){const{ref:s}=this.providerService.getVirtualUriMetadata(e);if((s==null?void 0:s.type)===Se.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(n),(r==null?void 0:r.outdated)&&setTimeout(()=>{X.log(`GitHubFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:c.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,n,r){throw c.FileSystemError.NoPermissions()}delete(e,n){throw c.FileSystemError.NoPermissions()}rename(e,n,r){throw c.FileSystemError.NoPermissions()}copy(e,n,r){throw c.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:n,maxResults:r,includes:i,excludes:o},s){const l=`${S(n)}|${JSON.stringify({includes:i,excludes:o})}`;let f=this.fileSearchCache.get(l);if(f===void 0){const h=this.providerService.getRelativeFilePath(n);let F;await this.github.hasFileTree(n)&&(F=await this.github.getFileTree(n));let D;if(F===void 0||F.loading||!F.hasEntireTree?D=await this.github.getFileList(n,h):D=(await F.getChildren(h,{filter:c.FileType.File,recursive:!0})).map(([P])=>P),D.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(o==null?void 0:o.length))&&(D=[...Ia(D,i,o)]),f=D.map(P=>Ra.prepareSlow(P)),this.fileSearchCache.set(l,f)}let u;return e.pattern===""?u=f.map(h=>c.Uri.joinPath(n,h.target)):(u=Ra.go(e.pattern.replace(qd,"/").replace(Zd,""),f,{allowTypo:!0,limit:r}).map(h=>c.Uri.joinPath(n,h.target)),Ra.cleanup()),r!==void 0&&r!==0&&r<u.length&&(u=u.slice(0,r)),u}async provideTextSearchResults(e,n,r,i){const o=[];if(await this.tarPit.isIndexingEnabledForRepo(n.folder)!==!1)try{return await jd(this.providerService,this.changeStore,this.tarPit,e,n,r,i)}catch(u){u instanceof c.CancellationError||o.push({text:c.l10n.t("Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:c.TextSearchCompleteMessageType.Warning})}e.isCaseSensitive||e.isRegExp||e.isWordMatch?o.push({text:c.l10n.t("Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:c.TextSearchCompleteMessageType.Warning,trusted:!0}):o.push({text:c.l10n.t("Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:c.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(e.pattern,n.folder,{maxResults:n.maxResults,context:{before:n.beforeContext,after:n.afterContext}});if(s.warnings&&s.warnings.forEach(u=>{o.push({text:u,trusted:!0,type:c.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:o};const l=new Set(Ia(s.matches.map(u=>u.path),n.includes,n.excludes));let f;for(const u of s.matches)l.has(u.path)&&(f=c.Uri.joinPath(n.folder,u.path),r.report({uri:f,ranges:u.ranges,preview:{text:u.preview,matches:u.matches}}));return{limitHit:!1,message:o}}}a(lo,"GitHubFS"),js([je()],lo.prototype,"stat",1),js([je()],lo.prototype,"readDirectory",1),js([je()],lo.prototype,"readFile",1);function Iu(t){let e=t.path;return e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),{pathQuery:e,hasRepoWithOwner:e.includes("/")}}a(Iu,"getRepoWithOwnerFromUri");var Fu=__webpack_require__(6470);const uo=globalThis.fetch;async function Ou(t,e,n){const r=new AbortController;n.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(t,{...e,signal:r.signal})}catch(i){throw n.isCancellationRequested?new c.CancellationError:i}}a(Ou,"fetchWithCancellation");async function Ks(t,e,n,r,i){if(n===0)throw new c.CancellationError;const o=new c.CancellationTokenSource;r.onCancellationRequested(()=>o.cancel());try{const s=await Ou(t,e,o.token);if(s.body){const l=[];let f=0;const u=s.body.getReader();let h=3;for(;;){let{done:F,value:D}=await u.read();if(F){const oe=l.reduce((Ae,Qe)=>Ae+Qe.length,0),he=new Uint8Array(oe);let Le=0;for(const Ae of l)he.set(Ae,Le),Le+=Ae.length;return he}D&&(l.push(D),f+=D.length);const P=Math.floor(f/(1024*1024));if(h<P){h=P;const oe={message:P+" MB"};i.report(oe)}if(n!==void 0&&f>n)throw u.cancel(),o.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw r.isCancellationRequested?new c.CancellationError:s}throw new c.CancellationError}a(Ks,"fetchUInt8ArrayWithMaxSizeAndCancellation");var co=__webpack_require__(4155);function es(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof co=="object"&&"version"in co?`Node.js/${co.version.substr(1)} (${co.platform}; ${co.arch})`:"<environment undetectable>"}a(es,"getUserAgent");var Qd=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Pu(t){return Object.prototype.toString.call(t)==="[object Object]"}a(Pu,"isObject");function Nu(t){var e,n;return Pu(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(Pu(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}a(Nu,"isPlainObject");function Xd(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}a(Xd,"lowercaseKeys");function ku(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(r=>{Nu(e[r])?r in t?n[r]=ku(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}a(ku,"mergeDeep");function Lu(t){for(const e in t)t[e]===void 0&&delete t[e];return t}a(Lu,"removeUndefinedProperties");function Gs(t,e,n){if(typeof e=="string"){let[i,o]=e.split(" ");n=Object.assign(o?{method:i,url:o}:{url:i},n)}else n=Object.assign({},e);n.headers=Xd(n.headers),Lu(n),Lu(n.headers);const r=ku(t||{},n);return t&&t.mediaType.previews.length&&(r.mediaType.previews=t.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(i=>i.replace(/-preview/,"")),r}a(Gs,"dist_web_merge");function Jd(t,e){const n=/\?/.test(t)?"&":"?",r=Object.keys(e);return r.length===0?t:t+n+r.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}a(Jd,"addQueryParameters");const eh=/\{[^}]+\}/g;function th(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}a(th,"removeNonChars");function nh(t){const e=t.match(eh);return e?e.map(th).reduce((n,r)=>n.concat(r),[]):[]}a(nh,"extractUrlVariableNames");function Mu(t,e){return Object.keys(t).filter(n=>!e.includes(n)).reduce((n,r)=>(n[r]=t[r],n),{})}a(Mu,"omit");function Bu(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}a(Bu,"encodeReserved");function Ua(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}a(Ua,"encodeUnreserved");function fo(t,e,n){return e=t==="+"||t==="#"?Bu(e):Ua(e),n?Ua(n)+"="+e:e}a(fo,"encodeValue");function $a(t){return t!=null}a($a,"isDefined");function Ys(t){return t===";"||t==="&"||t==="?"}a(Ys,"isKeyOperator");function rh(t,e,n,r){var i=t[n],o=[];if($a(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),r&&r!=="*"&&(i=i.substring(0,parseInt(r,10))),o.push(fo(e,i,Ys(e)?n:""));else if(r==="*")Array.isArray(i)?i.filter($a).forEach(function(s){o.push(fo(e,s,Ys(e)?n:""))}):Object.keys(i).forEach(function(s){$a(i[s])&&o.push(fo(e,i[s],s))});else{const s=[];Array.isArray(i)?i.filter($a).forEach(function(l){s.push(fo(e,l))}):Object.keys(i).forEach(function(l){$a(i[l])&&(s.push(Ua(l)),s.push(fo(e,i[l].toString())))}),Ys(e)?o.push(Ua(n)+"="+s.join(",")):s.length!==0&&o.push(s.join(","))}else e===";"?$a(i)&&o.push(Ua(n)):i===""&&(e==="&"||e==="?")?o.push(Ua(n)+"="):i===""&&o.push("");return o}a(rh,"getValues");function ih(t){return{expand:ah.bind(null,t)}}a(ih,"parseUrl");function ah(t,e){var n=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,i,o){if(i){let l="";const f=[];if(n.indexOf(i.charAt(0))!==-1&&(l=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(u){var h=/([^:\*]*)(?::(\d+)|(\*))?/.exec(u);f.push(rh(e,l,h[1],h[2]||h[3]))}),l&&l!=="+"){var s=",";return l==="?"?s="&":l!=="#"&&(s=l),(f.length!==0?l:"")+f.join(s)}else return f.join(",")}else return Bu(o)})}a(ah,"expand");function Uu(t){let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},t.headers),i,o=Mu(t,["method","baseUrl","url","headers","request","mediaType"]);const s=nh(n);n=ih(n).expand(o),/^http/.test(n)||(n=t.baseUrl+n);const l=Object.keys(t).filter(h=>s.includes(h)).concat("baseUrl"),f=Mu(o,l);if(!/application\/octet-stream/i.test(r.accept)&&(t.mediaType.format&&(r.accept=r.accept.split(/,/).map(h=>h.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const h=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=h.concat(t.mediaType.previews).map(F=>{const D=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${F}-preview${D}`}).join(",")}return["GET","HEAD"].includes(e)?n=Jd(n,f):"data"in f?i=f.data:Object.keys(f).length?i=f:r["content-length"]=0,!r["content-type"]&&typeof i!="undefined"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:n,headers:r},typeof i!="undefined"?{body:i}:null,t.request?{request:t.request}:null)}a(Uu,"dist_web_parse");function oh(t,e,n){return Uu(Gs(t,e,n))}a(oh,"endpointWithDefaults");function $u(t,e){const n=Gs(t,e),r=oh.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:$u.bind(null,n),merge:Gs.bind(null,n),parse:Uu})}a($u,"withDefaults");const sh=`octokit-endpoint.js/6.0.12 ${es()}`,lh=$u(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":sh},mediaType:{format:"",previews:[]}});var uh=__webpack_require__(3300),ch=__webpack_require__.n(uh);class Vs extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}a(Vs,"Deprecation");var fh=__webpack_require__(447),Hu=__webpack_require__.n(fh);const dh=Hu()(t=>console.warn(t)),hh=Hu()(t=>console.warn(t));class Ni extends Error{constructor(e,n,r){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let i;"headers"in r&&typeof r.headers!="undefined"&&(i=r.headers),"response"in r&&(this.response=r.response,i=r.response.headers);const o=Object.assign({},r.request);r.request.headers.authorization&&(o.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return dh(new Vs("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return hh(new Vs("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}a(Ni,"RequestError");const gh="5.6.3";function ph(t){return t.arrayBuffer()}a(ph,"getBufferResponse");function Wu(t){const e=t.request&&t.request.log?t.request.log:console;(Nu(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let n={},r,i;return(t.request&&t.request.fetch||ch())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(async s=>{i=s.url,r=s.status;for(const l of s.headers)n[l[0]]=l[1];if("deprecation"in n){const l=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),f=l&&l.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${f?`. See ${f}`:""}`)}if(!(r===204||r===205)){if(t.method==="HEAD"){if(r<400)return;throw new Ni(s.statusText,r,{response:{url:i,status:r,headers:n,data:void 0},request:t})}if(r===304)throw new Ni("Not modified",r,{response:{url:i,status:r,headers:n,data:await qs(s)},request:t});if(r>=400){const l=await qs(s);throw new Ni(vh(l),r,{response:{url:i,status:r,headers:n,data:l},request:t})}return qs(s)}}).then(s=>({status:r,url:i,headers:n,data:s})).catch(s=>{throw s instanceof Ni?s:new Ni(s.message,500,{request:t})})}a(Wu,"fetchWrapper");async function qs(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():ph(t)}a(qs,"getResponseData");function vh(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}a(vh,"toErrorMessage");function Zs(t,e){const n=t.defaults(e);return Object.assign(a(function(i,o){const s=n.merge(i,o);if(!s.request||!s.request.hook)return Wu(n.parse(s));const l=a((f,u)=>Wu(n.parse(n.merge(f,u))),"request");return Object.assign(l,{endpoint:n,defaults:Zs.bind(null,n)}),s.request.hook(l,s)},"newApi"),{endpoint:n,defaults:Zs.bind(null,n)})}a(Zs,"dist_web_withDefaults");const ts=Zs(lh,{headers:{"user-agent":`octokit-request.js/${gh} ${es()}`}}),mh="4.8.0";function _h(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}a(_h,"_buildMessageForResponseErrors");class ca extends Error{constructor(e,n,r){super(_h(r));this.request=e,this.headers=n,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}a(ca,"GraphqlResponseError");const wh=["method","baseUrl","url","headers","request","query","mediaType"],yh=["query","method","url"],zu=/\/api\/v3\/?$/;function Eh(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(!!yh.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const r=typeof e=="string"?Object.assign({query:e},n):e,i=Object.keys(r).reduce((s,l)=>wh.includes(l)?(s[l]=r[l],s):(s.variables||(s.variables={}),s.variables[l]=r[l],s),{}),o=r.baseUrl||t.endpoint.DEFAULTS.baseUrl;return zu.test(o)&&(i.url=o.replace(zu,"/api/graphql")),t(i).then(s=>{if(s.data.errors){const l={};for(const f of Object.keys(s.headers))l[f]=s.headers[f];throw new ca(i,l,s.data)}return s.data.data})}a(Eh,"graphql");function Qs(t,e){const n=t.defaults(e);return Object.assign(a((i,o)=>Eh(n,i,o),"newApi"),{defaults:Qs.bind(null,n),endpoint:ts.endpoint})}a(Qs,"graphql_dist_web_withDefaults");const l0=Qs(ts,{headers:{"user-agent":`octokit-graphql.js/${mh} ${es()}`},method:"POST",url:"/graphql"});function bh(t){return Qs(t,{method:"POST",url:"/graphql"})}a(bh,"withCustomRequest");const Sh=/^v1\./,xh=/^ghs_/,Ch=/^ghu_/;async function Th(t){const e=t.split(/\./).length===3,n=Sh.test(t)||xh.test(t),r=Ch.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":r?"user-to-server":"oauth"}}a(Th,"auth");function Dh(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}a(Dh,"withAuthorizationPrefix");async function Ah(t,e,n,r){const i=e.endpoint.merge(n,r);return i.headers.authorization=Dh(t),e(i)}a(Ah,"hook");const Rh=a(function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Th.bind(null,e),{hook:Ah.bind(null,e)})},"createTokenAuth"),ju="3.5.1";class ho{constructor(e={}){const n=new Qd.Collection,r={baseUrl:ts.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=[e.userAgent,`octokit-core.js/${ju} ${es()}`].filter(Boolean).join(" "),e.baseUrl&&(r.baseUrl=e.baseUrl),e.previews&&(r.mediaType.previews=e.previews),e.timeZone&&(r.headers["time-zone"]=e.timeZone),this.request=ts.defaults(r),this.graphql=bh(this.request).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=n,e.authStrategy){const{authStrategy:o,...s}=e,l=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},e.auth));n.wrap("request",l.hook),this.auth=l}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=Rh(e.auth);n.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,e))})}static defaults(e){return a(class extends this{constructor(...r){const i=r[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...e){var n;const r=this.plugins;return n=a(class extends this{},"_a"),n.plugins=r.concat(e.filter(o=>!r.includes(o))),n}}a(ho,"Octokit"),ho.VERSION=ju,ho.plugins=[];var Ku;(function(t){t[t.Force=0]="Force",t[t.ForceWithLease=1]="ForceWithLease"})(Ku||(Ku={}));var Gi;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(Gi||(Gi={}));var go;(function(t){t[t.INDEX_MODIFIED=0]="INDEX_MODIFIED",t[t.INDEX_ADDED=1]="INDEX_ADDED",t[t.INDEX_DELETED=2]="INDEX_DELETED",t[t.INDEX_RENAMED=3]="INDEX_RENAMED",t[t.INDEX_COPIED=4]="INDEX_COPIED",t[t.MODIFIED=5]="MODIFIED",t[t.DELETED=6]="DELETED",t[t.UNTRACKED=7]="UNTRACKED",t[t.IGNORED=8]="IGNORED",t[t.INTENT_TO_ADD=9]="INTENT_TO_ADD",t[t.ADDED_BY_US=10]="ADDED_BY_US",t[t.ADDED_BY_THEM=11]="ADDED_BY_THEM",t[t.DELETED_BY_US=12]="DELETED_BY_US",t[t.DELETED_BY_THEM=13]="DELETED_BY_THEM",t[t.BOTH_ADDED=14]="BOTH_ADDED",t[t.BOTH_DELETED=15]="BOTH_DELETED",t[t.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(go||(go={}));var Gu;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.PermissionDenied="PermissionDenied",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply",t.NoPathFound="NoPathFound",t.UnknownPath="UnknownPath"})(Gu||(Gu={}));class Xs{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var n;const r=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const o of r){const s=(n=o.attrs)!=null?n:{};for(const l of Object.keys(s))i[l]=s[l]}return i}rulesForPath(e){const n=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const r of this.rules){if(!r.pattern)continue;const i=r.pattern[0]==="/"?`${r.pattern}`:`**/${r.pattern}`;ha().isMatch(e,i)&&n.push(r)}return n}parse(e,n=!1,r=!1){const i=e.split(/\r\n|\r|\n/g);for(const o of i){const s=this.parseRule(o,n,r);s&&this.rules.push(s)}}parseRule(e,n=!1,r=!1){if(e=e.trim(),!e)return r?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return n?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,o;if(e[0]==='"'){const s=/^"(?:[^"\\]|\\.)*"/.exec(e);if(s){try{i=JSON.parse(s[0])}catch(l){i=i.replace(/\\(.)/g,"\\1")}o=e.substr(s[0].length+1).trim()}else i=s==null?void 0:s[0],o=void 0}else{const s=/\s+/g.exec(e);i=s?e.substr(0,s.index):e,o=s?e.substr(s.index+s[0].length):void 0}return{pattern:i,attrs:o?this.parseAttributes(o):{},comment:void 0}}parseAttributes(e){const n={};for(const r of e.split(/\s+/g)){if(r==="=")continue;let i=r,o;if(r.startsWith("-"))i=r.substr(1),o=!1;else if(r.includes("=")){const s=r.indexOf("=");i=r.substr(0,s),o=r.substr(s+1)}else o=!0;n[i]=o,i==="binary"&&o?n.diff=!1:i==="crlf"&&o===!0?n.text=!0:i==="crlf"&&o===!1?n.text=!1:i==="crlf"&&o==="input"&&(n.eol="lf")}return n}}a(Xs,"GitAttributes");class Js{constructor(e,n){this.path=e,this.relativePath=n}}a(Js,"TrieNode");class Yu{constructor(){this.root=new Js("","")}get(e){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const o=(n=r.children)==null?void 0:n.get(i);if(o===void 0)return;r=o}return r.path===e?r.data:void 0}getChildren(e){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;if(e)for(const i of e.split("/")){const o=(n=r.children)==null?void 0:n.get(i);if(o===void 0)return[];r=o}return r.children===void 0?[]:[...r.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;const i=[];if(e)for(const o of e.split("/")){const s=(n=r.children)==null?void 0:n.get(o);if(s===void 0)return i;r=s}if(r.children!==void 0){let o=a(function(s,l,f){for(const u of s.values()){const h=`${l?`${l}/`:""}${u.relativePath}`;u.data&&f.push([h,u.data]),u.children!==void 0&&o(u.children,h,f)}},"getDescendantsCore");o(r.children,"",i)}return i}has(e){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const o=(n=r.children)==null?void 0:n.get(i);if(o===void 0)return!1;r=o}return r.path===e}set(e,n){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,o="";for(const s of e.split("/")){let l=(r=i.children)==null?void 0:r.get(s);o=`${o?`${o}/`:""}${s}`,l===void 0&&(i.children===void 0&&(i.children=new Map),l=new Js(o,s),i.children.set(s,l)),i=l}i.data=n}}a(Yu,"Trie");var Ih=__webpack_require__(5431),el=__webpack_require__.n(Ih);class tl{constructor(e,n,r,i,o){if(this.rootUri=e,this.sha=n,this.timestamp=r,this.provider=i,this.trie=new Yu,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(l=>{(!l||S(l.rootUri)===S(this.rootUri)&&l.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(f=>this._isContentCached=f,()=>this._isContentCached=!0)})),this._loading=this.load(o==null?void 0:o.path,o==null?void 0:o.recursive).then(l=>(this._hasEntireTree=(l==null?void 0:l.success)?l.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var f;return void((f=i.tryCachingContent)==null?void 0:f.call(i,this.trie.get.bind(this.trie)).then(u=>this._isContentCached=u,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(l==null?void 0:l.success)?l.sha:void 0,this.treeSha)),(o==null?void 0:o.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=c.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var n;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:c.FileType.Directory,size:0,ctime:0,mtime:(n=this.timestamp)!=null?n:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(e);return r!==void 0||(await this.ensureLoaded(e),r=this.trie.get(e)),r}async getChildren(e,n){await this.ensureLoaded(e,!0);const r=(n==null?void 0:n.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(n==null?void 0:n.filter)===void 0?r:r.filter(([,i])=>i.stat.type===n.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,n=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(n)i=this.preloading.get(e);else{const o=zt(this.preloading,([s])=>e.startsWith(s)&&e.lastIndexOf("/")===(s?s.length:-1));i=o==null?void 0:o[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let r=this.trie.get(e);if(r)return n&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),r=this.trie.get(e),n&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(e,n=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const i=new Ee(`FileTree.load(${this.sha}:${e})`);let o;try{i.logStep("Tree query");const s=await this.provider.getTree(e,n);if(s.truncated){X.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[f,u]of this.trie.getDescendants(""))u.stat.type===c.FileType.Directory&&(u.loadChildren=el()(()=>this.load(f).then(()=>u.loadChildren=void 0)));return o=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let l;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),l=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:f,item:u}of s.tree)if(f!==void 0){switch(f=e?`${e}/${f}`:f,u.stat.permissions=l,u.stat.type){case c.FileType.File:u.getContent=el()(()=>this.provider.getContent(u,f));break;case c.FileType.Directory:n||(u.loadChildren=el()(()=>this.load(f).then(()=>u.loadChildren=void 0)));break}this.trie.set(f,u)}return o=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:n,success:!0}}catch(s){return o=`\u2022 Loading for path=${e} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(o?{suffix:o}:void 0)}}}a(tl,"FileTree");var Fh=__webpack_require__(7769);const Oh="github-pr-owner-number";function Ph(t){return`branch.${t}.${Oh}`}a(Ph,"getMetadataKeyForBranch");const Vu=new TextDecoder;class qu{constructor(e,n,r,i,o,s){this.providerService=e,this.rootUri=n,this.sourceControl=r,this.metadata=i,this.changeStore=o,this.github=s,this._onDidChangeSelection=new c.EventEmitter,this._onDidChangeState=new c.EventEmitter,this._objects=new Map,this.disposable=c.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(u=>{const h=S(this.rootUri);!u.some(F=>S(F)===h)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:u})=>{S(this.rootUri)===S(u.uri)&&this.updateState(await u.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return r.inputBox.value},set value(u){r.inputBox.value=u}},this._ui={get selected(){return r.selected},onDidChange:this._onDidChangeSelection.event};const{repo:{owner:l,name:f}}=i;this.remote={name:"origin",fetchUrl:`https://github.com/${l}/${f}.git`,isReadOnly:i.accessLevel<te.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(e){switch(e.HEAD.type){case J.Branch:return{type:Gi.Head,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:this.remote.name}};case J.RemoteBranch:{const n=e.HEAD.branch.remote.repo.owner,r=e.HEAD.branch.remote.accessLevel<te.Write,i=this.remotes.findIndex(o=>o.name===n);return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:n,fetchUrl:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,pushUrl:r?void 0:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,isReadOnly:r}),{type:Gi.RemoteHead,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:e.HEAD.branch.remote.repo.owner}}}case J.Tag:return{type:Gi.Tag,name:e.HEAD.detached.name,commit:e.HEAD.sha};case J.Commit:return{type:Gi.Head,commit:e.HEAD.sha}}}async updateState(e){this.metadata=e;const n=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:l=>l.fileType===c.FileType.File}),r=n.conflicts.map(l=>({uri:l.uri,status:nl(l.type),originalUri:l.uri,renameUri:l.uri})),i=n.staged.map(l=>({uri:l.uri,status:nl(l.type),originalUri:l.uri,renameUri:l.uri})),o=n.working.map(l=>({uri:l.uri,status:nl(l.type),originalUri:l.uri,renameUri:l.uri})),s=Ne.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(e),mergeChanges:r,indexChanges:s?i:[],workingTreeChanges:s?o:[...i,...o]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(e){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&e===Ph(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(e,n){return Promise.resolve("")}getGlobalConfig(e){throw new Error("Method not implemented.")}async getObjectDetails(e,n){const r=new Ee(`IGit.getObjectDetails(${e}, ${n})`);try{return await this.github.getObjectDetails(this.rootUri,e,this.pathToRelativePath(n))}finally{r.stop()}}async detectObjectType(e){var n;const r=new Ee(`IGit.detectObjectType(${e})`);try{const i=await this.github.getBlobContent(this.metadata.repo,e);if(!ur(i))return{mimetype:"text/plain"};const s=await(0,Fh.fromBuffer)(i);return{mimetype:(n=s==null?void 0:s.mime)!=null?n:"application/octet-stream"}}finally{r.stop()}}async buffer(e,n){const r=new Ee(`IGit.buffer(${e}, ${n})`);try{return await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(n))}finally{r.stop()}}async show(e,n){const r=new Ee(`IGit.show(${e}, ${n})`);try{const i=await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(n));return Vu.decode(i)}finally{r.stop()}}async getCommit(e){const n=new Ee(`IGit.getCommit(${e})`);try{const r=await this.github.getCommit(this.rootUri,e);if(r===void 0)throw new Error(`Unable to find commit for ref "${e}"`);return r}finally{n.stop()}}clean(e){return this._objects.clear(),Promise.resolve()}async apply(e,n){const r=new Ee(`IGit.apply(reverse=${n})`);try{return await this.changeStore.applyPatch(this.rootUri,e,n?{reverse:!0}:void 0)}finally{r.stop()}}async diff(e){const n=new Ee(`IGit.diff(${e})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,e?{staged:!0}:void 0)}finally{n.stop()}}diffWithHEAD(e){return e?this.diffBetween("","HEAD",e):this.diffBetween("","HEAD")}diffWith(e,n){return n?this.diffBetween("",e,n):this.diffBetween("",e)}diffIndexWithHEAD(e){return e?this.diffBetween("~","HEAD",e):this.diffBetween("~","HEAD")}diffIndexWith(e,n){return n?this.diffBetween("~",e,n):this.diffBetween("~",e)}async diffBetween(e,n,r){if(!r)throw new Error("Method not implemented.");const i=new Ee(`IGit.diffBetween(${e}, ${n}, ${r})`);try{const o=[];for(const f of[e,n])try{o.push(await this.getContent(f,r))}catch(u){o.push(void 0)}const[s,l]=o;if(s===void 0&&l!==void 0)return hn(r,"",l,"add");if(s!==void 0&&l===void 0)return hn(r,s,"","delete");if(s!==void 0&&l!==void 0)return hn(r,s,l,"modify");throw c.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(e,n){const r=new Ee(`IGit.diffBlobs(${e}, ${n})`);try{const i=await this.getBlobContent(e),o=await this.getBlobContent(n),s=Yt("untitled",i,o);return Promise.resolve(s)}finally{r.stop()}}async getBlobContent(e){const n=new Ee(`IGit.getBlobContent(${e})`);try{const r=this._objects.get(e);if(r)return this._objects.delete(e),r;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),o=await this.github.getBlobContent(i,e);return Vu.decode(o)}finally{n.stop()}}async getContent(e,n){const r=new Ee(`IGit.getContent(${e}, ${n})`);try{const i=this.pathToRelativeUri(n);if(e===""||e==="~"){const o=await this.changeStore.getChange(i);if(o!==void 0&&(e===""||o.staged))return this.changeStore.getContent(i);e="HEAD"}return await this.show(e==="HEAD"?this.metadata.HEAD.sha:e,n)}finally{r.stop()}}async hashObject(e){const n=new Ee("IGit.hashObject");try{const r=y(await Gt(e));return this._objects.set(r,e),r}finally{n.stop()}}async createBranch(e,n,r){const i=new Ee(`IGit.createBranch(${e}, ${n}, ${r})`);try{r||(r=this.metadata.HEAD.sha);const o=await this.github.createBranch(this.rootUri,e,r);n&&await this.checkout(o)}finally{i.stop()}}deleteBranch(e,n){throw new Error("Method not implemented.")}async getBranch(e){const n=new Ee(`IGit.getBranch(${e})`);try{const r=await this.github.getBranch(this.rootUri,e);if(r===void 0)throw new Error(`Unable to find branch named "${e}"`);return{type:r.type,name:r.name,commit:r.commit,remote:this.remote.name,upstream:{name:r.name,remote:this.remote.name}}}finally{n.stop()}}async getBranches(e){var n,r;const i=(r=(n=e.contains)!=null?n:e.pattern)!=null?r:"",o=new Ee(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:e.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(l=>({type:l.type,name:l.name,commit:l.commit}))}finally{o.stop()}}setBranchUpstream(e,n){throw new Error("Method not implemented.")}getMergeBase(e,n){throw new Error("Method not implemented.")}async status(){}async checkout(e){const n=new Ee(`IGit.checkout(${e})`);try{if(await this.github.repositoryObjectExists(this.rootUri,e)){const i=await this.github.switchTo(this.rootUri,e,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const r=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(e);if(r==null?void 0:r.groups){const{num:i}=r.groups,{provider:o,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),l=this.providerService.getRemoteUri(o.id,{repo:s,pullRequest:{id:i}});if(l!==void 0){const f=await this.providerService.createWorkspaceForRemoteUrl(l.toString());f!==void 0&&await this.providerService.openWorkspace(f)}}throw new Error("User aborted")}finally{n.stop()}}addRemote(e,n){var r;let i;const o=this.remotes.findIndex(s=>s.name===e);return o!==-1&&([i]=this.remotes.splice(o,1)),this.remotes.push({name:e,fetchUrl:n,isReadOnly:(r=i==null?void 0:i.isReadOnly)!=null?r:!1}),Promise.resolve()}removeRemote(e){const n=this.remotes.findIndex(r=>r.name===e);return n!==-1&&this.remotes.splice(n,1),Promise.resolve()}renameRemote(e,n){const r=this.remotes.findIndex(o=>o.name===e);if(r===-1)return Promise.resolve();const[i]=this.remotes.splice(r,1);return this.remotes.push({...i,name:n}),Promise.resolve()}async fetch(e,n,r){const i=new Ee("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(e){const n=new Ee("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:de.Merge})}finally{n.stop()}}push(e,n,r){return Promise.resolve()}blame(e){throw new Error("Method not implemented.")}async log(e){var n;const r=(e==null?void 0:e.path)?this.pathToRelativePath(e.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:r,limit:e==null?void 0:e.maxEntries});return(n=i==null?void 0:i.commits)!=null?n:[]}async commit(e,n){const r=new Ee("IGit.commit");try{if((n==null?void 0:n.amend)!==void 0||(n==null?void 0:n.empty)!==void 0||(n==null?void 0:n.signCommit)!==void 0||(n==null?void 0:n.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(n==null?void 0:n.all)===!1})).filter(o=>o.fileType===c.FileType.File);if(!i.length){c.window.showInformationMessage(c.l10n.t("There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,e,i,void 0,n),await this.changeStore.acceptAll(this.rootUri)}finally{r.stop()}}pathToRelativePath(e){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(e))}pathToRelativeUri(e){return L(this.rootUri,Lh(e))}}a(qu,"GitHubRepository");const Nh=/^\/?([a-zA-Z])(?::\/)(.*)$/,kh=/\\/g;function Lh(t){t=c.Uri.file(t).fsPath.replace(kh,"/");const e=Nh.exec(t);return e!==null&&([,,t]=e),t.startsWith("/")?t:`/${t}`}a(Lh,"normalizePath");function nl(t){switch(t){case z.Changed:return go.MODIFIED;case z.Created:return go.INTENT_TO_ADD;case z.Deleted:return go.DELETED}}a(nl,"opTypeToStatus");class ns extends Error{constructor(e,n,r){super(e.message);this.original=e,this.name=n,this.id=r;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,ns)}}a(ns,"PullRequestNotFoundError");class po extends Error{constructor(e,n){super(e.message);this.original=e,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,po)}}a(po,"RepositoryForbiddenError");class vo extends Error{constructor(e,n){super(e.message);this.original=e,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,vo)}}a(vo,"RepositoryNotFoundError");class rs extends Error{constructor(e,n){super(e.message);this.original=e,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,rs)}}a(rs,"RepositoryEmptyError");var Mh=Object.defineProperty,Bh=Object.getOwnPropertyDescriptor,ki=a((t,e,n,r)=>{for(var i=r>1?void 0:r?Bh(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Mh(e,n,i),i},"messages_decorateClass");class xi{constructor(){this.hasShownStatus404Message=!1}showGitHubStatus500Message(){return c.window.showErrorMessage(c.l10n.t("GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),c.l10n.t("OK")),Promise.resolve()}async showStatus401Message(e){if(!e)return void c.window.showErrorMessage(c.l10n.t("The provided credentials are either invalid or expired."),c.l10n.t("OK"));const n=c.l10n.t("Reauthenticate");await c.window.showErrorMessage(c.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),n)===n&&e()}async showStatus404Message(e,n,r){if(this.hasShownStatus404Message)return!0;this.hasShownStatus404Message=!0;const i=c.l10n.t("Load Latest"),o=await c.window.showErrorMessage(c.l10n.t("Could not open repository '{0}'.",e),{modal:!0,detail:c.l10n.t(`The last opened commit ({0}) no longer exists on the remote.

Do you want to load the latest repository contents from the remote instead? Your uncommitted changes for commit {0} will be preserved and should be reviewed before committing.`,x(n))},i);return r(o),o!==void 0}async showStatus403Message(e){if(!e)return void c.window.showErrorMessage(c.l10n.t("The provided credentials do not have the required access."),c.l10n.t("OK"));const n=c.l10n.t("Reauthenticate"),r=c.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await c.window.showErrorMessage(r,n)===n&&e()}async showRepositoryEmptyMessage(e){const n=c.l10n.t("Open Repository");await c.window.showErrorMessage(c.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),{modal:!0},n)===n&&c.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,n){const r=c.l10n.t("Open Pull Request");await c.window.showErrorMessage(c.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,n),r)===r&&c.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,n){const r=c.l10n.t("OK");await c.window.showWarningMessage(c.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",e,n),r)}async showRepositoryForbiddenMessage(e,n){const r=c.l10n.t("Open Repository"),i=c.l10n.t("Reauthenticate"),o=await c.window.showErrorMessage(c.l10n.t("We require additional permissions to access repository '{0}'. Would you like to reauthenticate or open another repository?",e),{modal:!0},r,i);o===r?c.commands.executeCommand("remoteHub.openRepository"):o===i&&n()}async showRepositoryNotFoundMessage(e,n,r){const i=c.l10n.t("Open Default Branch"),o=c.l10n.t("Open Repository"),s=n?[i,o]:[o],l=await c.window.showErrorMessage(n?c.l10n.t("Unable to find ref '{1}' in repository '{0}'. Would you like to open the default branch instead?",e,n):c.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),{modal:!0},...s);l===o?c.commands.executeCommand("remoteHub.openRepository"):l===i&&(r==null||r())}async showUnableToOpenRepositoryMessage(e){const n=c.l10n.t("Open Repository");await c.window.showErrorMessage(c.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),{modal:!0},n)===n&&c.commands.executeCommand("remoteHub.openRepository")}}a(xi,"Messages"),ki([Jt(()=>"")],xi.prototype,"showGitHubStatus500Message",1),ki([Jt(()=>"")],xi.prototype,"showStatus401Message",1),ki([Jt(()=>"")],xi.prototype,"showStatus404Message",1),ki([Jt(()=>"")],xi.prototype,"showStatus403Message",1),ki([Jt()],xi.prototype,"showRepositoryEmptyMessage",1),ki([Jt()],xi.prototype,"showPullRequestNotFoundMessage",1),ki([Jt()],xi.prototype,"showPullRequestHeadNotFoundMessage",1),ki([Jt()],xi.prototype,"showRepositoryForbiddenMessage",1),ki([Jt()],xi.prototype,"showRepositoryNotFoundMessage",1),ki([Jt()],xi.prototype,"showUnableToOpenRepositoryMessage",1);const Xr=new xi;var rl=__webpack_require__(4155),Uh=Object.defineProperty,$h=Object.getOwnPropertyDescriptor,Zu=a((t,e,n,r)=>{for(var i=r>1?void 0:r?$h(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Uh(e,n,i),i},"provider_decorateClass");const Hh=new TextDecoder,Qu=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,Xu=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,Ju=/^git@github\.com:(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i,Wh=["repo","workflow"],is=["repo","workflow","user:email","read:user"],as=1,il=Object.freeze({id:"github",name:"GitHub"});function Ca(t){const{scheme:e,metadata:n}=$.decodeAuthority(t,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:as,ref:{type:Se.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:as,ref:{type:Se.Tree,id:s.ref},idx:s.idx}}),[,r,i,...o]=Fu.posix.normalize(t.path).split("/");return{scheme:e,provider:il,name:`${r}/${i}`,repo:{owner:r,name:i},path:o.join("/")||"",ref:n==null?void 0:n.ref,idx:n==null?void 0:n.idx}}a(Ca,"getGitHubMetadata");function zh(t,e){const{repo:n}=e!=null?e:Ca(t);return t.with({path:`/${n.owner}/${n.name}`,query:"",fragment:""})}a(zh,"getGitHubRootUri");function al(t,e,n){const{repo:{owner:r,name:i}}=t instanceof c.Uri?Ca(t):t;return c.Uri.parse(`github://${$.encodeAuthority("github",{v:as,ref:{type:Se.Commit,id:e}})}/${r}/${i}/${n}`)}a(al,"getGitHubRevisionUri");class ec{constructor(e){if(this.scopes=e,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!rl.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=rl.env.GITHUB_REMOTEHUB_TEST_PAT}}a(ec,"TestAuthenticationSession");const tc="_remotehub.getTarballProxyEndpoints",jh="_workbench.getTarballProxyEndpoints";class os{constructor(e,n){this.providerService=e,this.tarPit=n,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.gitAttributes=new Map,this.disposable=c.Disposable.from(e.onDidChangeRepository(r=>{r.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([r.repository.uri])}),e.onDidRefresh(r=>this.onRefreshOrRepositoryChanged(r))),Sn&&(this.tarballProxyEndpoint=this.getTarballProxyEndpoint()),rl.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new ec(Wh))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(il.id)]}getTarballProxyEndpoint(){return c.commands.getCommands().then(async e=>{const n=e.includes(tc)?tc:jh,r=await c.commands.executeCommand(n);return r==null?void 0:r["github.com"]})}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(e){e=e.filter(n=>$.getProviderId(n)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(n=>n.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(e=!1){const n=new Ee("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function r(){try{return e?await c.authentication.getSession("github",is,{forceNewSession:e}):await c.authentication.getSession("github",is,{createIfNone:!0})}catch(o){if(o instanceof Error&&o.message==="User did not consent to login.")throw new Error(c.l10n.t("Please sign into GitHub to access this repository's contents."));X.error(o);try{const s=await c.authentication.getSession("github",is,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function l(){const u=await c.authentication.getSession("github",is,{createIfNone:!0});u!==void 0&&s(u)}a(l,"getSession");const f=c.authentication.onDidChangeSessions(async u=>{u.provider.id==="github"&&(f.dispose(),await l())})})}}a(r,"waitUntilAuthenticated"),this._session=await r();const i=c.authentication.onDidChangeSessions(o=>{if(this._session===void 0){i.dispose();return}o.provider.id==="github"&&(this.clearAuthenticationSession(),i.dispose())})}return this._session}finally{n.stop()}}async getAuthentication(e){const n=await this.ensureAuthenticated();return{provider:il,session:n,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${n.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(e){if(this._octokitDefaults===void 0){const r=await this.ensureAuthenticated();if(Sn){async function i(o,s){if(s.headers!==void 0){const{"user-agent":l,...f}=s.headers;l&&(s.headers=f)}return uo(o,s)}a(i,"fetchCore"),this._octokitDefaults=ho.defaults({auth:`token ${r.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=ho.defaults({auth:`token ${r.accessToken}`})}const n=new this._octokitDefaults(e);return(X.logLevel===et.Debug||X.isDebugging)&&n.hook.wrap("request",async(r,i)=>{var o;const s=new Ee(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await r(i)}finally{let l;try{if(typeof i.query=="string"){const f=/(^[^({\n]+)/.exec(i.query);l=` ${(o=f==null?void 0:f[1].trim())!=null?o:i.query}`}}catch{}s.stop({message:l})}}),n}async graphql(e,n,r=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(e,n)}catch(i){throw r||this.handleRequestErrors(i),X.error(i),i}}async request(e,n){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(e,n)}catch(r){throw this.handleRequestErrors(r),X.error(r),r}}handleRequestErrors(e){var n,r;if(e instanceof Ni)switch(e.status){case 500:return e.response&&Xr.showGitHubStatus500Message(),!0;case 401:return Xr.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return Xr.showStatus403Message(()=>void this.reauthenticate()),!0}else if(e instanceof ca){if(((r=(n=e.errors)==null?void 0:n[0])==null?void 0:r.type)==="FORBIDDEN")return Xr.showStatus403Message(()=>void this.reauthenticate()),!0;if(e.headers.status==="500")return Xr.showGitHubStatus500Message(),!0}return!1}createIGitRepository(e,n,r,i){return new qu(this.providerService,e,n,r,i,this)}async validateMetadataRevision(e,n,r){try{switch(r.type){case J.Branch:case J.RemoteBranch:await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:e,repo:n,tree_sha:r.sha}),X.debug(`GitHub.validateMetadataRevision(${e}, ${n}, ${r.sha}) SUCCEEDED`);break;default:return}}catch(i){if(X.error(`GitHub.validateMetadataRevision(${e}, ${n}, ${r.sha}) FAILED with error`,i.toString()),i instanceof Ni&&i.status===404&&i.message==="Not Found"&&!await Xr.showStatus404Message(`${e}/${n}`,r.sha,s=>{if(s!==void 0)switch(r.type){case J.Branch:case J.RemoteBranch:r.sha=r.branch.sha}}))throw i}}async createMetadata(e,n){var r,i,o,s,l,f;const u=new Ee(`GitHub.createMetadata(${e.toString()}, ${n})`);let h;try{let{provider:F,name:D,repo:{owner:P,name:oe},ref:he}=Ca(e);(!he||he.type===Se.Commit&&/HEAD/i.test(he.id))&&(he={type:Se.Commit,id:"HEAD"});const Le=this.providerService.isInWorkspace(e),Ae=await this.getRepositoryInfo(P,oe,Le,he.type===Se.PullRequest?{pr:Number(he.id)}:{ref:he.id});if(Ae===void 0)throw h=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let Qe;if(n)Qe=n;else if(he.type===Se.Commit&&he.id!=="HEAD"||he.type===Se.Tree&&Ae.ref===void 0)Qe=he.id;else if(Qe=(i=(r=Ae.ref)==null?void 0:r.sha)!=null?i:Ae.defaultBranch.sha,Qe===void 0)throw h=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let it;if(((o=Ae.ref)==null?void 0:o.prefix)==="refs/heads/")it={type:J.Branch,name:Ae.ref.name,sha:Qe,branch:{name:Ae.ref.name,sha:Ae.ref.sha}};else if(((s=Ae.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Ae.ref.remote)throw h=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);it={type:J.RemoteBranch,name:`${Ae.ref.remote.repo.owner}${Ae.ref.remote.repo.name!==oe?`/${Ae.ref.remote.repo.name}`:""}:${Ae.ref.name}`,sha:Qe,branch:{name:Ae.ref.name,sha:Ae.ref.sha,remote:Ae.ref.remote}}}else if(((l=Ae.ref)==null?void 0:l.prefix)==="refs/tags/")it={type:J.Tag,name:Ae.ref.name,sha:Ae.ref.sha,detached:{type:J.Tag,name:Ae.ref.name}};else if(T(Qe))it={type:J.Commit,name:x(Qe),sha:Qe,detached:{type:J.Commit,name:x(Qe)}};else throw h=" \u2022 Aborted; Unable to get HEAD info",Xr.showRepositoryNotFoundMessage(`${P}/${oe}`,he.id,()=>{const ct=this.getRemoteUri({repo:{owner:P,name:oe}});c.commands.executeCommand("remoteHub.openRepository",ct.toString())}),new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get HEAD info`);await this.validateMetadataRevision(P,oe,it);let $e,ft;if(Ne.get("experimental.prefetch")&&Le&&($e=Qe,u.log({suffix:` \u2022 Prefetching tree for ${$e}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(ct=>ft=ct),repo:{owner:P,name:oe},HEAD:{sha:$e},timestamp:Date.now()}})),$e!==void 0&&$e!==it.sha){const ct=this.asFileTreeKey(e,$e),_t=this.fileTreeCache.get(ct);_t&&!T($e)&&it.sha===((f=it.branch)==null?void 0:f.sha)?(u.log({suffix:` \u2022 Updating prefetched tree for ${$e}, since HEAD was resolved; HEAD=${it.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,it.sha),_t),this.fileTreeCache.delete(ct)):(u.log({suffix:` \u2022 Removing prefetched tree for ${$e}, since the HEAD changed; HEAD=${it.sha}`}),this.fileTreeCache.delete(ct),_t==null||_t.dispose())}const It={version:sr.schemaVersion,timestamp:Date.now(),provider:F,name:D,repo:Ae.repo,cloneUrl:Ae.cloneUrl,accessLevel:Ae.accessLevel,HEAD:it,defaultBranch:Ae.defaultBranch,pullRequest:Ae.pullRequest};return h=` \u2022 HEAD=${it.sha}`,ft==null||ft(It),It}finally{u.stop(h?{suffix:h}:void 0)}}getMetadata(e){return this.providerService.getMetadata(e)}getRemoteWorkspaceSourceProviders(){return[{name:"GitHub",icon:"$(github)",label:c.l10n.t("Open Repository from {0}","GitHub"),placeholder:c.l10n.t("Choose a repository"),provideSources:async(e,n,r,i)=>{r=r!=null?r:"";let o;const s=r==null?void 0:r.indexOf("/");s!==-1&&(o=r.substring(0,s),r=r.substr(s+1));const{results:l,hasSAMLProtectedResults:f}=await this.searchRepositoriesQuery(r,{...i,user:o}),u=[];if(f){const h={label:`$(lock) ${c.l10n.t("Single sign-on to see repositories in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};u.push(h)}return u.push({kind:c.QuickPickItemKind.Separator,label:c.l10n.t("repositories")},...l.map(h=>({providerId:"github",name:h.repoWithOwner,icon:"$(repo)",description:`${h.fork?`$(repo-forked) ${h.fork}`:""}${h.stars>0?`${h.fork?" \u2022 ":""}$(star-full) ${h.stars}`:""}`,detail:h.description,url:h.url}))),u}},{name:"GitHub",icon:"$(github)",label:c.l10n.t("Open Pull Request from {0}","GitHub"),placeholder:c.l10n.t("Choose a pull request"),provideSources:async(e,n,r,i)=>{r=r!=null?r:"";let o;const s=r==null?void 0:r.indexOf("/");s!==-1&&(o=r.substring(0,s),r=r.substr(s+1));const{results:l,hasSAMLProtectedResults:f}=await this.searchPullRequestsQuery(r,{user:o}),u=[];if(f){const h={label:`$(lock) ${c.l10n.t("Single sign-on to see pull requests in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};u.push(h)}return u.push({kind:c.QuickPickItemKind.Separator,label:c.l10n.t("pull requests")},...l.map(h=>({providerId:"github",name:h.title,icon:"$(git-pull-request)",description:h.reasons.length!==0?h.reasons.sort().join(", "):void 0,detail:`${h.repoWithOwner} #${h.number}`,url:h.url}))),u}}]}canOpenRemoteUrl(e){var n;const r=(n=Qu.exec(e))!=null?n:Ju.exec(e);if((r==null?void 0:r.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:l}=r.groups;return s?Z.PullRequest:o?Z.Commit:l?Z.Branch:i?Z.File:Z.Repository}async createWorkspaceForRemoteUrl(e,n=Ve.CurrentWindow,r=!0){var i;const o=(i=Qu.exec(e))!=null?i:Ju.exec(e);if((o==null?void 0:o.groups)===void 0)return;let{owner:s,repo:l,blob:f,commit:u,pull:h,tree:F,fragment:D}=o.groups;l=l.endsWith(".git")?l.slice(0,l.length-4):l;let P,oe;if(r){const Ae=await this.validateOwnerAndRepoAndSplitRefFromPath(s,l,F!=null?F:f);if(Ae===void 0)return;({owner:s,repo:l,ref:oe,path:P}=Ae)}if(F||f){if(P&&D&&f){const Ae=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(D);if(Ae==null?void 0:Ae.groups){const{start:Qe,end:it}=Ae.groups;P+=`:${Qe}${it!==void 0?`-${it}`:""}`}}}else u?oe={type:Se.Commit,id:u}:h&&(oe={type:Se.PullRequest,id:h});const he=this.providerService.createVirtualUri("github",{repo:{owner:s,name:l},ref:oe}),{name:Le}=Ca($.getVirtualUri(this.getProviderRootUri(he)));return{name:Le,uri:he,location:n,filesToOpen:P?[P]:void 0}}createVirtualUri(e,{repo:n,ref:r,idx:i},o){const s=r!==void 0||i!==void 0?{v:as}:void 0;return s&&(r&&(s.ref={...r,type:r.type===Se.Branch||r.type===Se.Tag?Se.Tree:r.type}),i&&(s.idx=i)),e.with({authority:$.encodeAuthority("github",s),path:`/${n.owner}/${n.name}${(o==null?void 0:o.startsWith("/"))?o:o?`/${o}`:""}`})}getRemoteUri(e){const n=`https://github.com/${e.repo.owner}/${e.repo.name}`,r=e.path?"blob":"tree",i=e.path?`/${e.path}`:"";return e.pullRequest?c.Uri.parse(`${n}/pull/${e.pullRequest.id}`):e.branch?c.Uri.parse(`${n}/${r}/${e.branch}${i}`):e.tag?c.Uri.parse(`${n}/${r}/${e.tag}${i}`):e.sha?c.Uri.parse(`${n}/${r}/${e.sha}${i}`):c.Uri.parse(n)}getProviderRootUri(e){return e=$.getProviderUri(e),zh(e)}getRelativeFilePath(e,n){let{path:r}=Ca(e);const{path:i}=Ca(L(e,n));return r.length!==0&&i!==r&&i.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,i.slice(r.length)):i}getVirtualUriMetadata(e){const{provider:n,name:r,repo:i,ref:o}=Ca(e);return{provider:n,name:r,repo:i,ref:o}}async getModeRefType(e,n){const{HEAD:r,pullRequest:i}=await(n!=null?n:this.getMetadata(e));switch(r.type){case J.Branch:return i!==void 0?se.PullRequestBranch:se.Branch;case J.RemoteBranch:return i!==void 0?se.PullRequestRemoteBranch:se.RemoteBranch;case J.Tag:return se.Tag;case J.Commit:return se.Commit}}async getGitAttributes(e){const n=e.toString(),r=this.gitAttributes.get(n);if(r)return r;const i=this.providerService.createRelativeUri(e,".gitattributes"),o=this.getFileContent(i).then(s=>new Xs(Hh.decode(s))).catch(s=>{if(s instanceof c.FileSystemError&&s.code===c.FileSystemError.FileNotFound().code)return new Xs("");throw s});return this.gitAttributes.set(n,o),o}async createBranch(e,n,r,i){try{const{repo:{owner:o,name:s}}=i!=null?i:await this.getMetadata(e);return n.startsWith("refs/heads/")||(n=`refs/heads/${n}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:o,repo:s,ref:n,sha:r})).data.ref.substr(11)}catch(o){throw o instanceof Ni&&o.status===422?o.message==="Reference already exists"?Ge.InvalidBranchNameError(n.substring(11),!0):Ge.InvalidBranchNameError(n.substring(11),!1):(X.error(o),o)}}async createAndPushCommit(e,n,r,i,o,s){var l;const f=new Ee(`GitHub.createAndPushCommit(${e.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(r=r.filter(h=>h.fileType===c.FileType.File),r.length===0&&!(o==null?void 0:o.empty))throw f.stop({message:"Aborted; No changes to commit"}),Ge.NothingToCommitError("No changes to commit");let u;try{const h=await this.getMetadata(e);let F;if(i!==void 0)F=i;else{if(h.HEAD.detached&&!h.HEAD.branch)throw Ge.DetachedHEADError("Unable to commit; no current branch");F=h.HEAD.branch.name}let D;if(s)D=`${s.repo.owner}/${s.repo.name}`;else if(h.HEAD.type===J.RemoteBranch&&h.HEAD.branch.remote.accessLevel>=te.Write){const{owner:ft,name:It}=h.HEAD.branch.remote.repo;D=`${ft}/${It}`}else D=`${h.repo.owner}/${h.repo.name}`;const P=[],oe=[],he=[],Le=await this.getGitAttributes(e);for(const ft of r)switch(ft.type){case z.Created:case z.Changed:{try{const It=await ft.content;if(Ne.get("lfs.write.enabled")&&C(Le,ft.path)){const ct=await Y(It);he.push({...ct,path:ft.path,binaryContent:It})}else P.push({path:ft.path,contents:On(It)})}catch(It){throw X.error(It),Ge.CommitFailedError()}break}case z.Deleted:oe.push({path:ft.path});break}const Ae=await this.uploadLfsFiles(e,he);P.push(...Ae);const Qe={branch:{branchName:F,repositoryNameWithOwner:D},message:{headline:n},fileChanges:{additions:P,deletions:oe},expectedHeadOid:h.HEAD.sha},it=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,$e=await this.graphql(it,{commitInput:Qe});if(u=$e==null?void 0:$e.createCommitOnBranch.commit.oid,!u)throw Ge.CommitFailedError();return i===void 0&&!h.HEAD.detached&&u!==void 0&&await this.fastForwardTo(e,u,h),u}catch(h){if(h instanceof ca){const F=(l=h.errors)==null?void 0:l[0];if((F==null?void 0:F.type)==="STALE_DATA"&&F.message.includes("Pull and try again"))throw Ge.MergeConflictError(h);if((F==null?void 0:F.type)==="BRANCH_PROTECTION_RULE_VIOLATION"&&F.message.includes("protected branch"))throw Ge.CommitToProtectedBranchError(F.message);if((F==null?void 0:F.type)==="FORBIDDEN"&&F.message.includes("does not have the correct permissions to execute `CreateCommitOnBranch`"))throw Ge.CommitToArchivedRepositoryError(F.message)}throw X.error(h),h}finally{f.stop(u?{message:`: Created and pushed commit ${u}`}:void 0)}}async createPullRequest(e,n,r,i,o,s){var l,f,u;const h=new Ee(`GitHub.createPullRequest(${e.toString()}, ${n}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);try{const{repo:{owner:F,name:D},HEAD:{branch:P},defaultBranch:oe}=await this.getMetadata(e),he=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:F,repo:D,base:`refs/heads/${(l=P==null?void 0:P.name)!=null?l:oe.name}`,head:s?`${s.repo.owner}:${n}`:n,title:r,body:i,draft:(f=o==null?void 0:o.draft)!=null?f:!1,maintainer_can_modify:(u=o==null?void 0:o.canMaintainerModify)!=null?u:!0});return{id:he.data.number.toString(),uri:c.Uri.parse(he.data.html_url)}}catch(F){throw X.error(F),F}finally{h.stop()}}async fetch(e,n){const{fetched:r,metadata:i}=await this.fetchCore(e,!1,n);r&&await this.providerService.updateMetadata(e,i)}async fetchCore(e,n,r){var i,o,s,l,f,u,h,F,D;const{force:P,to:oe}={...r,force:n||(r==null?void 0:r.force)},he=new Ee(`GitHub.fetch(${e.toString()}, force=${P}, to=${oe})`);let Le;try{const Ae=await this.getMetadata(e);if(Ae.HEAD.detached)return Le=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:Ae};const Qe=await this.getBranchTips(e);if(!Qe)throw Le=" \u2022 Unable to fetch branch tips",Ge.SyncOrFetchError(n);if(!P&&!oe&&((i=Qe.defaultBranch)==null?void 0:i.sha)!==void 0&&Qe.defaultBranch.sha===Ae.defaultBranch.sha&&((o=Qe.branch)==null?void 0:o.sha)!==void 0&&Qe.branch.sha===Ae.HEAD.branch.sha&&(Ae.HEAD.sha===Ae.HEAD.branch.sha||Ae.state!==void 0))return Le=" \u2022 No changes detected",{fetched:!1,metadata:Ae};let it;if(((s=Qe.defaultBranch)==null?void 0:s.sha)!==void 0&&Qe.defaultBranch.sha!==Ae.defaultBranch.sha&&(it={defaultBranch:{...Ae.defaultBranch,sha:Qe.defaultBranch.sha}}),((l=Qe.branch)==null?void 0:l.sha)===void 0){if(Le=" \u2022 Unable to find branch tip",P)throw Ge.SyncOrFetchError(n);return it!==void 0?{fetched:!0,metadata:{...Ae,...it}}:{fetched:!1,metadata:Ae}}if(Qe.branch.sha!==Ae.HEAD.branch.sha&&(it={...it,HEAD:{...Ae.HEAD,branch:{...Ae.HEAD.branch,sha:Qe.branch.sha},detached:void 0}}),Qe.branch.sha===((f=r==null?void 0:r.to)!=null?f:Ae.HEAD.sha))return Le=" \u2022 Up to date",Ae.state!==void 0||it!==void 0?{fetched:!0,metadata:{...Ae,...it,state:void 0}}:{fetched:!1,metadata:Ae};he.logStep("Fetching upstream changes");try{const $e=await this.getAheadBehindState(e,Ae,{base:(u=r==null?void 0:r.to)!=null?u:Ae.HEAD.sha,head:(D=(F=(h=it==null?void 0:it.HEAD)==null?void 0:h.branch)==null?void 0:F.sha)!=null?D:Ae.HEAD.branch.sha});return Le=` \u2022 Changes detected; ${$e==null?void 0:$e.behind} commits behind`,{fetched:!0,metadata:{...Ae,...it,state:$e?{ahead:$e.ahead,behind:$e.behind,incomingChanges:$e.incomingChanges}:void 0}}}catch($e){if(Le=` \u2022 Failed fetching upstream changes; ${String($e)}`,P)throw Ge.SyncOrFetchError(n);return it!==void 0?{fetched:!0,metadata:{...Ae,...it}}:{fetched:!1,metadata:Ae}}}finally{he.stop(Le?{suffix:Le}:void 0)}}async fork(e){try{const{repo:{owner:n,name:r}}=await this.getMetadata(e),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:n,repo:r});let o;for(;;){try{if(o=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),o!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(n){throw X.error(n),n}}async getBranch(e,n){try{const{repo:{owner:r,name:i}}=await this.getMetadata(e),o=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
						refUpdateRule {
							viewerCanPush
							requiredApprovingReviewCount
						}
					}
				}
			}`,s=await this.graphql(o,{owner:r,repo:i,qualifiedName:n.startsWith("refs/heads/")?n:`refs/heads/${n}`});return(s==null?void 0:s.repository)?{type:Gi.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl,locked:s.repository.ref.refUpdateRule?!s.repository.ref.refUpdateRule.viewerCanPush||s.repository.ref.refUpdateRule.requiredApprovingReviewCount>0:void 0}:void 0}catch(r){return}}async getBranches(e,n){var r,i,o;try{const{repo:{owner:s,name:l}}=await this.getMetadata(e),f=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				refUpdateRule {
					viewerCanPush
					requiredApprovingReviewCount
				}
				target {
					oid
					commitUrl
					... on Commit {
						committedDate
					  }
				}
			}
		}
	}
}`,u=await this.graphql(f,{owner:s,repo:l,branchQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(u===void 0)return{branches:[]};const h=(o=u.repository)==null?void 0:o.refs;if(h===void 0)return{branches:[]};const F=h.nodes.map(D=>({type:Gi.Head,name:D.name,commit:D.target.oid,commitUrl:D.target.commitUrl,committedDate:new Date(D.target.committedDate),locked:D.refUpdateRule?!D.refUpdateRule.viewerCanPush||D.refUpdateRule.requiredApprovingReviewCount>0:void 0}));return{paging:{cursor:h.pageInfo.endCursor,more:h.pageInfo.hasNextPage},branches:F}}catch(s){return{branches:[]}}}async getCommit(e,n){var r;try{const{HEAD:i,repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;n.toUpperCase()==="HEAD"&&(n=i.sha);const f=await this.graphql(l,{owner:o,repo:s,ref:n});if(f===void 0)return;const u=(r=f.repository)==null?void 0:r.object;return u===void 0?void 0:{hash:u.oid,message:u.message,parents:u.parents.nodes.map(h=>h.oid),authorDate:new Date(u.author.date),authorEmail:u.author.email,authorName:u.author.name,commitDate:new Date(u.committer.date)}}catch(i){return}}async getCommits(e,n){var r,i,o;try{const{HEAD:s,repo:{owner:l,name:f}}=await this.getMetadata(e),u=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let h=n==null?void 0:n.ref;(h==null?void 0:h.toUpperCase())==="HEAD"&&(h=s.sha);const F=await this.graphql(u,{owner:l,repo:f,ref:h,cursor:n==null?void 0:n.cursor,path:n==null?void 0:n.path,limit:Math.min(100,(r=n==null?void 0:n.limit)!=null?r:100)});if(F===void 0)return;const D=(o=(i=F.repository)==null?void 0:i.object)==null?void 0:o.history;if(D===void 0)return;const P=D.nodes.map(oe=>({hash:oe.oid,message:oe.message,parents:oe.parents.nodes.map(he=>he.oid),authorDate:new Date(oe.author.date),authorEmail:oe.author.email,authorName:oe.author.name,commitDate:new Date(oe.committer.date)}));return{paging:{cursor:D.pageInfo.endCursor,more:D.pageInfo.hasNextPage},commits:P}}catch(s){return}}async getBlobContent(e,n){try{const r=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:e.owner,repo:e.name,file_sha:n});return kr(r.data.content)}catch(r){throw X.logLevel===et.Debug&&X.error(r),r}}async getFileContent(e,n,r){try{let i;const o=this.getProviderRootUri(e);if(n&&r&&!this.hasFileTree(e,n)){r.startsWith("/")&&(r=r.slice(1));let s=(0,Fu.dirname)(r);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(o,n,{path:s,recursive:!1})).get(r)}else{const[s,{path:l}]=await Promise.all([this.getFileTree(e,n),r?{path:void 0}:this.providerService.getMetadata(e)]);i=await s.get(r!=null?r:l)}if((i==null?void 0:i.sha)===void 0)throw c.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw X.logLevel===et.Debug&&X.error(i),i}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,n){var r,i,o,s;const l=this.getBatchApiUrl(e),f=(await this.ensureAuthenticated()).accessToken,u=[],h=await uo(l,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${f}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:n.map(F=>({oid:F.oid,size:F.size}))})});if(h.ok){const F=await h.json();if(F.objects.length!==n.length)throw Ge.CommitFailedError();for(let D=0;D<n.length;D++){const P=F.objects[D],oe=n[D];if((i=(r=P.actions)==null?void 0:r.upload)==null?void 0:i.href){const{href:he,header:Le}=P.actions.upload;if((await uo(he,{method:"PUT",body:oe.binaryContent,headers:{"Content-Type":"application/octet-stream",...Le}})).ok&&((s=(o=P.actions)==null?void 0:o.verify)==null?void 0:s.href)&&!(await uo(P.actions.verify.href,{method:"POST",headers:P.actions.verify.header})).ok)throw Ge.CommitFailedError()}u.push({path:oe.path,contents:M(oe.oid,oe.size)})}}return u}async getLfsContent(e,n){var r,i;const{oid:o,size:s}=N(n),l=this.getBatchApiUrl(e),f=(await this.ensureAuthenticated()).accessToken;try{const u=await uo(l,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${f}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:o,size:Number(s)}]})});if(u.ok){const F=(i=(r=(await u.json()).objects[0].actions)==null?void 0:r.download)==null?void 0:i.href;if(F)return c.window.withProgress({location:c.ProgressLocation.Window},(D,P)=>Ks(F,{method:"GET"},void 0,P,D))}return n}catch(u){return X.error(u),n}}async getFileList(e,n,r){const i=new Ee(`GitHub.getFileList(${e.toString()}${r?`, ${r}`:""})`);try{const{repo:{owner:o,name:s},HEAD:{sha:l}}=await this.getMetadata(e),f=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:o,repo:s,treeish:`${r!=null?r:l}${n?`:${n}`:""}`});return f.status!==200?[]:f.data}catch(o){return X.error(o),[]}finally{i.stop()}}hasFileTree(e,n){return n?this.fileTreeCache.has(this.asFileTreeKey(e,n)):this.getMetadata(e).then(r=>this.fileTreeCache.has(this.asFileTreeKey(e,r.HEAD.sha)))}async getFileTree(e,n,r){var i,o,s,l;const f=this.providerService.isInWorkspace(e);let u=f,h,F,D;if(u||!n){const Le=(o=(i=r==null?void 0:r.prefetched)==null?void 0:i.metadata)!=null?o:this.getMetadata(e);h=f?this.getFileTreePermissions(e,Le):void 0;let Ae;({repo:F,HEAD:{sha:Ae},timestamp:D}=(s=r==null?void 0:r.prefetched)!=null?s:await Le),n||(n=Ae)}else({repo:F}=(l=r==null?void 0:r.prefetched)!=null?l:this.providerService.getVirtualUriMetadata(e)),D=Date.now();const P=this.asFileTreeKey(e,n);this.fileTreesToCache.has(P)&&(u=!0),this.fileTreesToCache.add(P);const oe=this.getProviderRootUri(e),he=new Ee(`GitHub.getFileTree(${P}): ${e.toString()}`,{log:!1,logLevel:et.Debug});try{let Le=a(function(){var Qe;const it=new Ee(`GitHub.createFileTree(${P})`);let $e,ft;u&&f&&($e=new c.EventEmitter,ft=c.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>$e.fire()),this.tarPit.onDidDownloadTar(ct=>$e.fire({rootUri:this.getProviderRootUri(ct.rootUri),sha:ct.sha}))));const It={dispose:()=>ft==null?void 0:ft.dispose(),permissions:h,getContent:async(ct,_t)=>{const jt=new Ee("getFileContents"),at=Ne.get("experimental.fs.useTars");if(at==="always"||at==="ifAvailable"){const kn=await this.tarPit.getInMemoryTar(oe,n);if(kn){const Er=kn.entryMap.get(_t);if(Er)return jt.stop({message:`Retrieved ${_t} from in-memory tar with rootUri=${oe.toString()}, ref=${n==null?void 0:n.toString()}`}),Er.dataAsBytes}}let $t=!1;return new Promise((kn,Er)=>{this.getBlobContent(F,ct.sha).then(vr=>{$t||(jt.stop({message:`Retrieved ${_t} from web`}),$t=!0,kn(vr))},vr=>Er(vr)),at!=="never"&&this.tarPit.getCachedTar(oe,n).then(vr=>vr===void 0&&at==="always"&&!$t?this.tarPit.getTar(oe,!1,n):vr).then(vr=>{var Yi;const di=(Yi=vr==null?void 0:vr.entryMap.get(_t))==null?void 0:Yi.dataAsBytes;di&&!$t&&(jt.stop({message:`Retrieved ${_t} from tar`}),$t=!0,kn(di))},vr=>{})})},getTree:async(ct,_t)=>{const jt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:F.owner,repo:F.name,recursive:_t?"1":void 0,tree_sha:`${n}${ct?`:${ct}`:""}`});return jt.data.truncated?{sha:jt.data.sha,truncated:!0}:{sha:jt.data.sha,truncated:!1,tree:Gn(jt.data.tree,at=>{var $t;return{path:at.path,item:{mode:at.mode,sha:at.sha,stat:{type:Gh(at.type),size:($t=at.size)!=null?$t:0,ctime:0,mtime:D,permissions:void 0}}}})}},onDidTriggerContentCaching:$e==null?void 0:$e.event,tryCachingContent:u&&f?async ct=>{const _t=Ne.get("experimental.fs.useTars");if(_t!=="always"&&_t!=="ifAvailable")return!1;const jt=new Ee(`FileTree.loadAllContent(${n})`);let at;try{let $t;if(_t==="ifAvailable"){if(jt.logStep("Tar cache query"),$t=await this.tarPit.getCachedTar(oe,n),$t===void 0)return at=" \u2022 No cached Tar",!1}else jt.logStep("Tar query"),$t=await this.tarPit.getTar(oe,!1,n);jt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const kn of $t.entries){const Er=ct(kn.header.fullFileName);if(Er===void 0)continue;const vr=kn.dataAsBytes;Er.getContent=()=>vr}return!0}catch($t){return at=` \u2022 Failed ${String($t)}`,!1}finally{jt.stop(at?{suffix:at}:void 0)}}:void 0};try{return new tl(oe,n,D,It,{path:r==null?void 0:r.path,recursive:(Qe=r==null?void 0:r.recursive)!=null?Qe:u,preload:u||(r==null?void 0:r.recursive)})}catch(ct){return X.error(ct),new tl(oe,n,D,void 0)}finally{it.stop()}},"createFileTree"),Ae=this.fileTreeCache.get(P);return Ae!==void 0||(Ae=Le.call(this),u&&this.fileTreeCache.set(P,Ae)),Ae}finally{he.stop()}}async getFileTreePermissions(e,n){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,n)).display===ee.Edit)return;const i=await this.providerService.getIndexMetadata(e);return ne.isActive(i)?c.FilePermission.Readonly:void 0}async getFork(e){var n,r,i;try{const{repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,f=await this.graphql(l,{owner:o,repo:s});if(f===void 0)return;const[u]=(i=(r=(n=f.repository)==null?void 0:n.forks)==null?void 0:r.nodes)!=null?i:[];return u===void 0?void 0:{name:`${u.owner.login}/${u.name}`,repo:{owner:u.owner.login,name:u.name},url:u.url}}catch(o){return}}async getIncomingChanges(e){var n,r;return(r=(n=(await this.getMetadata(e)).state)==null?void 0:n.incomingChanges)!=null?r:[]}async compareCommits(e,n){const r=await this.getMetadata(e),i=await this.getAheadBehindState(e,r,{base:n.base,head:n.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(e,n,r){var i,o,s,l,f;const{base:u,head:h}={base:n.HEAD.sha,head:(i=n.HEAD.branch)==null?void 0:i.sha,...r},F=new Ee(`GitHub.getAheadBehindState(${e.toString()}, base=${u}, head=${h})`);let D,P;try{if(!h){D=` \u2022 Skipped; Unsupported HEAD type (${n.HEAD.type})`;return}const oe=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:n.repo.owner,repo:n.repo.name,base:u,head:h}),he=[];for(const Le of(o=oe.data.files)!=null?o:[])switch(Le.status){case"added":case"copied":he.push({uri:c.Uri.joinPath(e,Le.filename),type:z.Created});break;case"removed":he.push({uri:c.Uri.joinPath(e,Le.filename),type:z.Deleted});break;case"modified":he.push({uri:c.Uri.joinPath(e,Le.filename),type:z.Changed});break;case"renamed":he.push({uri:c.Uri.joinPath(e,Le.filename),type:z.Created}),he.push({uri:c.Uri.joinPath(e,Le.previous_filename),type:z.Deleted});break;default:X.warn(`GitHub.getAheadBehindState(${e.toString()}, base=${u}, head=${h}): Unknown file status encountered '${Le.status}'`);break}return P={ahead:(s=oe.data.behind_by)!=null?s:0,behind:(l=oe.data.ahead_by)!=null?l:0,incomingChanges:he},P}catch(oe){throw D=` \u2022 Failed; ${String(oe)}`,X.error(oe),oe}finally{F.stop({suffix:D!=null?D:` \u2022 ${(f=P==null?void 0:P.behind)!=null?f:0} commits behind`})}}async getObjectDetails(e,n,r){var i;try{const o=await this.getFileTree(e,n);r?r=this.providerService.getRelativeFilePath(e,this.providerService.createRelativeUri(e,r)):{path:r}=await this.providerService.getMetadata(e);const s=await o.get(r);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${r} in ${n}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(o){throw X.error(o),o}}async getPullRequest(e,n){const{repo:{owner:r,name:i}}=await this.getMetadata(e);return this.getPullRequestCore(r,i,n)}async getPullRequestCore(e,n,r){var i,o,s,l,f,u,h;try{const F=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,D=await this.graphql(F,{owner:e,repo:n,number:Number(r)}),P=(i=D==null?void 0:D.repository)==null?void 0:i.pullRequest;return P?{author:{name:P.author.login,avatarUrl:P.author.avatarUrl,url:P.author.url},closedAt:P.closedAt?new Date(P.closedAt):void 0,mergedAt:P.mergedAt?new Date(P.mergedAt):void 0,id:P.number.toString(),repo:{name:P.repository.name,owner:P.repository.owner.login},state:ol(P.state),title:P.title,updatedAt:new Date(P.updatedAt),url:P.permalink,refs:{base:{owner:P.baseRepository.owner.login,repo:P.baseRepository.name,branch:P.baseRefName,sha:P.baseRefOid,exists:P.baseRef!=null},head:{owner:(f=(l=(o=P.headRepository)==null?void 0:o.owner.login)!=null?l:(s=P.headRepositoryOwner)==null?void 0:s.login)!=null?f:"<unknown>",repo:(h=(u=P.headRepository)==null?void 0:u.name)!=null?h:P.baseRepository.name,branch:P.headRefName,sha:P.headRefOid,exists:P.headRef!=null}}}:void 0}catch(F){X.error(F);return}}async getPullRequestForBranch(e,n,r){var i,o,s,l,f;try{const{repo:{owner:u,name:h}}=await this.getMetadata(e),F=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,D=await this.graphql(F,{owner:u,repo:h,branch:n,maxCount:(i=r==null?void 0:r.maxCount)!=null?i:1,states:Kh(r==null?void 0:r.include)}),P=(f=(l=(s=(o=D==null?void 0:D.repository)==null?void 0:o.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:l.nodes)==null?void 0:f.filter(he=>!he.repository.isFork||he.repository.owner.login===u);if(P==null||P.length===0)return;P.length>1&&P.sort((he,Le)=>(he.repository.owner.login===u?-1:1)-(Le.repository.owner.login===u?-1:1)||(he.state==="OPEN"?-1:1)-(Le.state==="OPEN"?-1:1)||new Date(Le.updatedAt).getTime()-new Date(he.updatedAt).getTime());const[oe]=P;return{author:{name:oe.author.login,avatarUrl:oe.author.avatarUrl,url:oe.author.url},closedAt:oe.closedAt?new Date(oe.closedAt):void 0,mergedAt:oe.mergedAt?new Date(oe.mergedAt):void 0,id:oe.number.toString(),repo:{name:oe.repository.name,owner:oe.repository.owner.login},state:ol(oe.state),title:oe.title,updatedAt:new Date(oe.updatedAt),url:oe.permalink}}catch(u){X.error(u);return}}async getTags(e,n){var r,i,o;try{const{repo:{owner:s,name:l}}=await this.getMetadata(e),f=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,u=await this.graphql(f,{owner:s,repo:l,tagQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(u===void 0)return{tags:[]};const h=(o=u.repository)==null?void 0:o.refs;if(h===void 0)return{tags:[]};const F=h.nodes.map(D=>({type:Gi.Tag,name:D.name,commit:D.target.oid,commitUrl:D.target.commitUrl}));return{paging:{cursor:h.pageInfo.endCursor,more:h.pageInfo.hasNextPage},tags:F}}catch(s){return{tags:[]}}}async loadWorkspaceContents(e){try{return await this.tarPit.getTar(e,!1,void 0),!0}catch(n){return X.error(n),!1}}async getTarGz(e,n,r){const{repo:{owner:i,name:o}}=await this.getMetadata(e),s=await this.ensureAuthenticated(),l=Ne.get("indexing.verboseDownloadNotification");return c.window.withProgress({location:l?c.ProgressLocation.Notification:c.ProgressLocation.Window,cancellable:!0,title:c.l10n.t("Downloading repository index")},async(f,u)=>{try{if(Sn){let D;try{const Le=await this.tarballProxyEndpoint;Le!==void 0&&(D=Le.replace("{owner}",i).replace("{repo}",o).replace("{sha}",n))}catch{}if(!D)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const oe=await(await Ou(D,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},u)).text();return await Ks(oe,{},r,u,f)}const h=`https://api.github.com/repos/${i}/${o}/tarball/${n}`;return await Ks(h,{headers:{Authorization:`Bearer ${s.accessToken}`}},r,u,f)}catch(h){throw X.error(h),h}})}async queryRepositoryObject(e,n,r,i){var o,s;try{const{repo:{owner:l,name:f},HEAD:{sha:u},path:h}=await this.providerService.getMetadata(e),F=`query ${n}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${r}
		}
	}
}`,D=await this.graphql(F,{owner:l,repo:f,expression:i!=null?i:`${u}:${h}`});return(s=(o=D==null?void 0:D.repository)==null?void 0:o.object)!=null?s:void 0}catch(l){X.error(l);return}}async repositoryObjectExists(e,n){return await this.queryRepositoryObject(e,"exists","			__typename",n)!==void 0}async searchPullRequestsQuery(e,n){var r;function i(o){function s(l,f){return{number:l.number,title:l.title,repoWithOwner:l.repository.nameWithOwner,reasons:f?[f]:[],url:l.url}}return a(s,"toResult"),Di([...o.assigned.nodes.filter(l=>l!==null).map(l=>s(l,"assigned")),...o.reviewRequested.nodes.filter(l=>l!==null).map(l=>s(l,"review requested")),...o.mentioned.nodes.filter(l=>l!==null).map(l=>s(l,"mentioned")),...o.authored.nodes.filter(l=>l!==null).map(l=>s(l,"authored")),...Je(o.viewer.repositories.nodes,l=>l.pullRequests.nodes.filter(f=>f!==null).map(f=>s(f)))],l=>l.url,(l,f)=>(f.reasons.length!==0&&l.reasons.push(...f.reasons),l))}a(i,"processQueryResults");try{const o=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;e=e.trim(),(n==null?void 0:n.user)&&(e+=` user:${n.user}`);const s=await this.graphql(o,{authored:(e?`${e} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(e?`${e} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(e?`${e} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(e?`${e} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof ca?{results:i(o.data),hasSAMLProtectedResults:((r=o.errors)==null?void 0:r.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(e,n){var r;function i(o){var s,l,f;const u=Di((n==null?void 0:n.user)?[...o.search.nodes,...o.viewer.repositories.nodes]:[...o.viewer.repositories.nodes,...o.search.nodes],F=>F==null?void 0:F.url),h=[];for(const F of u)F!==null&&h.push({repoWithOwner:F.nameWithOwner,owner:F.nameWithOwner.split("/")[0],repo:F.nameWithOwner.split("/")[1],description:(s=F.description)!=null?s:void 0,url:F.url,fork:(f=(l=F.parent)==null?void 0:l.nameWithOwner)!=null?f:void 0,stars:F.stargazerCount});return h}a(i,"processQueryResults");try{const o=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(n==null?void 0:n.user)&&(e+=` user:${n.user}`),(n==null?void 0:n.owner)&&(e+=` owner:${n.owner}`),(n==null?void 0:n.sort)&&(e+=` sort:${n.sort}`),e+=" fork:true";const s=await this.graphql(o,{search:e.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof ca?{results:i(o.data),hasSAMLProtectedResults:((r=o.errors)==null?void 0:r.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(e,n,r){var i,o,s;const{repo:{owner:l,name:f},HEAD:u,defaultBranch:h}=await this.getMetadata(n),F=[];((i=u.branch)==null?void 0:i.name)!==h.name&&F.push(c.l10n.t("Unable to search {0} without index, falling back to {1}.",(s=(o=u.branch)==null?void 0:o.name)!=null?s:u.detached.name,h.name));try{const P=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${e} repo:${l}/${f}`}),oe=new c.Range(0,0,0,0),he=[];let Le=0,Ae;for(const Qe of P.data.items)for(const it of Qe.text_matches){if(Le++,r.maxResults!==void 0&&Le>r.maxResults)return{matches:he,limitHit:!0};Ae={path:Qe.path,ranges:[],preview:it.fragment,matches:[]};for(const $e of it.matches){let ft=0,It=0,ct=0;for(let _t=0;_t<$e.indices[1];_t++)_t===$e.indices[0]&&(It=ct),it.fragment[_t]===`
`?(ft++,ct=0):ct++;Ae.ranges.push(oe),Ae.matches.push(new c.Range(ft,It,ft,ct))}he.push(Ae)}return{matches:he,limitHit:!1,warnings:F}}catch(D){return{matches:[],limitHit:!0}}}async switchTo(e,n,r){const{name:i,repo:o,HEAD:{branch:s}}=await this.getMetadata(e);let l;if(!(n!==void 0&&(typeof n=="string"?(n==null?void 0:n.startsWith("refs/heads/"))?(l={type:Se.Tree,id:n.substr(11)},n=n.substr(11)):(n==null?void 0:n.startsWith("refs/tags/"))?l={type:Se.Tree,id:n.substr(10)}:l={type:Se.Tree,id:n}:l={...n,type:n.type===Se.Branch||n.type===Se.Tag?Se.Tree:n.type},(s==null?void 0:s.name)===l.id)))return{name:i,uri:this.providerService.createVirtualUri(e,{repo:o,ref:l}),location:(r==null?void 0:r.openInNewWindow)?Ve.NewWindow:Ve.CurrentWindow}}async sync(e,n,r){var i,o,s,l,f,u;const h=new Ee(`GitHub.sync(${e.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let F;try{const{metadata:D}=await this.fetchCore(e,!0,{to:r.to});if(D.HEAD.detached){F=" \u2022 Skipped; detached HEAD";return}if(((o=(i=D==null?void 0:D.state)==null?void 0:i.behind)!=null?o:0)>0&&await n.hasChanges(e)){h.logStep("Fetching upstream changes");const P=[],oe=(l=(s=D.state)==null?void 0:s.incomingChanges)!=null?l:[];if(oe.length>0){const he=await n.getChanges(e);for(const Le of he){const Ae=this.providerService.getRelativeFilePath(e,Le.uri),Qe=oe.find(it=>this.providerService.getRelativeFilePath(e,it.uri)===Ae);Qe!==void 0&&P.push({path:Ae,current:Le,incomingType:Qe.type})}}if(P.length>0)switch(r.conflictResolution){case de.KeepCurrent:h.logStep("Syncing (keep) upstream changes",{message:`: ${P.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const he of P)await n.keep(he.current.uri,{type:he.incomingType,providerUri:al(D,D.HEAD.branch.sha,he.path)});break;case de.DiscardCurrent:h.logStep("Syncing (discard) upstream changes",{message:`: ${P.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const he of P)await n.discard(he.current.uri);break;case de.Merge:h.logStep("Syncing (merge) upstream changes",{message:`: ${P.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const he of P)await n.merge(he.current.uri,{type:he.incomingType,providerUri:al(D,D.HEAD.branch.sha,he.path)},{providerUri:al(D,D.HEAD.sha,he.path)});break;case de.Abort:default:throw h.logStep("Syncing (abort) upstream changes",{message:`: ${P.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(e,D),Ge.SyncConflictsError()}}F=` \u2022 to=${(f=r.to)!=null?f:D.HEAD.branch.sha}`,await this.fastForwardTo(e,(u=r.to)!=null?u:D.HEAD.branch.sha,D)}finally{h.stop(F?{suffix:F}:void 0)}}async fastForwardTo(e,n,r){if(r.HEAD.detached)throw Ge.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===n&&r.state===void 0)return;const i=this.asFileTreeKey(e,r.HEAD.sha),o=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),o==null||o.dispose(),X.log(`Fast forward to ${n}; rootUri=${e.toString()}`),await this.providerService.updateMetadata(e,{...r,HEAD:{...r.HEAD,detached:void 0,sha:n},state:n!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),n!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(e,!1,{to:n})}async getBranchTips(e,n){try{const{repo:{owner:r,name:i},HEAD:o}=await this.getMetadata(e);n===void 0&&(o.type===J.RemoteBranch?n=`${o.branch.remote.repo.owner}/${o.branch.remote.repo.name}:refs/heads/${o.branch.name}`:n=o.branch?`refs/heads/${o.branch.name}`:"");const s=Xu.exec(n);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(r,i,n);const l=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,f=await this.graphql(l,{owner:r,repo:i,ref:n});if((f==null?void 0:f.repository)==null)return;const{defaultBranchRef:u,ref:h}=f.repository;return!u&&!h?void 0:{defaultBranch:u?{sha:u.target.oid}:void 0,branch:h?{sha:h.target.oid}:void 0}}catch(r){return}}async getRemoteBranchTips(e,n,r){try{const i=Xu.exec(r);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:o,remoteRepo:s,remoteRef:l}=i.groups;s||(s=n);const f=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,u=await this.graphql(f,{owner:e,repo:n,remoteOwner:o,remoteRepo:s,remoteRef:l});if((u==null?void 0:u.repository)==null||(u==null?void 0:u.remote)==null)return;const{repository:{defaultBranchRef:h},remote:{ref:F}}=u;return!h&&!F?void 0:{defaultBranch:h?{sha:h.target.oid}:void 0,branch:F?{sha:F.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(e,n,r,i){var o,s,l,f,u,h,F,D,P,oe,he,Le,Ae,Qe,it,$e;try{const ft=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,It=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${ft}
		}
	}
}`;let ct,_t;try{const kn=await this.graphql(It,{owner:e,repo:n,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(o=i==null?void 0:i.pr)!=null?o:0});if((kn==null?void 0:kn.repository)==null)return;({repository:_t,viewer:{login:ct}}=kn)}catch(kn){if((i==null?void 0:i.pr)&&kn instanceof ca&&((l=(s=kn.errors)==null?void 0:s[0])==null?void 0:l.type)==="NOT_FOUND"&&((f=kn.errors[0])==null?void 0:f.message.includes("Could not resolve to a PullRequest"))){({repository:_t,viewer:{login:ct}}=kn.data);try{const Er=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${ft}
			}
		}
	}
}`,{owner:e,repo:n,pr:i==null?void 0:i.pr});if(((h=(u=Er==null?void 0:Er.repository)==null?void 0:u.parent)==null?void 0:h.pullRequest)==null)throw kn;_t.pullRequest=Er.repository.parent.pullRequest}catch{throw kn}}else throw kn}const jt=(F=_t.defaultBranchRef)!=null?F:void 0;if((jt==null?void 0:jt.name)==null)return;const at=_t.pullRequest;let $t;if(_t==null?void 0:_t.ref)$t={prefix:_t.ref.prefix,name:_t.ref.name,sha:"oid"in _t.ref.target?_t.ref.target.oid:_t.ref.target.target.oid};else if(at==null?void 0:at.headRef){let kn=sl(at.headRepository.viewerPermission);kn<te.Write&&at.maintainerCanModify&&sl(_t.viewerPermission)>=te.Write&&(kn=te.WriteToPullRequest),$t=at.headRepository.owner.login===e?{prefix:"refs/heads/",name:at==null?void 0:at.headRef.name,sha:(P=(D=at.mergeCommit)==null?void 0:D.oid)!=null?P:at==null?void 0:at.headRefOid}:{prefix:"refs/remotes/",name:at==null?void 0:at.headRef.name,sha:(he=(oe=at.mergeCommit)==null?void 0:oe.oid)!=null?he:at==null?void 0:at.headRefOid,remote:{name:`${at.headRepository.owner.login}/${at.headRepository.name}`,accessLevel:kn,repo:{owner:at.headRepository.owner.login,name:at.headRepository.name}}}}else(at==null?void 0:at.baseRef)?($t={prefix:"refs/heads/",name:at==null?void 0:at.baseRef.name,sha:(Ae=(Le=at.mergeCommit)==null?void 0:Le.oid)!=null?Ae:at==null?void 0:at.baseRefOid},r&&(X.log("Did not find a headRef for PR, falling back to baseRef",at.baseRef),Xr.showPullRequestHeadNotFoundMessage(`${e}/${n}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&($t={prefix:"refs/heads/",name:jt.name,sha:jt.target.oid});return{user:ct,repo:{owner:_t.owner.login,name:_t.name},accessLevel:sl(_t.viewerPermission),ref:$t,defaultBranch:{name:jt.name,sha:jt.target.oid},cloneUrl:{http:_t.url,ssh:_t.sshUrl},pullRequest:at?{id:at.number.toString(),state:ol(at.state),title:at.title}:void 0}}catch(ft){if(ft instanceof ca)switch((it=(Qe=ft.errors)==null?void 0:Qe[0])==null?void 0:it.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&(($e=ft.errors[0])==null?void 0:$e.message.includes("Could not resolve to a PullRequest"))){const ct=new ns(ft,`${e}/${n}`,`#${i==null?void 0:i.pr}`);throw r&&Xr.showPullRequestNotFoundMessage(ct.name,ct.id),ct}const It=new vo(ft,`${e}/${n}`);throw r?Ge.InvalidRepositoryError():It}case"FORBIDDEN":{const It=new po(ft,`${e}/${n}`);throw r&&Xr.showRepositoryForbiddenMessage(It.name,()=>this.reauthenticate()),It}}X.error(ft,`Failed to get repository info for '${e}/${n}'`),!this.handleRequestErrors(ft)&&r&&Xr.showUnableToOpenRepositoryMessage(ft);return}}async getSubmodules(e){var n,r,i;const{repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getRepository(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
	}
}`;try{const f=await this.graphql(l,{owner:o,repo:s});if((f==null?void 0:f.repository)==null)return[];const u=[];for(const h of(r=(n=f.repository.submodules)==null?void 0:n.nodes)!=null?r:[]){const F=(i=await this.createWorkspaceForRemoteUrl(h.gitUrl,void 0,!1))==null?void 0:i.uri;F&&u.push([h.path,F])}return u}catch(f){return[]}}async validateOwnerAndRepoAndSplitRefFromPath(e,n,r){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${r!=null?r:"HEAD"}`,{owner:e,repo:n});return[e,n]=i.data.name_with_owner.split("/"),r?{owner:e,repo:n,ref:{type:Se.Tree,id:i.data.ref},path:i.data.path}:{owner:e,repo:n}}catch(i){if(i instanceof Ni)switch(i.status){case 401:throw Ge.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw Xr.showRepositoryForbiddenMessage(`${e}/${n}`,()=>this.reauthenticate()),new po(i,`${e}/${n}`);case 404:throw i.message.includes("No ref found")&&r?Xr.showRepositoryNotFoundMessage(`${e}/${n}`,r,()=>{const o=this.getRemoteUri({repo:{owner:e,name:n}});c.commands.executeCommand("remoteHub.openRepository",o.toString())}):Xr.showRepositoryNotFoundMessage(`${e}/${n}`),new vo(i,`${e}/${n}`);case 409:throw Xr.showRepositoryEmptyMessage(`${e}/${n}`),new rs(i,`${e}/${n}`)}return}}asFileTreeKey(e,n){return`${U(this.getProviderRootUri(e))}:${n}`}}a(os,"GitHubRepositoryProvider"),Zu([Jt()],os.prototype,"ensureAuthenticated",1),Zu([Jt()],os.prototype,"octokit",1);function ol(t){switch(t){case"OPEN":return _e.Open;case"CLOSED":return _e.Closed;case"MERGED":return _e.Merged}}a(ol,"toPullRequestState");function Kh(t){if(t!==void 0)return t.map(e=>{switch(e){case _e.Open:return"OPEN";case _e.Closed:return"CLOSED";case _e.Merged:return"MERGED"}})}a(Kh,"fromPullRequestStates");var Ta;(function(t){t.ADMIN="ADMIN",t.MAINTAIN="MAINTAIN",t.WRITE="WRITE",t.TRIAGE="TRIAGE",t.READ="READ",t.NONE="NONE"})(Ta||(Ta={}));function sl(t){switch(t){case Ta.ADMIN:return te.Admin;case Ta.MAINTAIN:return te.Maintain;case Ta.WRITE:return te.Write;case Ta.TRIAGE:return te.Triage;case Ta.READ:return te.Read;default:return te.None}}a(sl,"permissionToAccessLevel");function Gh(t){switch(t&&(t=t.toLocaleLowerCase()),t){case"blob":return c.FileType.File;case"tree":case"commit":return c.FileType.Directory;default:return c.FileType.Unknown}}a(Gh,"typenameToFileType");function Yh(t){return{registerVirtualProviderService:function(e){Ze.configure("githubRepositories",t),X.configure(t,"GitHub Repositories",Ne.get("logLevel")),Ee.start("Time to root directory",{log:!1});const n=Hn.configure(t),r=new nn(t);try{const i=new ri(t.globalState),o=i.with(n),s=new xe(t.globalStorageUri,n),l=new sr(o),f=new ni(e,o,s,r,n);f.getWorkspacesWithChanges();const u=new Ji(e,i,f,n,t),h=new Au(t.globalStorageUri,e),F=new os(e,h),D=new lo(e,F,f,h,r);t.subscriptions.push(e.register("github","GitHub",F,D,i,f,l,u),F,D,new tt(F))}catch(i){throw X.error(i),An(t,i),i}}}}a(Yh,"activate")})(),module.exports=__webpack_exports__})();
